<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="python2.0这也是关于python的一些记录，与其他python不矛盾，也不一定相互独立。">
<meta property="og:type" content="article">
<meta property="og:title" content="python-2.0">
<meta property="og:url" content="http://example.com/2018/11/05/python-2.0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="python2.0这也是关于python的一些记录，与其他python不矛盾，也不一定相互独立。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-11-05T09:27:03.000Z">
<meta property="article:modified_time" content="2022-05-05T01:28:48.671Z">
<meta property="article:author" content="TianJiajie">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/2018/11/05/python-2.0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>python-2.0 | Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/11/05/python-2.0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="TianJiajie">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          python-2.0
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-11-05 17:27:03" itemprop="dateCreated datePublished" datetime="2018-11-05T17:27:03+08:00">2018-11-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-05-05 09:28:48" itemprop="dateModified" datetime="2022-05-05T09:28:48+08:00">2022-05-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="python2-0"><a href="#python2-0" class="headerlink" title="python2.0"></a>python2.0</h1><p>这也是关于python的一些记录，与其他python不矛盾，也不一定相互独立。<br><span id="more"></span></p>
<h2 id="1-python-matlab"><a href="#1-python-matlab" class="headerlink" title="1.python+matlab"></a>1.python+matlab</h2><p>python和matlab关于.mat数据的交换</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scipy.io.loadmat(file_name, mdict=<span class="literal">None</span>, appendmat=<span class="literal">True</span>, **kwargs)</span><br><span class="line">scipy.io.savemat(file_name, mdict, appendmat=<span class="literal">True</span>, <span class="built_in">format</span>=<span class="string">&#x27;5&#x27;</span>, </span><br><span class="line">                 long_field_names=<span class="literal">False</span>, do_compression=<span class="literal">False</span>, oned_as=<span class="string">&#x27;row&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="2-python与文件IO"><a href="#2-python与文件IO" class="headerlink" title="2.python与文件IO"></a>2.python与文件IO</h2><p>主要参考：python cookbook</p>
<h2 id="2-1-文本-txt"><a href="#2-1-文本-txt" class="headerlink" title="2.1 文本.txt"></a>2.1 文本.txt</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># t:rt模式下，python在读取文本时会自动把\r\n转换成\n.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># read</span></span><br><span class="line"><span class="comment"># read the entire file as a single string</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;some.txt&#x27;</span>, <span class="string">&#x27;rt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = f.read()</span><br><span class="line"></span><br><span class="line"><span class="comment"># read lines</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;some.txt&#x27;</span>, <span class="string">&#x27;rt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line"></span><br><span class="line"><span class="comment">#write</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;some.txt&#x27;</span>, <span class="string">&#x27;wt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(text1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;some.txt&#x27;</span>, <span class="string">&#x27;wt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(line1, file=f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 换行模式，默认情况下，python会自动识别，或者传入newline,</span></span><br><span class="line"><span class="comment"># newline可以取的值有None, \n, \r, ‘\r\n&#x27;，用于区分换行符，但是这个参数只对文本模式有效；</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;some.txt&#x27;</span>, <span class="string">&#x27;rt&#x27;</span>, newline=<span class="string">&#x27;&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 编码错误问题 errors: replace, ignore</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;sample.txt&#x27;</span>, <span class="string">&#x27;rt&#x27;</span>, encoding=<span class="string">&#x27;ascii&#x27;</span>, errors=<span class="string">&#x27;replace&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<h3 id="2-2-print的分隔符与行尾符"><a href="#2-2-print的分隔符与行尾符" class="headerlink" title="2.2 print的分隔符与行尾符"></a>2.2 print的分隔符与行尾符</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print seq end</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ACME&#x27;</span>, <span class="number">50</span>, seq=<span class="string">&#x27;,&#x27;</span>, end=<span class="string">&#x27;!!\n&#x27;</span>)</span><br><span class="line">ACME,<span class="number">50</span>!!</span><br><span class="line"></span><br><span class="line">row = (<span class="string">&#x27;ACME&#x27;</span>, <span class="number">50</span>)</span><br><span class="line"><span class="built_in">print</span>(*row, seq=<span class="string">&#x27;,&#x27;</span>, end=<span class="string">&#x27;!!\n&#x27;</span>)</span><br><span class="line">ACME,<span class="number">50</span>!!</span><br></pre></td></tr></table></figure>
<h3 id="2-3-二进制数据"><a href="#2-3-二进制数据" class="headerlink" title="2.3 二进制数据"></a>2.3 二进制数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 二进制数据，比如图片、声音等</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;some.bin&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = f.read()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;some.bin&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">b&#x27;hello&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="2-4-模拟普通文件"><a href="#2-4-模拟普通文件" class="headerlink" title="2.4 模拟普通文件"></a>2.4 模拟普通文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 模拟文本文件</span></span><br><span class="line"><span class="keyword">import</span> io</span><br><span class="line">s = io.StringIO()</span><br><span class="line"><span class="comment"># s = io.StringIO(&#x27;hello world\n&#x27;)</span></span><br><span class="line">s.write(<span class="string">&#x27;hello world\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;this is a test&#x27;</span>, file=s)</span><br><span class="line">s.getvalue()</span><br><span class="line"><span class="string">&#x27;hello world\nthis is a test&#x27;</span></span><br><span class="line">s.read(<span class="number">4</span>)</span><br><span class="line">s.read()</span><br><span class="line"><span class="comment"># 模拟二进制文件</span></span><br><span class="line">s = io.BytesIO()</span><br><span class="line">s.write(<span class="string">b&#x27;binary data&#x27;</span>)</span><br><span class="line">s.getvalue()</span><br><span class="line"><span class="string">b&#x27;binary data&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-5-压缩文件"><a href="#2-5-压缩文件" class="headerlink" title="2.5 压缩文件"></a>2.5 压缩文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gzip,bz2</span></span><br><span class="line"><span class="keyword">import</span> gzip</span><br><span class="line"><span class="keyword">with</span> gzip.<span class="built_in">open</span>(<span class="string">&#x27;some.gz&#x27;</span>, <span class="string">&#x27;rt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    text = f.read()</span><br><span class="line"><span class="keyword">with</span> gzip.<span class="built_in">open</span>(<span class="string">&#x27;some.gz&#x27;</span>, <span class="string">&#x27;wt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(text)</span><br><span class="line">-------------------------------------</span><br><span class="line"><span class="keyword">import</span> bz2</span><br><span class="line"><span class="keyword">with</span> bz2.<span class="built_in">open</span>(<span class="string">&#x27;some.bz2&#x27;</span>, <span class="string">&#x27;rt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    text = f.read()</span><br><span class="line"><span class="keyword">with</span> bz2.<span class="built_in">open</span>(<span class="string">&#x27;some.bz2&#x27;</span>, <span class="string">&#x27;wt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(text)</span><br><span class="line">------------------------------------</span><br><span class="line"><span class="keyword">from</span> zipfile <span class="keyword">import</span> ZipFile</span><br><span class="line"><span class="keyword">with</span> ZipFile(zip_file) <span class="keyword">as</span> z:</span><br><span class="line">    z.extractall(path=save_dir)</span><br></pre></td></tr></table></figure>
<h3 id="2-6-csv"><a href="#2-6-csv" class="headerlink" title="2.6 csv"></a>2.6 csv</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># csv</span></span><br><span class="line"><span class="comment"># 其实namedtuple继承自OrderedDict有序字典</span></span><br><span class="line"><span class="comment"># read</span></span><br><span class="line">------</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;stock.csv&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="comment"># 第一种：row是列表，访问：row[0]</span></span><br><span class="line">    f_csv = csv.reader(f)</span><br><span class="line">    headers = <span class="built_in">next</span>(f_csv)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> f_csv:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 第二种：命名元组，访问：Row.Symbol</span></span><br><span class="line">    f_csv = csv.reader(f)</span><br><span class="line">    headers = <span class="built_in">next</span>(f_csv)</span><br><span class="line">    <span class="comment"># headers = [ re.sub(&#x27;[^a-zA-Z_]&#x27;, &#x27;_&#x27;, h) for h in next(f_csv) ]</span></span><br><span class="line">    Row = namedtuple(<span class="string">&#x27;Row&#x27;</span>, headers)</span><br><span class="line">    <span class="keyword">for</span> r <span class="keyword">in</span> f_csv:</span><br><span class="line">        row = Row(*r)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 第三种：字典序列，访问：row[&#x27;Sysbol&#x27;]</span></span><br><span class="line">    f_csv = csv.DictReader(f)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> f_csv:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># write</span></span><br><span class="line">-------</span><br><span class="line"><span class="comment"># 第一种：类表</span></span><br><span class="line">headers = [<span class="string">&#x27;Symbol&#x27;</span>,<span class="string">&#x27;Price&#x27;</span>,<span class="string">&#x27;Date&#x27;</span>,<span class="string">&#x27;Time&#x27;</span>,<span class="string">&#x27;Change&#x27;</span>,<span class="string">&#x27;Volume&#x27;</span>]</span><br><span class="line">rows = [(<span class="string">&#x27;AA&#x27;</span>, <span class="number">39.48</span>, <span class="string">&#x27;6/11/2007&#x27;</span>, <span class="string">&#x27;9:36am&#x27;</span>, -<span class="number">0.18</span>, <span class="number">181800</span>),</span><br><span class="line">        (<span class="string">&#x27;AIG&#x27;</span>, <span class="number">71.38</span>, <span class="string">&#x27;6/11/2007&#x27;</span>, <span class="string">&#x27;9:36am&#x27;</span>, -<span class="number">0.15</span>, <span class="number">195500</span>),</span><br><span class="line">        (<span class="string">&#x27;AXP&#x27;</span>, <span class="number">62.58</span>, <span class="string">&#x27;6/11/2007&#x27;</span>, <span class="string">&#x27;9:36am&#x27;</span>, -<span class="number">0.46</span>, <span class="number">935000</span>),</span><br><span class="line">        ]</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;stock.csv&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f_csv = csv.writer(f)</span><br><span class="line">    f_csv.writerow(headers)</span><br><span class="line">    f_csv.writerows(rows)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二种：字典</span></span><br><span class="line">headers = [<span class="string">&#x27;Symbol&#x27;</span>, <span class="string">&#x27;Price&#x27;</span>, <span class="string">&#x27;Date&#x27;</span>, <span class="string">&#x27;Time&#x27;</span>, <span class="string">&#x27;Change&#x27;</span>, <span class="string">&#x27;Volume&#x27;</span>]</span><br><span class="line">rows = [&#123;<span class="string">&#x27;Symbol&#x27;</span>:<span class="string">&#x27;AA&#x27;</span>, <span class="string">&#x27;Price&#x27;</span>:<span class="number">39.48</span>, <span class="string">&#x27;Date&#x27;</span>:<span class="string">&#x27;6/11/2007&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;Time&#x27;</span>:<span class="string">&#x27;9:36am&#x27;</span>, <span class="string">&#x27;Change&#x27;</span>:-<span class="number">0.18</span>, <span class="string">&#x27;Volume&#x27;</span>:<span class="number">181800</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;Symbol&#x27;</span>:<span class="string">&#x27;AIG&#x27;</span>, <span class="string">&#x27;Price&#x27;</span>: <span class="number">71.38</span>, <span class="string">&#x27;Date&#x27;</span>:<span class="string">&#x27;6/11/2007&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;Time&#x27;</span>:<span class="string">&#x27;9:36am&#x27;</span>, <span class="string">&#x27;Change&#x27;</span>:-<span class="number">0.15</span>, <span class="string">&#x27;Volume&#x27;</span>: <span class="number">195500</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;Symbol&#x27;</span>:<span class="string">&#x27;AXP&#x27;</span>, <span class="string">&#x27;Price&#x27;</span>: <span class="number">62.58</span>, <span class="string">&#x27;Date&#x27;</span>:<span class="string">&#x27;6/11/2007&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;Time&#x27;</span>:<span class="string">&#x27;9:36am&#x27;</span>, <span class="string">&#x27;Change&#x27;</span>:-<span class="number">0.46</span>, <span class="string">&#x27;Volume&#x27;</span>: <span class="number">935000</span>&#125;,</span><br><span class="line">        ]</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;stocks.csv&#x27;</span>,<span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f_csv = csv.DictWriter(f, headers)</span><br><span class="line">    f_csv.writeheader()</span><br><span class="line">    f_csv.writerows(rows)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以tab分割</span></span><br><span class="line">-----</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;stock.tsv&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f_tsv = csv.reader(f, delimiter=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> f_tsv:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 类型转换</span></span><br><span class="line">---------</span><br><span class="line"><span class="comment"># 第一种：tuple</span></span><br><span class="line">col_types = [<span class="built_in">str</span>, <span class="built_in">float</span>, <span class="built_in">str</span>, <span class="built_in">str</span>, <span class="built_in">float</span>, <span class="built_in">int</span>]</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;stocks.csv&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f_csv = csv.reader(f)</span><br><span class="line">    headers = <span class="built_in">next</span>(f_csv)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> f_csv:</span><br><span class="line">        <span class="comment"># Apply conversions to the row items</span></span><br><span class="line">        row = <span class="built_in">tuple</span>(convert(value) <span class="keyword">for</span> convert, value <span class="keyword">in</span> <span class="built_in">zip</span>(col_types, row))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二种：dict</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Reading as dicts with type conversion&#x27;</span>)</span><br><span class="line">field_types = [ (<span class="string">&#x27;Price&#x27;</span>, <span class="built_in">float</span>),</span><br><span class="line">                (<span class="string">&#x27;Change&#x27;</span>, <span class="built_in">float</span>),</span><br><span class="line">                (<span class="string">&#x27;Volume&#x27;</span>, <span class="built_in">int</span>) ]</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;stocks.csv&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> csv.DictReader(f):</span><br><span class="line">        row.update((key, conversion(row[key]))</span><br><span class="line">            <span class="keyword">for</span> key, conversion <span class="keyword">in</span> field_types)</span><br><span class="line">        <span class="built_in">print</span>(row)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 高级操作</span></span><br><span class="line">--------</span><br><span class="line"><span class="comment"># pandas.read_csv()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="2-7-json"><a href="#2-7-json" class="headerlink" title="2.7 json"></a>2.7 json</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># json</span></span><br><span class="line"><span class="comment"># write &amp; read</span></span><br><span class="line">--------------</span><br><span class="line"><span class="comment"># 第一种 dict----str</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">data = &#123;</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span> : <span class="string">&#x27;ACME&#x27;</span>,<span class="string">&#x27;shares&#x27;</span> : <span class="number">100</span>,</span><br><span class="line">        <span class="string">&#x27;price&#x27;</span> : <span class="number">542.23</span></span><br><span class="line">        &#125;</span><br><span class="line">json_str = json.dumps(data)</span><br><span class="line">daa = json.loads(json_str)</span><br><span class="line"><span class="comment"># 第二种 dict----file</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data.json&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(data, f)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="3-sys-path"><a href="#3-sys-path" class="headerlink" title="3. sys.path"></a>3. sys.path</h2><p>sys.path:动态地改变Python搜索路径</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.path.append(’引用模块的地址<span class="string">&#x27;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#或者</span></span><br><span class="line"><span class="string">import sys</span></span><br><span class="line"><span class="string">sys.path.insert(0, &#x27;</span>引用模块的地址<span class="string">&#x27;)</span></span><br></pre></td></tr></table></figure>
<h2 id="4-os-path"><a href="#4-os-path" class="headerlink" title="4. os.path"></a>4. os.path</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">os.path.abspath(path) <span class="comment">#返回绝对路径</span></span><br><span class="line">os.path.basename(path) <span class="comment">#返回文件名</span></span><br><span class="line">os.path.exists(path)  <span class="comment">#路径存在则返回True,路径损坏返回False</span></span><br><span class="line">os.path.dirname(path) <span class="comment">#返回文件路径</span></span><br><span class="line">os.path.expanduser(path)  <span class="comment">#把path中包含的&quot;~&quot;和&quot;~user&quot;转换成用户目录</span></span><br><span class="line">os.path.isabs(path)  <span class="comment">#判断是否为绝对路径</span></span><br><span class="line">os.path.isfile(path)  <span class="comment">#判断路径是否为文件</span></span><br><span class="line">os.path.isdir(path)  <span class="comment">#判断路径是否为目录</span></span><br><span class="line">os.path.join(path1[, path2[, ...]])  <span class="comment">#把目录和文件名合成一个路径</span></span><br><span class="line">os.path.samefile(path1, path2)  <span class="comment">#判断目录或文件是否相同</span></span><br><span class="line">os.path.split(path)  <span class="comment">#把路径分割成dirname和basename，返回一个元组</span></span><br><span class="line">os.path.splitext(path)  <span class="comment">#分割路径，返回路径名和文件扩展名的元组</span></span><br><span class="line">os.path.walk(path, visit, arg) </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="5-glob-glob"><a href="#5-glob-glob" class="headerlink" title="5. glob.glob"></a>5. glob.glob</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> glob</span><br><span class="line">listglob = []</span><br><span class="line">listglob = glob.glob(<span class="string">r&quot;/home/xxx/picture/*.png&quot;</span>)</span><br><span class="line">listglob.sort()</span><br><span class="line"><span class="built_in">print</span>(listglob)</span><br></pre></td></tr></table></figure>
<h2 id="6-argparse"><a href="#6-argparse" class="headerlink" title="6. argparse"></a>6. argparse</h2><p>参考链接：</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/guoyajie1990/article/details/76739977">https://blog.csdn.net/guoyajie1990/article/details/76739977</a></p>
</li>
<li><p>[x] 2018-01-15 自定义类型</p>
</li>
<li>[x] 2018-12-23 完善nargs</li>
</ul>
<p>不是很适合交互式调试 命令行参数<br>分为位置参数和选项参数</p>
<h3 id="位置参数"><a href="#位置参数" class="headerlink" title="位置参数"></a>位置参数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line">parser = argparse.ArgumentParser(description=<span class="string">&quot;say something about this application !!&quot;</span>)</span><br><span class="line">parser.add_argument(<span class="string">&#x27;name&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">int</span>,  <span class="built_in">help</span>=<span class="string">&quot;i can tell you how to set a name argument&quot;</span>)</span><br><span class="line"></span><br><span class="line">result = parser.parse_args()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(result.name)</span><br><span class="line"></span><br><span class="line">$python main.py taylor</span><br><span class="line">taylor</span><br></pre></td></tr></table></figure>
<h3 id="选项参数"><a href="#选项参数" class="headerlink" title="选项参数"></a>选项参数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line">parser = argparse.ArgumentParser(description=<span class="string">&quot;say something about this application !!&quot;</span>)</span><br><span class="line">parser.add_argument(<span class="string">&quot;-a&quot;</span>,<span class="string">&quot;--age&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;this is an optional argument&quot;</span>)</span><br><span class="line">result = parser.parse_args()</span><br><span class="line"><span class="built_in">print</span>(result.age)</span><br><span class="line"></span><br><span class="line">$python main.py  --age <span class="number">888</span></span><br><span class="line"><span class="number">888</span></span><br><span class="line">$python main.py  --age=<span class="number">888</span></span><br><span class="line"><span class="number">888</span></span><br></pre></td></tr></table></figure>
<h3 id="特殊的选项参数"><a href="#特殊的选项参数" class="headerlink" title="特殊的选项参数"></a>特殊的选项参数</h3><p>起着开关的作用:action=”store_true”</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line">parser = argparse.ArgumentParser(description=<span class="string">&quot;say something about this application !!&quot;</span>)</span><br><span class="line">parser.add_argument(<span class="string">&quot;-a&quot;</span>, <span class="string">&quot;--age&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;this is an optional argument&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>)</span><br><span class="line">result = parser.parse_args()</span><br><span class="line"><span class="built_in">print</span>(result.age)</span><br><span class="line"></span><br><span class="line">$python main.py  -a</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>指定选项：choices=[0, 1, 2]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line">parser = argparse.ArgumentParser(description=<span class="string">&quot;say something about this application !!&quot;</span>)</span><br><span class="line">parser.add_argument(<span class="string">&quot;-a&quot;</span>, <span class="string">&quot;--age&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;this is an optional argument&quot;</span>, <span class="built_in">type</span>=<span class="built_in">int</span>, choices=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">result = parser.parse_args()</span><br><span class="line"><span class="built_in">print</span>(result.age)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>nargs</p>
<ul>
<li>N (整数) N个命令行参数被保存在一个list中</li>
<li>‘?’ 如果存在该参数且给出了参数值，则从命令行取得该参数，如果存在该参数但未给出参数值，则从const关键字中取得参数值，如果不存在该参数，则将生成默认值。</li>
<li>‘*’命令行参数被保存在一个list中</li>
<li>‘+’命令行参数被保存在一个list中，要求至少要有一个参数，否则报错</li>
<li>argparse.REMAINDER 其余的命令行参数保存到一个list中</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># N</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser = argparse.ArgumentParser()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.add_argument(<span class="string">&#x27;--foo&#x27;</span>, nargs=<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.add_argument(<span class="string">&#x27;bar&#x27;</span>, nargs=<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.parse_args(<span class="string">&#x27;c --foo a b&#x27;</span>.split())</span><br><span class="line">Namespace(bar=[<span class="string">&#x27;c&#x27;</span>], foo=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># ?</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser = argparse.ArgumentParser()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.add_argument(<span class="string">&#x27;--foo&#x27;</span>, nargs=<span class="string">&#x27;?&#x27;</span>, const=<span class="string">&#x27;c&#x27;</span>, default=<span class="string">&#x27;d&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.add_argument(<span class="string">&#x27;bar&#x27;</span>, nargs=<span class="string">&#x27;?&#x27;</span>, default=<span class="string">&#x27;d&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.parse_args(<span class="string">&#x27;XX --foo YY&#x27;</span>.split())</span><br><span class="line">Namespace(bar=<span class="string">&#x27;XX&#x27;</span>, foo=<span class="string">&#x27;YY&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.parse_args(<span class="string">&#x27;XX --foo&#x27;</span>.split())</span><br><span class="line">Namespace(bar=<span class="string">&#x27;XX&#x27;</span>, foo=<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.parse_args(<span class="string">&#x27;&#x27;</span>.split())</span><br><span class="line">Namespace(bar=<span class="string">&#x27;d&#x27;</span>, foo=<span class="string">&#x27;d&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># *</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser = argparse.ArgumentParser()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.add_argument(<span class="string">&#x27;--foo&#x27;</span>, nargs=<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.add_argument(<span class="string">&#x27;--bar&#x27;</span>, nargs=<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.add_argument(<span class="string">&#x27;baz&#x27;</span>, nargs=<span class="string">&#x27;*&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.parse_args(<span class="string">&#x27;a b --foo x y --bar 1 2&#x27;</span>.split())</span><br><span class="line">Namespace(bar=[<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>], baz=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>], foo=[<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># +</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser = argparse.ArgumentParser(prog=<span class="string">&#x27;PROG&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.add_argument(<span class="string">&#x27;foo&#x27;</span>, nargs=<span class="string">&#x27;+&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.parse_args(<span class="string">&#x27;a b&#x27;</span>.split())</span><br><span class="line">Namespace(foo=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.parse_args(<span class="string">&#x27;&#x27;</span>.split())</span><br><span class="line">usage: PROG [-h] foo [foo ...]</span><br><span class="line">PROG: error: too few arguments</span><br><span class="line"></span><br><span class="line"><span class="comment"># argparse.REMAINDER</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser = argparse.ArgumentParser(prog=<span class="string">&#x27;PROG&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.add_argument(<span class="string">&#x27;--foo&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.add_argument(<span class="string">&#x27;command&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parser.add_argument(<span class="string">&#x27;args&#x27;</span>, nargs=argparse.REMAINDER)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(parser.parse_args(<span class="string">&#x27;--foo B cmd --arg1 XX ZZ&#x27;</span>.split()))</span><br><span class="line">Namespace(args=[<span class="string">&#x27;--arg1&#x27;</span>, <span class="string">&#x27;XX&#x27;</span>, <span class="string">&#x27;ZZ&#x27;</span>], command=<span class="string">&#x27;cmd&#x27;</span>, foo=<span class="string">&#x27;B&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>计数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">parser.add_argument(<span class="string">&quot;-v&quot;</span>, <span class="string">&quot;--verbosity&quot;</span>,</span><br><span class="line">       action=<span class="string">&quot;count&quot;</span>, default=<span class="number">0</span>, <span class="built_in">help</span>=<span class="string">&quot;increase output verbosity&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h3><p>我本来想实现一个直接list生成tuple的函数，后来才发现是每个str进行转换，所以对list进行了单独处理。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">str2int</span>(<span class="params">v</span>):</span><br><span class="line">    <span class="built_in">print</span>(v, <span class="built_in">type</span>(v))</span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(<span class="string">&#x27;--image_size&#x27;</span>, <span class="built_in">type</span>=str2int, nargs=<span class="string">&#x27;+&#x27;</span>, default=<span class="number">256</span>,</span><br><span class="line">                    <span class="built_in">help</span>=<span class="string">&#x27;image resolution, eg. 256 128&#x27;</span>)</span><br><span class="line">config = parser.parse_args(<span class="string">&#x27;--image_size 256 128&#x27;</span>.split())</span><br><span class="line"><span class="built_in">print</span>(config)</span><br><span class="line"></span><br><span class="line"><span class="number">256</span> <span class="built_in">str</span></span><br><span class="line"><span class="number">128</span> <span class="built_in">str</span></span><br><span class="line">--image_size [<span class="string">&#x27;256&#x27;</span>, <span class="string">&#x27;128&#x27;</span>]</span><br></pre></td></tr></table></figure>
<h2 id="7-defaultdict"><a href="#7-defaultdict" class="headerlink" title="7. defaultdict"></a>7. defaultdict</h2><p>遍历生成字典</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一种</span></span><br><span class="line">counts = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> strings:</span><br><span class="line">    counts[k]=counts.setdault(k, <span class="number">0</span>)+<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二种</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line">dd = defaultdict(<span class="built_in">int</span>)</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> strings:</span><br><span class="line">    counts[k]=counts[k]+<span class="number">1</span></span><br></pre></td></tr></table></figure>
<h2 id="8-shuti"><a href="#8-shuti" class="headerlink" title="8. shuti"></a>8. shuti</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">shutil.copy 复制文件</span><br><span class="line">shutil.copyfile( src, dst) 从源src复制到dst中去。当然前提是目标地址是具备可写权限。抛出的异常信息为IOException. 如果当前的dst已存在的话就会被覆盖掉</span><br><span class="line">shutil.move( src, dst)  移动文件或重命名</span><br><span class="line">shutil.copymode( src, dst) 只是会复制其权限其他的东西是不会被复制的</span><br><span class="line">shutil.copystat( src, dst) 复制权限、最后访问时间、最后修改时间</span><br><span class="line">shutil.copy( src, dst)  复制一个文件到一个文件或一个目录</span><br><span class="line">shutil.copy2( src, dst)  在copy上的基础上再复制文件最后访问时间与修改时间也复制过来了，类似于cp –p的东西</span><br><span class="line">shutil.copy2( src, dst)  如果两个位置的文件系统是一样的话相当于是rename操作，只是改名；如果是不在相同的文件系统的话就是做move操作</span><br><span class="line">shutil.copytree( olddir, newdir, <span class="literal">True</span>/Flase)</span><br><span class="line">把olddir拷贝一份newdir，如果第<span class="number">3</span>个参数是<span class="literal">True</span>，则复制目录时将保持文件夹下的符号连接，如果第<span class="number">3</span>个参数是<span class="literal">False</span>，则将在复制的目录下生成物理副本来替代符号连接</span><br><span class="line">shutil.rmtree( src ) 递归删除一个目录以及目录内的所有内容</span><br></pre></td></tr></table></figure>
<h2 id="9-pickle"><a href="#9-pickle" class="headerlink" title="9. pickle"></a>9. pickle</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pickle</span><br><span class="line">python codebook</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注释：序列化对象，将对象obj保存到文件file中去。参数protocol是序列化模式，默认是0（ASCII协议，表示以文本的形式进行序列化），protocol的值还可以是1和2（1和2表示以二进制的形式进行序列化。其中，1是老式的二进制协议；2是新二进制协议）。file表示保存到的类文件对象，file必须有write()接口，file可以是一个以’w’打开的文件或者是一个StringIO对象，也可以是任何可以实现write()接口的对象。</p>
<h2 id="10-重定向"><a href="#10-重定向" class="headerlink" title="10.重定向"></a>10.重定向</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> absolute_import</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Logger</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, fpath=<span class="literal">None</span></span>):</span><br><span class="line">        self.console = sys.stdout</span><br><span class="line">        self.file = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> fpath <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            mkdir_if_missing(os.path.dirname(fpath))</span><br><span class="line">            self.file = <span class="built_in">open</span>(fpath, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__del__</span>(<span class="params">self</span>):</span><br><span class="line">        self.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__enter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__exit__</span>(<span class="params">self, *args</span>):</span><br><span class="line">        self.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">write</span>(<span class="params">self, msg</span>):</span><br><span class="line">        self.console.write(msg)</span><br><span class="line">        <span class="keyword">if</span> self.file <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            self.file.write(msg)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">flush</span>(<span class="params">self</span>):</span><br><span class="line">        self.console.flush()</span><br><span class="line">        <span class="keyword">if</span> self.file <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            self.file.flush()</span><br><span class="line">            os.fsync(self.file.fileno())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">close</span>(<span class="params">self</span>):</span><br><span class="line">        self.console.close()</span><br><span class="line">        <span class="keyword">if</span> self.file <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            self.file.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mkdir_if_missing</span>(<span class="params">path</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path):</span><br><span class="line">        os.makedirs(path)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    sys.stdout = Logger(fpath=<span class="string">&#x27;./log.txt&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;2222222222&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="11-其他"><a href="#11-其他" class="headerlink" title="11. 其他"></a>11. 其他</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># id2labels</span></span><br><span class="line">trainval_ids2labels = <span class="built_in">dict</span>(<span class="built_in">zip</span>(trainval_ids, <span class="built_in">range</span>(<span class="built_in">len</span>(trainval_ids))))</span><br></pre></td></tr></table></figure>
<h2 id="12-path"><a href="#12-path" class="headerlink" title="12. path"></a>12. path</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">seg_path.mkdir()</span><br><span class="line">args.data_root = Path(args.data_root)</span><br><span class="line">args.img_root = args.data_root / <span class="string">&#x27;images&#x27;</span></span><br><span class="line">args.ann_root = args.data_root / <span class="string">&#x27;annotations&#x27;</span></span><br><span class="line"><span class="keyword">for</span> ann_path <span class="keyword">in</span> args.ann_root.iterdir():</span><br><span class="line">ann_path.name.split(<span class="string">&#x27;_&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="13-list-dict-tuple-set"><a href="#13-list-dict-tuple-set" class="headerlink" title="13. list dict tuple set"></a>13. list dict tuple set</h2><div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>list</th>
<th>dict</th>
<th>tuple</th>
<th>set</th>
</tr>
</thead>
<tbody>
<tr>
<td>索引</td>
<td>支持</td>
<td>不支持</td>
<td>支持</td>
<td>不支持</td>
</tr>
<tr>
<td>有无序</td>
<td>有序</td>
<td>无序</td>
<td>有序</td>
<td>无序</td>
</tr>
<tr>
<td>+*</td>
<td>支持</td>
<td></td>
<td>支持</td>
<td></td>
</tr>
<tr>
<td>增</td>
<td>append, extend</td>
<td>update</td>
<td>不支持</td>
<td>add(item), update(iter)</td>
</tr>
<tr>
<td>单个元素删除</td>
<td></td>
<td></td>
<td>不支持</td>
<td>discard, remove, pop,</td>
</tr>
<tr>
<td>单个元素修改</td>
<td>支持</td>
<td>支持</td>
<td>不支持</td>
<td></td>
</tr>
<tr>
<td>整体删除</td>
<td>支持</td>
<td>clear</td>
<td>del</td>
<td>del, clear</td>
</tr>
<tr>
<td>内置函数</td>
<td></td>
<td>items(), setdefault(k,v),fromkeys()</td>
<td>cmp,len,max,tuple</td>
<td></td>
</tr>
<tr>
<td>初始化</td>
<td></td>
<td></td>
<td></td>
<td>set(),{}</td>
</tr>
<tr>
<td>其他</td>
<td></td>
<td></td>
<td>元素可以为list</td>
<td>不能有可变元素list,dict,set等</td>
</tr>
<tr>
<td>其他</td>
<td></td>
<td></td>
<td>拆包</td>
<td></td>
</tr>
<tr>
<td>其他</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>tuple一旦创建，增删改都需要以一个整体为单位进行</li>
<li>集合：子集(&lt;, issubset)，并集 |, 交集 &amp;，差集 -，对称差 ^</li>
</ul>
<h2 id="14-函数嵌套引起的变量引用问题"><a href="#14-函数嵌套引起的变量引用问题" class="headerlink" title="14. 函数嵌套引起的变量引用问题"></a>14. 函数嵌套引起的变量引用问题</h2><p>问题：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>():</span><br><span class="line">    res = []</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun2</span>():</span><br><span class="line">        res.append(<span class="number">1</span>)</span><br><span class="line">        <span class="built_in">print</span>(count)</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">    fun2()</span><br><span class="line">fun1()</span><br><span class="line"><span class="comment"># res.append(1)  print(count) 可以执行，但是count += 1无法执行，会报错</span></span><br></pre></td></tr></table></figure>
<p>python引用变量的顺序：当前作用域局部变量，外层作用域变量，当前模块中的全局变量，python内置变量。每个变量只能有一种身份。</p>
<p><strong>第一种情况（直接修改全局变量和外层变量 报错）</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接修改全局变量 报错</span></span><br><span class="line">gcount = <span class="number">0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">global_test</span>():</span><br><span class="line">    gcount+=<span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span> (gcount)</span><br><span class="line">global_test()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接修改外层变量 报错</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>():</span><br><span class="line">    gcount = <span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">global_test</span>():</span><br><span class="line">        gcount+=<span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span> (gcount)</span><br><span class="line">    global_test()</span><br><span class="line">fun1()</span><br></pre></td></tr></table></figure>
<p>报错原因：可以将python引用变量的顺序记为身份由低到高，并且python允许访问修改有局部变量身份的变量，但是只允许访问更高等级身份的变量。</p>
<p><strong>第二种情况（global修改全局变量 成功，修改外层变量 报错）</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改全局变量 成功</span></span><br><span class="line"><span class="comment"># global 修饰后，使函数对全局变量有修改权限。</span></span><br><span class="line">gcount = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">global_test</span>():</span><br><span class="line">    <span class="keyword">global</span>  gcount</span><br><span class="line">    gcount+=<span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span> (gcount)</span><br><span class="line">global_test()</span><br></pre></td></tr></table></figure>
<p>或者global可以定义一个还没有出现的变量，而nonlocal不行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 成功</span></span><br><span class="line"><span class="comment"># 此时，gcount 是全局变量，且函数对其有修改权限</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">global_test</span>():</span><br><span class="line">    <span class="keyword">global</span>  gcount</span><br><span class="line">    gcount = <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span> (gcount)</span><br><span class="line">global_test()</span><br><span class="line"><span class="built_in">print</span>(gcount)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改外层变量 报错</span></span><br><span class="line"><span class="comment"># 此时有两个 gcount，一个全局变量 global gcount，一个外层作用域 gcount.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>():</span><br><span class="line">    gcount = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">global_test</span>():</span><br><span class="line">        <span class="keyword">global</span>  gcount</span><br><span class="line">        gcount+=<span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span> (gcount)</span><br><span class="line">    global_test()</span><br><span class="line">fun1()</span><br></pre></td></tr></table></figure>
<p>注意，global 只能在变量第一次声明时使用</p>
<p>其中global声明gcount为全局变量，可以修改</p>
<p><strong>第三种情况（nonlocal修改全局变量 报错，修改外层变量 成功）</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># nonlocal修改全局变量 报错</span></span><br><span class="line"><span class="comment"># nonlocal 只用用于修饰外层作用域出现过的变量。</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">make_counter</span>():</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">counter</span>():</span><br><span class="line">            <span class="keyword">nonlocal</span> count</span><br><span class="line">            count += <span class="number">1</span> </span><br><span class="line">            <span class="built_in">print</span>(count)</span><br><span class="line">        counter()</span><br><span class="line">    make_counter()</span><br><span class="line">fun1()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># nonlocal修改外层变量 成功</span></span><br><span class="line"><span class="comment"># 多个外层的都可以访问到，从内而外</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>():</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">make_counter</span>():</span><br><span class="line">        count = <span class="number">1</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">counter</span>():</span><br><span class="line">            <span class="keyword">nonlocal</span> count</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            <span class="built_in">print</span>(count)</span><br><span class="line">        counter()</span><br><span class="line">    make_counter()</span><br><span class="line">fun1()</span><br></pre></td></tr></table></figure>
<p>或者nonlocal不可以定义一个还没有出现的变量，而global可以</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 报错</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">make_counter</span>():</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">counter</span>():</span><br><span class="line">            <span class="keyword">nonlocal</span> count</span><br><span class="line">            count = <span class="number">1</span></span><br><span class="line">            <span class="built_in">print</span>(count)</span><br><span class="line">        counter()</span><br><span class="line">        <span class="built_in">print</span>(count)</span><br><span class="line">    make_counter()</span><br><span class="line">    <span class="built_in">print</span>(count)</span><br><span class="line">fun1()</span><br></pre></td></tr></table></figure>
<p>nonlocal的特殊用法，应该是属于装饰器那一块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">make_counter</span>():</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">counter</span>():</span><br><span class="line">        <span class="keyword">nonlocal</span> count</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> count</span><br><span class="line">    <span class="keyword">return</span> counter</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">make_counter_test</span>():</span><br><span class="line">    mc = make_counter()</span><br><span class="line">    <span class="built_in">print</span>(mc())</span><br><span class="line">    <span class="built_in">print</span>(mc())</span><br><span class="line">    <span class="built_in">print</span>(mc())</span><br><span class="line">make_counter_test()</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>
<p><strong>第四种情况（直接访问 成功）</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接访问全局变量 成功</span></span><br><span class="line">gcount = <span class="number">0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">global_test</span>():</span><br><span class="line">    <span class="built_in">print</span>(gcount)</span><br><span class="line">global_test()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接访问外层变量 成功</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>():</span><br><span class="line">    gcount = <span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">global_test</span>():</span><br><span class="line">        <span class="built_in">print</span>(gcount)</span><br><span class="line">    global_test()</span><br><span class="line">fun1()</span><br></pre></td></tr></table></figure>
<p>允许访问高级身份的变量</p>
<p><strong>第五种情况</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 成功</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add_b</span>():</span><br><span class="line">    <span class="keyword">global</span>  b</span><br><span class="line">    b = <span class="number">42</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">do_global</span>():</span><br><span class="line">        <span class="keyword">global</span>  b</span><br><span class="line">        b = b + <span class="number">10</span></span><br><span class="line">        <span class="built_in">print</span>(b)</span><br><span class="line">    do_global()</span><br><span class="line">    <span class="built_in">print</span>(b)</span><br><span class="line">add_b()</span><br><span class="line"><span class="comment"># 52  52</span></span><br><span class="line"><span class="comment"># b都是一个b，全局变量b，并且add_b域和go_global域对其具有访问和修改权</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 报错</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add_b</span>():</span><br><span class="line">    <span class="keyword">global</span>  b</span><br><span class="line">    b = <span class="number">42</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">do_global</span>():</span><br><span class="line">        <span class="keyword">nonlocal</span>  b</span><br><span class="line">        b = b + <span class="number">10</span></span><br><span class="line">        <span class="built_in">print</span>(b)</span><br><span class="line">    do_global()</span><br><span class="line">    <span class="built_in">print</span>(b)</span><br><span class="line">add_b()</span><br><span class="line"><span class="comment"># global b之后b是全局变量，add_b 中没有局部变量b，也就是说 do_global 中使用 non_local 进行修饰的时候，外层作用域没有变量b，因此报错</span></span><br></pre></td></tr></table></figure>
<p>更多函数嵌套的变量访问:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/z360519549/p/5172020.html">https://www.cnblogs.com/z360519549/p/5172020.html</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_b</span>():</span><br><span class="line">    <span class="comment">#global  b</span></span><br><span class="line">    <span class="comment">#b = 42</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">do_global</span>():</span><br><span class="line">        <span class="keyword">global</span>  b</span><br><span class="line">        b =  <span class="number">10</span></span><br><span class="line">        <span class="built_in">print</span>(b)</span><br><span class="line">    do_global()</span><br><span class="line">    <span class="built_in">print</span>(b)</span><br><span class="line">add_b()</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># 10 10 10</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_b</span>():</span><br><span class="line">    <span class="comment">#global  b</span></span><br><span class="line">    <span class="comment">#b = 42</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">do_global</span>():</span><br><span class="line">        <span class="keyword">global</span>  b</span><br><span class="line">        b =  <span class="number">10</span></span><br><span class="line">        <span class="built_in">print</span>(b)</span><br><span class="line">    do_global()</span><br><span class="line">    b  = b + <span class="number">20</span> <span class="comment"># 报错</span></span><br><span class="line">    <span class="built_in">print</span>(b)</span><br><span class="line">add_b()</span><br><span class="line">b = b + <span class="number">30</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot; b = %s &quot;</span> % b)</span><br></pre></td></tr></table></figure>
<p>在<a target="_blank" rel="noopener" href="https://blog.csdn.net/xcyansun/article/details/79672634">https://blog.csdn.net/xcyansun/article/details/79672634</a>找到了新的答案</p>
<p>再回到最原始的问题，为什么res可以，而count不行，因为res是list，res.append()之后不会改变其id(res)，但是count+=1会改变id(count)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(count))</span><br><span class="line"><span class="comment"># 1572891680</span></span><br><span class="line">count+=<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(count))</span><br><span class="line"><span class="comment"># 1572891712</span></span><br></pre></td></tr></table></figure>
<h2 id="15-iter-next-for-迭代器，迭代对象"><a href="#15-iter-next-for-迭代器，迭代对象" class="headerlink" title="15. iter, next, for , 迭代器，迭代对象"></a>15. iter, next, for , 迭代器，迭代对象</h2><p>区分迭代器和可迭代对象的原则是：</p>
<ul>
<li>可迭代对象 Iterable ：只有 <strong>iter</strong>() 方法的对象称为可迭代对象，并且<strong>iter</strong>方法返回 返回一个迭代器（生成器）。</li>
<li>迭代器 Iterator ：具有 <strong>iter</strong>() 方法和 <strong>next</strong>() 方法的对象称为迭代器对象。该方法能够自动返回下一个结果，当到达序列结尾时，引发 StopIteration 异常。<strong>iter</strong> 返回的是它自身 self, <strong>next</strong> 返回的下一个值，直到结束抛出Stop异常</li>
<li>迭代器是将一个可迭代对象添加了迭代遍历特性后变换而成的对象。</li>
<li>iter()方法接受一个可迭代对象，该方法的返回值是一个迭代器（Iterator）</li>
<li>for 会自动调用 iter()方法</li>
<li>列表、元组等都是可迭代对象</li>
</ul>
<p>可迭代对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable, Iterator</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>( <span class="built_in">isinstance</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], Iterable)) <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>( <span class="built_in">isinstance</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], Iterator)) <span class="comment"># False</span></span><br></pre></td></tr></table></figure>
<h2 id="16-for-xx-in-iter-object-sentinel"><a href="#16-for-xx-in-iter-object-sentinel" class="headerlink" title="16. for xx in iter(object, sentinel)"></a>16. for xx in iter(object, sentinel)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestIter</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.l=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">        self.i=<span class="built_in">iter</span>(self.l)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self</span>):  <span class="comment">#定义了__call__方法的类的实例是可调用的</span></span><br><span class="line">        item = <span class="built_in">next</span>(self.i)</span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&quot;__call__ is called,which would return&quot;</span>,item)</span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>): <span class="comment">#支持迭代协议(即定义有__iter__()函数)</span></span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&quot;__iter__ is called!!&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">iter</span>(self.l)</span><br><span class="line"></span><br><span class="line">t = TestIter()  <span class="comment"># t是可调用的</span></span><br><span class="line">t1 = <span class="built_in">iter</span>(t, <span class="number">3</span>)  <span class="comment"># t必须是callable的，否则无法返回callable_iterator</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;#&quot;</span>*<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">callable</span>(t))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;#&quot;</span>*<span class="number">10</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">iter</span>(t, <span class="number">3</span>): <span class="comment"># 调用 callable </span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;#&quot;</span>*<span class="number">10</span>)</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># for i in t 等价于 for i in iter(t):</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> t:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;#&quot;</span>*<span class="number">10</span>)</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">iter</span>(t):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;#&quot;</span>*<span class="number">10</span>)</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>
<h2 id="17-正则表达式"><a href="#17-正则表达式" class="headerlink" title="17 正则表达式"></a>17 正则表达式</h2><p>groups() = [ group(1), group(2)…]<br>group() = group(0) = 匹配正则表达式整体结果<br>group(1), group(2) = 第1/2个小括号匹配到的字符串 比如 res = re.match(‘(www).(runoob)’, ‘www.runoob.com’), group(1)=”www”, group(2) = “runoob”</p>
<p>命名组<br>(?P<name>…),<br>后面引用 (?P=name)：re.match(r’(?i)(?P<pattern>[\w]+) (?P=pattern)’,s)<br>全局引用 \g<pattern>： re.sub(r’(?i)aa(?P<pattern>[\w]+)’,r’bb\g<pattern>‘,astr)</pattern></pattern></pattern></pattern></name></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/python/" rel="tag"># python</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018/11/05/pytorch-optim/" rel="prev" title="pytorch-optim">
      <i class="fa fa-chevron-left"></i> pytorch-optim
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/11/05/beyond-part-models/" rel="next" title="beyond-part-models">
      beyond-part-models <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#python2-0"><span class="nav-number">1.</span> <span class="nav-text">python2.0</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-python-matlab"><span class="nav-number">1.1.</span> <span class="nav-text">1.python+matlab</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-python%E4%B8%8E%E6%96%87%E4%BB%B6IO"><span class="nav-number">1.2.</span> <span class="nav-text">2.python与文件IO</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E6%96%87%E6%9C%AC-txt"><span class="nav-number">1.3.</span> <span class="nav-text">2.1 文本.txt</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-print%E7%9A%84%E5%88%86%E9%9A%94%E7%AC%A6%E4%B8%8E%E8%A1%8C%E5%B0%BE%E7%AC%A6"><span class="nav-number">1.3.1.</span> <span class="nav-text">2.2 print的分隔符与行尾符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%95%B0%E6%8D%AE"><span class="nav-number">1.3.2.</span> <span class="nav-text">2.3 二进制数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-%E6%A8%A1%E6%8B%9F%E6%99%AE%E9%80%9A%E6%96%87%E4%BB%B6"><span class="nav-number">1.3.3.</span> <span class="nav-text">2.4 模拟普通文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-%E5%8E%8B%E7%BC%A9%E6%96%87%E4%BB%B6"><span class="nav-number">1.3.4.</span> <span class="nav-text">2.5 压缩文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-6-csv"><span class="nav-number">1.3.5.</span> <span class="nav-text">2.6 csv</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-7-json"><span class="nav-number">1.3.6.</span> <span class="nav-text">2.7 json</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-sys-path"><span class="nav-number">1.4.</span> <span class="nav-text">3. sys.path</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-os-path"><span class="nav-number">1.5.</span> <span class="nav-text">4. os.path</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-glob-glob"><span class="nav-number">1.6.</span> <span class="nav-text">5. glob.glob</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-argparse"><span class="nav-number">1.7.</span> <span class="nav-text">6. argparse</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="nav-number">1.7.1.</span> <span class="nav-text">位置参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0"><span class="nav-number">1.7.2.</span> <span class="nav-text">选项参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%B9%E6%AE%8A%E7%9A%84%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0"><span class="nav-number">1.7.3.</span> <span class="nav-text">特殊的选项参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="nav-number">1.7.4.</span> <span class="nav-text">自定义函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-defaultdict"><span class="nav-number">1.8.</span> <span class="nav-text">7. defaultdict</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-shuti"><span class="nav-number">1.9.</span> <span class="nav-text">8. shuti</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-pickle"><span class="nav-number">1.10.</span> <span class="nav-text">9. pickle</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">1.11.</span> <span class="nav-text">10.重定向</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E5%85%B6%E4%BB%96"><span class="nav-number">1.12.</span> <span class="nav-text">11. 其他</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-path"><span class="nav-number">1.13.</span> <span class="nav-text">12. path</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-list-dict-tuple-set"><span class="nav-number">1.14.</span> <span class="nav-text">13. list dict tuple set</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-%E5%87%BD%E6%95%B0%E5%B5%8C%E5%A5%97%E5%BC%95%E8%B5%B7%E7%9A%84%E5%8F%98%E9%87%8F%E5%BC%95%E7%94%A8%E9%97%AE%E9%A2%98"><span class="nav-number">1.15.</span> <span class="nav-text">14. 函数嵌套引起的变量引用问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-iter-next-for-%E8%BF%AD%E4%BB%A3%E5%99%A8%EF%BC%8C%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.16.</span> <span class="nav-text">15. iter, next, for , 迭代器，迭代对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-for-xx-in-iter-object-sentinel"><span class="nav-number">1.17.</span> <span class="nav-text">16. for xx in iter(object, sentinel)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.18.</span> <span class="nav-text">17 正则表达式</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">TianJiajie</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">76</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">44</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">73</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">TianJiajie</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
