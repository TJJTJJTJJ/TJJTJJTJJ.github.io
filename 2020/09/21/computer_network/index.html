<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="408," />










<meta name="description" content="王道考研：计算机网络">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络">
<meta property="og:url" content="http://example.com/2020/09/21/computer_network/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="王道考研：计算机网络">
<meta property="og:locale">
<meta property="article:published_time" content="2020-09-21T15:20:26.000Z">
<meta property="article:modified_time" content="2020-09-22T15:44:35.366Z">
<meta property="article:author" content="TianJiajie">
<meta property="article:tag" content="408">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/2020/09/21/computer_network/"/>





  <title>计算机网络 | Hexo</title>
  








<meta name="generator" content="Hexo 6.3.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-something">
          <a href="/something" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            something
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/21/computer_network/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">计算机网络</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-21T23:20:26+08:00">
                2020-09-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index">
                    <span itemprop="name">计算机网络</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/408/" itemprop="url" rel="index">
                    <span itemprop="name">408</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>王道考研：计算机网络<br><span id="more"></span></p>
<h1 id="1-计算机网络"><a href="#1-计算机网络" class="headerlink" title="1. 计算机网络"></a>1. 计算机网络</h1><h2 id="1-1-计算机网络"><a href="#1-1-计算机网络" class="headerlink" title="1.1 计算机网络"></a>1.1 计算机网络</h2><h3 id="1-1-1-概念、组成、功能和分类"><a href="#1-1-1-概念、组成、功能和分类" class="headerlink" title="1.1.1 概念、组成、功能和分类"></a>1.1.1 概念、组成、功能和分类</h3><p><strong>计算机网络的概念</strong></p>
<p>计算机网络：时一个将分散的具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现 资源共享 和 信息传递 的系统</p>
<p><strong>计算机网络的功能</strong></p>
<ol>
<li>数据通信</li>
<li>资源共享</li>
<li>分布式处理</li>
<li>提高可靠性 宕机和替代机</li>
<li>负载均衡</li>
</ol>
<p><strong>计算机网络的组成</strong></p>
<ol>
<li>组成部分：硬件、软件、协议</li>
<li>工作方式：<br>2.1 边缘部分：用户直接使用，采用 C/S 方式或者 P2P 方式<br>2.2 核心部分：为边缘部分服务，例如路由器等</li>
<li>功能组成<br>3.1 数据通信：通信子网<br>3.2 资源共享/数据处理：资源子网</li>
</ol>
<p>七层网络协议：</p>
<p>应用层：资源子网<br>表示层：资源子网<br>会话层：资源子网<br>传输层<br>网络层：通信子网：路由器<br>数据链路层：通信子网：交换机、网桥<br>物理层：通信子网：集线器、中继器</p>
<p><strong>计算机网络的分类</strong></p>
<ol>
<li>分布范围：广域网WAN、城域网MAN、局域网WAN、个人区域网PAN</li>
<li>使用者：公用网、专用网</li>
<li>交换技术：电路交换、报文交换、分组交换</li>
<li>拓扑结构：网状型、星型</li>
<li>传输技术：广播式网络、点对点网络(分组存储转发、路由选择)</li>
</ol>
<h3 id="1-1-2-标准化工作及相关组织"><a href="#1-1-2-标准化工作及相关组织" class="headerlink" title="1.1.2 标准化工作及相关组织"></a>1.1.2 标准化工作及相关组织</h3><p><strong>标准化工作</strong></p>
<p>标准的分类：</p>
<ol>
<li>法定标准：OSI</li>
<li>事实标准：TCP/IP</li>
</ol>
<p>RFC(Request For Comments)—因特网标准的形式</p>
<p>RFC称为因特网正式标准的三个阶段：因特网草案(Internet Draft)—&gt;建议标准(Proposed Standard)—&gt;因特网标准(Internet Standard)</p>
<p><strong>标准化工作的相关组织</strong></p>
<p>国际标准化组织 ISO：OSI参考模型、HDLC协议<br>国际电信联盟 ITU：通信规则<br>国际电气电子工程师协会 IEEE：学术机构、IEEE802系列标准、5G<br>Internet工程任务组 IETF：因特网相关标准的制定、RFCxxxx</p>
<h3 id="1-1-3-速率相关的性能指标"><a href="#1-1-3-速率相关的性能指标" class="headerlink" title="1.1.3 速率相关的性能指标"></a>1.1.3 速率相关的性能指标</h3><ol>
<li>速率</li>
<li>带宽</li>
<li>吞吐量</li>
</ol>
<p><strong>速率</strong></p>
<p>速率：连接在计算机网络上的主机在数字信道上传送数据位数的速率。又称数据率或称数据传输率或称比特率。单位：b/s, kb/s, Mb/s, Gb/s, Tb/s</p>
<p>比特：1/0，单位：位</p>
<p><strong>带宽</strong></p>
<p>带宽：表示网络的通信线路传送数据的能力，即网络设备所支持的最高速度，单位：b/s, kb/s, Mb/s, Gb/s, Tb/s。<br>这里不能理解为传输的快了，因为传输的速率是与链路相关的定值，而应该理解为单位时间内可以发送的数据量变多了，链路内的数据量变多了。或者说单位时间内同时可以上路的bit。</p>
<p><strong>吞吐量</strong></p>
<p>吞吐量：表示在单位时间内通过某个网络(或信道、接口)的数据量。单位 b/s, kb/s, Mb/s</p>
<p>吞吐量受网络的带宽或者网络的额定速率的限制</p>
<h3 id="1-1-4-性能指标2"><a href="#1-1-4-性能指标2" class="headerlink" title="1.1.4 性能指标2"></a>1.1.4 性能指标2</h3><ol>
<li>时延</li>
<li>时延带宽积</li>
<li>往返时间RTT</li>
<li>利用率</li>
</ol>
<p><strong>时延</strong></p>
<p>时延：数据(报文/分组/比特流)从网络(或链路)的一端传送到另一端所需的时间。也称延迟或者迟延，单位是s</p>
<p>时延分为四个部分：</p>
<ol>
<li>发送时延：也称传输时延，从发送第一个比特到最后一个比特发送完毕所需的时间。$发送时延=\frac{数据长度}{信道带宽(发送速率)}$，发生在主机内。</li>
<li>传播时延：取决于电磁波传播速度和链路长度，$传播时延=\frac{信道长度}{电磁波速率}$，发生在链路中。</li>
<li>排队时延：等待输出/输入链路可用</li>
<li>处理时延：检错、找出口</li>
</ol>
<p><strong>时延带宽积</strong></p>
<p>时延带宽积=传播时延(s)x带宽(b/s)，又称为以比特为单位的链路长度。即某段链路现在有多少比特。</p>
<p><strong>往返时延RTT</strong></p>
<p>往返时延RTT：从发送方发送数据开始，到发送方收到接收方的确认，总共经历的时延。</p>
<p>RTT越大，在收到确认之前，可以发送的数据越多。<br>RTT包括：往返传播时延(传播时延*2)，末端处理时间</p>
<p><strong>利用率</strong></p>
<p>信道利用率：有数据通过时间/(有+无)数据通过时间<br>网络利用率：信道利用率加权平均值</p>
<p>时延D越大&lt;==&gt;利用率越大</p>
<h2 id="1-2-分层结构"><a href="#1-2-分层结构" class="headerlink" title="1.2 分层结构"></a>1.2 分层结构</h2><h3 id="1-2-2-分层结构：协议、接口、服务"><a href="#1-2-2-分层结构：协议、接口、服务" class="headerlink" title="1.2.2 分层结构：协议、接口、服务"></a>1.2.2 分层结构：协议、接口、服务</h3><p><strong>分层的基本原则</strong></p>
<ol>
<li>上层单向使用下层提供的服务</li>
</ol>
<p><strong>分层结构</strong></p>
<ol>
<li>实体：第n层中的活动元素称为n层实体，同一层的实体叫对等实体</li>
<li>协议：为进行网络中的对等实体数据交换而建立的规则、标准或者约定，称为网络协议。协议是水平的<br>2.1 语法：规定传输数据的格式<br>2.2 语义：规定所完成的功能<br>2.3 同步：规定各种操作的顺序</li>
<li>接口(访问服务点SAP)：上层使用下层服务的入口</li>
<li>服务：下层为相邻上层提供的功能调用。服务是垂直的</li>
</ol>
<p>SDU服务数据单元：用户需要传送的数据<br>PCI协议控制信息：控制协议操作的信息<br>PDU协议数据单元：对等层次之间传送的数据单位<br>PDU=PCI+SDU</p>
<p>网络体系结构是从功能上描述计算机网络结构，包括各层及其协议<br>每层遵循某个/些网络协议完成本层功能<br>仅仅在相邻层之间有接口，实现细节对上一层完成屏蔽<br>下层为上层提供服务</p>
<h3 id="1-2-2-OSI参考模型-1"><a href="#1-2-2-OSI参考模型-1" class="headerlink" title="1.2.2 OSI参考模型 1"></a>1.2.2 OSI参考模型 1</h3><p>计算机网络分层结构</p>
<ol>
<li>法定标准：7层OSI参考模型</li>
<li>事实标准：4层TCP/IP参考模型</li>
<li>学习标准：5层参考模型</li>
</ol>
<p>OSI七层：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">层</th>
<th style="text-align:center">数据</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">应用层</td>
<td style="text-align:center">DATA, H7</td>
</tr>
<tr>
<td style="text-align:center">表示层</td>
<td style="text-align:center">7-PDU, H6</td>
</tr>
<tr>
<td style="text-align:center">会话层</td>
<td style="text-align:center">6-PDU, H5</td>
</tr>
<tr>
<td style="text-align:center">传输层</td>
<td style="text-align:center">5-PDU, H4</td>
</tr>
<tr>
<td style="text-align:center">网络层</td>
<td style="text-align:center">4-PDU, H3</td>
</tr>
<tr>
<td style="text-align:center">数据链路层</td>
<td style="text-align:center">T2, 3-PDU, H2</td>
</tr>
<tr>
<td style="text-align:center">物理层</td>
<td style="text-align:center">傻瓜层</td>
</tr>
</tbody>
</table>
</div>
<p>通信子网(数据通信)：网络层、数据链路层、物理层<br>资源子网(数据处理)：应用层、表示层、会话层</p>
<p>中间系统(路由器、网关等)：最多只有下面三层：网络层、数据链路层、物理层</p>
<p>上面四层称为：端到端<br>下面三层称为：点对点</p>
<h3 id="1-2-3-OSI参考模型-2"><a href="#1-2-3-OSI参考模型-2" class="headerlink" title="1.2.3 OSI参考模型 2"></a>1.2.3 OSI参考模型 2</h3><p>应用层：</p>
<p>所有能和用户交互产生网络流量的程序，时用户与网络的界面<br>典型应用层服务：文本传输(FTP)、电子邮件(SMTP)、万维网(HTTP)</p>
<p>表示层：</p>
<p>用于处理在两个通信系统中交换信息的表示方式</p>
<p>功能：<br>数据格式交换<br>数据加密解密<br>数据压缩和恢复</p>
<p>协议：ASCII、JPEG</p>
<p>会话层：</p>
<p>向表示层实体/用户进程提供建立连接并在连接上有序地传输数据</p>
<p>会话：建立同步(SYN)</p>
<p>功能：<br>建立、管理、终止会话<br>使用校验点可使会话在通信失效时从校验点/同步点继续恢复通信，实现数据同步<br>主要协议：ADSP、ASP</p>
<p>传输层：</p>
<p>负责主机中两个进程的通信，即端到端的通信。传输单位是报文段或用户数据报。</p>
<p>功能：<br>可靠传输、不可靠传输<br>差错控制<br>流量控制<br>复用分用</p>
<p>复用：多个应用层进程可同时使用下面传输层的服务<br>分用：运输层把收到的信息分别交付给上面应用层中相应的进程</p>
<p>TCP、UDP</p>
<p>网络层：</p>
<p>把分组从源端传到目的端，为分组交换网上的不同主机提供通信服务<br>传输单位：数据报<br>数据报切分成分组</p>
<p>功能：<br>路由选择<br>流量控制<br>差错控制<br>拥塞控制</p>
<p>IP等</p>
<p>数据链路层：</p>
<p>把网络层传下来的数据报组装成帧<br>传输单位：帧</p>
<p>功能：<br>成帧：定义帧的开始和结束<br>差错控制：帧错+位错<br>流量控制<br>访问(接入)控制：控制对信道的访问</p>
<p>协议：<br>SDLC、PPP、STP</p>
<p>物理层：</p>
<p>傻瓜层：在物理媒体上实现比特流的透明传输<br>传输单位：比特</p>
<p>功能：</p>
<p>定义接口特性：引脚个数等<br>定义传输模式：单工、半双工、双工<br>定义传输速率<br>比特同步<br>比特编码</p>
<p>协议：<br>Rj45、802.3</p>
<h3 id="1-2-4-TCP、IP参考模型和5层参考模型"><a href="#1-2-4-TCP、IP参考模型和5层参考模型" class="headerlink" title="1.2.4 TCP、IP参考模型和5层参考模型"></a>1.2.4 TCP、IP参考模型和5层参考模型</h3><p><strong>TCP/IP参考模型</strong></p>
<p>应用层：HTTP、FTP、DNS<br>传输层：TCP、UDP<br>网际层：IP<br>网络接口层：Ethernet、ATM、Frame Relay</p>
<p>OSI参考模型和TCP/IP的相同点：独立的协议栈、异构网络互联<br>不同点：<br>OSI定义三点：服务、协议、接口<br>TCP/IP设计之初就考虑到异构网互联问题，将IP作为重要层次</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">OSI参考模型</th>
<th style="text-align:center">TCP/IP模型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">传输层</td>
<td style="text-align:center">面向连接</td>
<td style="text-align:center">无连接+面向连接</td>
</tr>
<tr>
<td style="text-align:center">网络层</td>
<td style="text-align:center">无连接+面向连接</td>
<td style="text-align:center">无连接</td>
</tr>
</tbody>
</table>
</div>
<p><strong>5层参考模型</strong></p>
<p>应用层：支持各种网络应用：FTP、SMTP、HTTP：报文<br>传输层：进程-进程的数据传输：TCP、UDP：报文段<br>网络层：源主机到目的主机的数据分组路由与转发：IP、ICMP、OSPF：数据报<br>数据链路层：把网络层传下来的数据报组装成帧：Ethernet、PPP：帧<br>物理层：比特传输：比特</p>
<h1 id="2-物理层"><a href="#2-物理层" class="headerlink" title="2. 物理层"></a>2. 物理层</h1><ol>
<li>通信基础</li>
<li>两个公式 lim</li>
<li>看图说话</li>
<li>传输介质</li>
<li>物理层设备</li>
</ol>
<h2 id="2-1-物理层"><a href="#2-1-物理层" class="headerlink" title="2.1 物理层"></a>2.1 物理层</h2><h3 id="2-1-1-物理层基本概念"><a href="#2-1-1-物理层基本概念" class="headerlink" title="2.1.1 物理层基本概念"></a>2.1.1 物理层基本概念</h3><p>物理层：解决如何在连接各种计算机的传输媒体上传输比特流，而不是指具体的传输媒体。<br>物理层的主要任务：确定与传输媒体接口相关的一些特性—&gt;定义标准</p>
<ol>
<li>机械特性：物理连接的特性，比如引线数目、引脚数量等</li>
<li>电气特性：规定传输二进制位时，信号的电压范围、传输速率等</li>
<li>功能特性：规定某一电平的意义</li>
<li>规程特性：定义各条物理线路的工作规程和时序关系</li>
</ol>
<h3 id="2-1-2-数据通信基础知识"><a href="#2-1-2-数据通信基础知识" class="headerlink" title="2.1.2 数据通信基础知识"></a>2.1.2 数据通信基础知识</h3><p>数据：传送信息的实体，有意义的符号序列<br>信号：电气，是数据在传输过程中的存在形式，分为数字信号和模拟信号<br>信道：信号的传输媒介。一条通信线路包含一条发送信道和一条接收信道</p>
<p>三种通信方式：</p>
<ol>
<li>单工通信：一条信道</li>
<li>半双工通信：两条信道</li>
<li>全双工通信：两条信道</li>
</ol>
<p>两种数据传输方式</p>
<ol>
<li>串行传输：速度慢，费用低，适合远距离</li>
<li>并行传输：速度快，费用高，适合近距离，适合计算机内部数据传输</li>
</ol>
<h3 id="2-1-3-码元、波特、速率、带宽"><a href="#2-1-3-码元、波特、速率、带宽" class="headerlink" title="2.1.3 码元、波特、速率、带宽"></a>2.1.3 码元、波特、速率、带宽</h3><p><strong>码元</strong></p>
<p>码元：固定时长的信号波形(数字脉冲)，这个时长内的信号称为k进制码元，而该时长称为码元宽度。当码元的离散状态有M个时(M大于2)，此时码元为M进制码元。</p>
<p>1码元可以携带多个比特的信号量。在二进制编码中，只有两种不同的码元，一种代表0状态，另一种代表1状态，可以携带1比特的信号量。4进制码元中，码元的离散状态有4种，00，01，10，11，可以携带2比特的信号量。</p>
<p><strong>速率</strong></p>
<p>速率：也称数据率，指数据的传输速率，表示单位时间内传输的数据量。可以用码元传输速率和信息传输速率表示。</p>
<p>码元传输速率：又称码元速率、波形速率、调制速率、符号速率等。表示单位时间内数字通信系统所传输的码元个数，单位是波特(Baud)=1码元/s，与进制数无关。</p>
<p>信息传输速率：又称信息速率、比特率。表示单位时间内的二进制码元个数(比特数)。</p>
<p>若一个码元携带n bit的信息量，则 M baud的码元传输速率所对应的信息传输速率为 Mxn bit/s</p>
<p><strong>带宽</strong></p>
<p>表示单位时间内从网络中的某一点到另一点所能通过的最高数据率。单位 b/s</p>
<h3 id="2-1-4-奈氏准则和香农定理"><a href="#2-1-4-奈氏准则和香农定理" class="headerlink" title="2.1.4 奈氏准则和香农定理"></a>2.1.4 奈氏准则和香农定理</h3><p><strong>失真</strong></p>
<p>影响失真的因素：</p>
<ol>
<li>码元传输速率</li>
<li>信号传输距离</li>
<li>噪声干扰</li>
<li>传输媒体质量</li>
</ol>
<p><strong>失真的另一种现象—码间串扰</strong></p>
<p>信道带宽：信道能通过的最高频率(码间串扰)和最低频率(容易衰减)之差</p>
<p>码间串扰：接收段收到的信号波形失去了码元之间清晰界限的现象。(高频)</p>
<p><strong>奈氏准则(奈奎斯特定理)</strong></p>
<p>奈氏准则：在理想低通(无噪声，带宽受限)条件下，为了避免码间串扰，极限码元传输速率为 2W Baud，W是信道带宽，单位是Hz，极限数据传输率 $2W\log_2 V$</p>
<p><strong>香农定理</strong></p>
<p>信噪比：信号的平均功率/噪声的平均功率，常记为S/N，或者分贝(dB)，$dB=10\log_{10}(S/N)$</p>
<p>香农定理：在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输速率有上限值 $W\log_2(1+S/N)(b/s)$</p>
<h3 id="2-1-5-编码与调制-1"><a href="#2-1-5-编码与调制-1" class="headerlink" title="2.1.5 编码与调制 1"></a>2.1.5 编码与调制 1</h3><p><strong>基带信号与宽带信号</strong></p>
<p>基带信号：1和0直接用两种不同的电压表示，数字信道，基带传输，适用于近距离<br>宽带信号：将基带信号进行调制后形成的频分复用模拟信号，模拟信道，宽带传输，适用于远距离</p>
<p><strong>编码与调制</strong></p>
<p>编码：数据—&gt;数字信号<br>调制：数据—&gt;模拟信号</p>
<h3 id="2-1-6-编码与调制-2"><a href="#2-1-6-编码与调制-2" class="headerlink" title="2.1.6 编码与调制 2"></a>2.1.6 编码与调制 2</h3><p><strong>编码：数字数据—&gt;数字信号</strong></p>
<p>非归零编码 NRZ<br>高1低0，容易实现，但没有检错功能，收发双发难以保持同步徐</p>
<p>曼彻斯特编码<br>码元内出现电平跳变，前0后1表示0，前1后0表示1<br>数据传输速率只有调制速率的1/2</p>
<p>差分曼彻斯特编码<br>同1异0</p>
<p>归零编码 RZ<br>信号电平在一个码元之内都要恢复到零</p>
<p>反向不归零编码 NRZI<br>信号电平翻转表示0，信号电平不变表示1</p>
<p>4B/5B编码<br>比特流中插入额外的比特以打破一连串的0或1<br>编码效率只有80%</p>
<p><strong>调制：数字数据—&gt;模拟信号</strong></p>
<p>调幅、调频、调相</p>
<p><strong>编码：模拟数据—&gt;数字信号</strong></p>
<p>PCM编码：抽样、量化、编码</p>
<ol>
<li>抽样：对模拟信号周期性扫描，连续信号变成离散信号 $f<em>{采样频率}&gt;=2f</em>{信号最高频率}$</li>
<li>量化：取整</li>
<li>编码：量化结果转换为对应的二进制编码</li>
</ol>
<p><strong>调制：模拟数据—&gt;模拟信号</strong></p>
<p>频分复用技术，充分利用带宽</p>
<h2 id="2-2-物理层传输介质"><a href="#2-2-物理层传输介质" class="headerlink" title="2.2 物理层传输介质"></a>2.2 物理层传输介质</h2><p>传输介质，也称传输媒体，是第零层，不是物理层。<br>分为导向性传输介质和非导向性传输介质。</p>
<p><strong>导向性传输介质</strong></p>
<p>双绞线：对于模拟传输，需要放大器，对于数字传输，需要中继器<br>同轴电缆：传输距离更远<br>光纤：带宽大，分为多模光纤(远距离)，多模光纤(近距离)</p>
<p><strong>非导向性传输介质</strong></p>
<p>无线电波：所有方向，穿透能力强，远距离，适用于通信领域</p>
<p>微波：固定方向，频率高，数据率高，适应于地面微波接力通信、卫星通信</p>
<p>红外线、激光：固定方向，需要转成各自的格式</p>
<h2 id="2-3-物理层设备"><a href="#2-3-物理层设备" class="headerlink" title="2.3 物理层设备"></a>2.3 物理层设备</h2><p>中继器、集线器</p>
<p><strong>中继器</strong></p>
<p>再生和还原数字信号<br>中继器的两端的网络部分是网段、两端的网段一定是同一个协议</p>
<p><strong>集线器(多口中继器)</strong></p>
<p>再生和放大数字信号，星形拓扑</p>
<p>不具备信号的定向传送能力</p>
<h1 id="3-数据链路层"><a href="#3-数据链路层" class="headerlink" title="3. 数据链路层"></a>3. 数据链路层</h1><ol>
<li>链路层的功能</li>
<li>链路层的两种信道</li>
<li>局域网、广域网</li>
<li>链路层的设备</li>
</ol>
<h2 id="3-1-数据链路层功能描述"><a href="#3-1-数据链路层功能描述" class="headerlink" title="3.1 数据链路层功能描述"></a>3.1 数据链路层功能描述</h2><p>链路：网络中两个结点之间的物理通道<br>数据链路：网络中两个结点之间的逻辑通道<br>帧：协议数据单元</p>
<p>可靠无差错的数据传输</p>
<p>功能：</p>
<ol>
<li>为网络层提供服务。无确认无连接服务，有确认无连接服务，有确认面向连接服务。</li>
<li>链路管理，即连接的建立、维持、释放</li>
<li>组帧</li>
<li>流量控制</li>
<li>差错控制(帧错/位错)</li>
</ol>
<h2 id="3-2-封装成帧和透明传输"><a href="#3-2-封装成帧和透明传输" class="headerlink" title="3.2 封装成帧和透明传输"></a>3.2 封装成帧和透明传输</h2><p><strong>封装成帧</strong></p>
<p>帧首部+帧的数据部分(IP数据报)+帧尾部</p>
<p>首部和尾部包含很多的控制信息，一个重要作用：帧定界<br>帧的数据部分 不大于 最大传送单元 MTU<br>数据链路层的帧长：帧首部+帧的数据部分(IP数据报)+帧尾部</p>
<p>组帧的四种方法：字符计数法，字符(节)填充法，零比特填充法、违规编码法</p>
<p><strong>透明传输</strong></p>
<p>透明传输：不管数据是什么样的比特组合，都应该能够在链路上传送。或者说当所传数据中的比特组合恰好与某一个控制信息完全一样，需要采取适当的措施，使接收方不会认为是某种控制信息。</p>
<p><strong>字符计数法</strong></p>
<p>帧首部使用一个计数字段(第一个字节，八位)来标明帧内字符数</p>
<p><strong>字符填充法</strong></p>
<p>SOH(八位)+数据部分+EOT(八位)</p>
<p>当传送的帧是文本文件组成(键盘输入 ASCII码)，不会影响SOH和EOT，即透明传输<br>当传送的帧由非ASCII码的文件文件(二进制的代码、图像等)，需要采用字符填充法实现透明传输</p>
<p>转义字符</p>
<p><strong>零比特填充法</strong></p>
<p>01111110+数据部分+01111110</p>
<p>发送端：每5个连续的1，填入1个0<br>接收端：每5个连续的1，删除1个0</p>
<p><strong>违规编码法</strong></p>
<p>曼彻斯特编码：1：高低，0：底高<br>帧界：高高、低低</p>
<p>常使用 零比特填充法和违规编码法</p>
<h2 id="3-3-差错控制"><a href="#3-3-差错控制" class="headerlink" title="3.3 差错控制"></a>3.3 差错控制</h2><h3 id="3-3-1-差错控制—检错编码"><a href="#3-3-1-差错控制—检错编码" class="headerlink" title="3.3.1 差错控制—检错编码"></a>3.3.1 差错控制—检错编码</h3><p>噪声：全局性(随机噪声、信噪比)、局部性(冲击噪声、编码技术6)</p>
<p>差错：位错(比特位)、帧错(丢失、重复、丢序)</p>
<p>位错：检错编码(奇偶校验码、循环冗余码CRC)、纠错编码(海明码)</p>
<p><strong>奇偶校验码</strong></p>
<p>n-1位信息元，1位校验元<br>奇校验码：1的个数为奇数<br>偶校验码：1的个数为偶数</p>
<p><strong>CRC循环冗余码</strong></p>
<p>发送方—计算冗余码：</p>
<ol>
<li>加0：生产多项式G(x)的阶为r，则加r个0/多项式N位，阶为N-1</li>
<li>模2除法：数据加0后，余数为冗余码/FCS/CRC检验码的比特序列 亦或</li>
<li>发送的数据：数据加冗余码</li>
</ol>
<p>接收方—检错：</p>
<p>将帧除以相同的除数，检查余数R<br>如果R为0，则帧无错，如果R不为0，则帧有错，丢弃</p>
<p>FCS的生成以及接收端CRC检验都是硬件实现。</p>
<p>凡是接收端数据链路层接收的帧均无差错</p>
<p>可靠传输：发送端发送什么，接收端就接收什么<br>CRC检验：只是实现了无差错传输，没有实现可靠传输</p>
<h3 id="3-3-2-差错控制—纠错编码"><a href="#3-3-2-差错控制—纠错编码" class="headerlink" title="3.3.2 差错控制—纠错编码"></a>3.3.2 差错控制—纠错编码</h3><p>纠错编码—海明码：发现双比特错，纠正单比特错<br>原理：动一发而牵全身<br>工作流程：确定校验码位数r—确定校验码和数据的位置—求出检验码的值—检错并纠错</p>
<p><strong>确定校验码位数r</strong></p>
<p>海明不等式：$2^r&gt;=k+r+1$，r为冗余信息位，k为信息位</p>
<p>例如：D=101101，k=6，r=4，数据位一共是10位</p>
<p><strong>确定校验码和数据的位置</strong></p>
<p>假设这4位校验码分别为P1，P2，P3，P4：数据从左到右为D1,…D6<br>校验码：放在2的次方位置<br>数据位：按序把空填满</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">数据位</th>
<th style="text-align:center">1</th>
<th style="text-align:center">2</th>
<th style="text-align:center">3</th>
<th style="text-align:center">4</th>
<th style="text-align:center">5</th>
<th style="text-align:center">6</th>
<th style="text-align:center">7</th>
<th style="text-align:center">8</th>
<th style="text-align:center">9</th>
<th style="text-align:center">10</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">代码</td>
<td style="text-align:center">P1</td>
<td style="text-align:center">P2</td>
<td style="text-align:center">D1</td>
<td style="text-align:center">P3</td>
<td style="text-align:center">D2</td>
<td style="text-align:center">D3</td>
<td style="text-align:center">D4</td>
<td style="text-align:center">P4</td>
<td style="text-align:center">D5</td>
<td style="text-align:center">D6</td>
</tr>
<tr>
<td style="text-align:center">实际值</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
</div>
<p><strong>求出校验码的值</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">二进制位</th>
<th style="text-align:center">0001</th>
<th style="text-align:center">0010</th>
<th style="text-align:center">0011</th>
<th style="text-align:center">0100</th>
<th style="text-align:center">0101</th>
<th style="text-align:center">0110</th>
<th style="text-align:center">0111</th>
<th style="text-align:center">1000</th>
<th style="text-align:center">1001</th>
<th style="text-align:center">1010</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">数据位</td>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
<td style="text-align:center">5</td>
<td style="text-align:center">6</td>
<td style="text-align:center">7</td>
<td style="text-align:center">8</td>
<td style="text-align:center">9</td>
<td style="text-align:center">10</td>
</tr>
<tr>
<td style="text-align:center">代码</td>
<td style="text-align:center">P1</td>
<td style="text-align:center">P2</td>
<td style="text-align:center">D1</td>
<td style="text-align:center">P3</td>
<td style="text-align:center">D2</td>
<td style="text-align:center">D3</td>
<td style="text-align:center">D4</td>
<td style="text-align:center">P4</td>
<td style="text-align:center">D5</td>
<td style="text-align:center">D6</td>
</tr>
<tr>
<td style="text-align:center">实际值</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
</div>
<p>对于P1，二进制的第一位为1，则找出所有二进制第一位为1的代码:D1,D2,D4,D5,令所有要校验的位异或=0，即 P1^ D1^ D2^ D4^ D5=0,则P1=0<br>对于P2，有P2^ D1^ D3^ D4^ D6=0,则P2=0<br>对于P3，有P3^ D2^ D3^ D4 = 0, 则P3=0<br>对于P4，有P4^ D5^ D6 = 0, 则P4=1</p>
<p>检错并纠错</p>
<p>P1^ D1^ D2^ D4^ D5 = C1<br>P2^ D1^ D3^ D4^ D6 = C2<br>P3^ D2^ D3^ D4     = C3<br>P4^ D5^ D6         = C4<br>一位出错：C4C3C2C1就是出错的比特位<br>两位出错：无法确定出错的比特位位置</p>
<h2 id="3-4-流量控制与可靠传输机制"><a href="#3-4-流量控制与可靠传输机制" class="headerlink" title="3.4 流量控制与可靠传输机制"></a>3.4 流量控制与可靠传输机制</h2><h3 id="3-4-1-流量控制与可靠传输机制-第一话"><a href="#3-4-1-流量控制与可靠传输机制-第一话" class="headerlink" title="3.4.1 流量控制与可靠传输机制(第一话)"></a>3.4.1 流量控制与可靠传输机制(第一话)</h3><p><strong>数据链路层的流量控制</strong></p>
<p>较高的发送速率和较低的接收能力</p>
<p>数据链路层的流量控制是点对点的，传输层的流量控制是端到端的<br>数据链路层的流量控制手段：接收方收不下就不回复确认<br>传输层的流量控制手段：接收端给发送端一个窗口公告</p>
<p><strong>流量控制的方法</strong></p>
<p>停止-等待协议：(发送窗口=1，接收窗口=1)<br>滑动窗口协议：后退N帧协议(GBN)(发送窗口&gt;1，接收窗口=1)(累计确认)、选择重传协议(SR)(发送窗口&gt;1，接收窗口&gt;1)(没有累计确认)</p>
<p><strong>可靠传输、滑动窗口、可靠传输</strong></p>
<p>可靠传输：发送端发啥，接收端收啥<br>流量控制：控制发送速率<br>滑动窗口：用于实现流量控制(收不下就不确认)、可靠传输(发送方自动重传)</p>
<h3 id="3-4-2-停止-等待协议"><a href="#3-4-2-停止-等待协议" class="headerlink" title="3.4.2 停止-等待协议"></a>3.4.2 停止-等待协议</h3><p>丢包问题、流量控制<br>停止-等待：每发送一个分组就停止发送，等待对方确认，在收到确认后再发送下一个分组<br>停止-等待的应用情况：无差错情况 与 有差错情况</p>
<p><strong>有差错情况</strong></p>
<p>用1bit可以表示帧编号：0，1，0，1</p>
<p>1.数据帧丢失或者检测到帧出错：超时计时器<br>发完一个帧后，必须保留它的副本<br>数据帧和确认帧必须编号<br>2.ACK丢失：丢弃重复帧，重传确认ACK<br>3.ACK迟到：丢弃迟到的ACK</p>
<p>信道利用率：发送方在一个发送周期内，有效地发送数据所需要的时间占整个发送周期的比率。(L/C)/T:T内发送L比特数据/发送方数据传输率/从开始发送数据到接收到第一个确认帧<br>信道利用率低<br>信道吞吐率：信道利用率*发送方的发送速率</p>
<h3 id="3-4-3-后退N帧协议-GBN"><a href="#3-4-3-后退N帧协议-GBN" class="headerlink" title="3.4.3 后退N帧协议 GBN"></a>3.4.3 后退N帧协议 GBN</h3><p>流水线技术：<br>必须增加序号范围<br>发送方需要缓存多个分组</p>
<p><strong>后退N帧协议的滑动窗口</strong></p>
<p>发送窗口：发送方维持一组连续的允许发送的帧的序号，窗口大于1<br>接收窗口：接收方维持一组连续的允许发送的帧的序号，窗口为1</p>
<p><strong>GBN发送方必须响应的三件事</strong></p>
<p>1.上层的调用：当窗口不满时，则产生一个帧将其发送，当窗口已满，则返回给上层<br>2.收到一个ACK：累计确认<br>3.超时事件：如果出现超时，发送方重传所有已发送但未确认的帧</p>
<p><strong>GBN接收方要做的事</strong></p>
<p>如果正确收到n号帧，并且按序，那么接收方为n帧发送一个ACK n，并且将该帧中的数据部分交付给上层。</p>
<p>其他情况都丢弃帧，并为最近按序接收的帧重新发送ACK。接收方无需缓存任何失序帧，只需要维护一个信息：expectedseqnum(下一个按序接收的帧序号)</p>
<p><strong>滑动窗口长度</strong></p>
<p>如果采用n个比特对帧编号，那么发送窗口的大小应该满足：1&lt;=W&lt;=2^n-1.否则接收方无法区分新帧和旧帧。 </p>
<p>讲到gbn，首先要讲到累积确认。<br>累积确认的意思是：接收方不必对收到的分组逐个发送确认，而是可以在收到几个分组后，对按序到达的最后一个分组加以确认。<br>比如，发送方发送0~7个帧，接收方对第0,2,3,7个帧发送确认，就是分别对第0个帧的确认，对第1,2个帧的确认，对第3个帧的确认，对第4,5,6,7个帧的确认。<br>假如接收方只发送了第3个帧的确认，就说明前面0,1,2,3号帧都被接收方正常接收了，但是后面的四个帧虽然也已经发送了，但是却需要重传，这就称作Go-back-N，也就是gbn（后退N帧）协议。<br>在这里实际上是回退4帧。</p>
<p><strong>性能</strong></p>
<p>提高了信道利用率<br>但是重传时必须把已经正确传送的数据帧重传，传送效率低</p>
<h3 id="3-4-4-选择重传协议-SR"><a href="#3-4-4-选择重传协议-SR" class="headerlink" title="3.4.4 选择重传协议 SR"></a>3.4.4 选择重传协议 SR</h3><p>GBN：累计确认—&gt;批量重传</p>
<p>SR：缓存接收数据</p>
<p><strong>SR发送方必须响应的三件事</strong></p>
<p>1.上层调用：缓存或者返回给上层<br>2.收到了一个ACK：逐一确认<br>如果收到ACK，SR发送方将被确认的帧标为已接收，同时尽可能移动窗口，尽可能发送窗口内的未发送帧<br>3.超时事件：每个帧有自己的定时器，只重传一个帧</p>
<p><strong>SR接收方要做的事</strong></p>
<p>1.窗口内的帧来者不拒：发送确诊帧，尽可能移动窗口，尽可能将连续有序的一批帧交付给网络层<br>2.对于小于窗口下界的帧，返回一个ACK<br>3.其他情况，忽略该帧</p>
<p><strong>滑动窗口长度</strong></p>
<p>发送窗口=接收窗口=2^{n-1}</p>
<h2 id="3-5-信道划分介质"><a href="#3-5-信道划分介质" class="headerlink" title="3.5 信道划分介质"></a>3.5 信道划分介质</h2><h3 id="3-5-1-信道划分介质访问控制"><a href="#3-5-1-信道划分介质访问控制" class="headerlink" title="3.5.1 信道划分介质访问控制"></a>3.5.1 信道划分介质访问控制</h3><p><strong>传输数据的两种链路</strong></p>
<p>点对点链路：PPP协议，适用于广域网</p>
<p>广播式链路：主机主机共享通信介质，适用于早期的总线以太网、无线局域网，常用于局域网。总线型，星型</p>
<p><strong>介质访问控制</strong></p>
<p>介质访问控制：采取一定的措施，使得两对节点之间的通信不会发生互相干扰的情况</p>
<p>分为：静态划分信道(信道划分介质访问控制)、动态划分信道</p>
<ol>
<li>静态划分信道：<br>1.1 频分多路复用 FDM<br>1.2 时分多路复用 TDM<br>1.3 波分多路复用 WDM<br>1.4 码分多路复用 CDM</li>
<li>动态分配信道：<br>2.1 轮询访问介质访问控制：<br>2.1.1 令牌传递协议<br>2.2 随机访问介质访问控制(所有用户可随机发送信息，发送信息时占用全部带宽，冲突)：<br>2.2.1 ALOHA协议、<br>2.2.2 CSMA协议、<br>2.2.3 CSMA/CD协议、<br>2.2.4 CSMA/CA协议</li>
</ol>
<p><strong>信道划分介质访问控制</strong></p>
<p>信道划分介质访问控制：将使用介质的每个设备与来自同一信道上的其他设备的通信隔离开，把时域和频域资源合理地分配给网络上的设备。</p>
<p>将一条广播信道，逻辑上变为点对点信道</p>
<p>频分多路复用FDM：用户分配一定的频带<br>时分多路复用TDM：将时间划分为一段段等长的时分复用帧(TDM帧)，用户占用固定序号的时隙</p>
<p>改进的时分复用—统计时分复用STDM：固态分配时隙</p>
<p>波分多路复用 WDM：光的不同波长</p>
<p>码分多路复用CDM：码分多址(CDMA)，1个比特转化为多个码片，正交</p>
<h3 id="3-5-2-ALOHA协议"><a href="#3-5-2-ALOHA协议" class="headerlink" title="3.5.2 ALOHA协议"></a>3.5.2 ALOHA协议</h3><p>纯ALOHA协议、时隙ALOHA协议</p>
<p><strong>纯ALOHA协议</strong></p>
<p>纯ALOHA协议：不监听信道，不按时间槽发送，随机重发。</p>
<p>冲突检测：如果发送冲突，接收方就会检测出差错，然后不予确认，发送方在一定时间内接收不到就判断发生冲突<br>冲突解决：超时后等待随机时间重传</p>
<p><strong>时隙ALOHA协议</strong></p>
<p>把时间分成若干个相同的时间片，所有用户在时间片开始时刻同步接入网络信道，若发生冲突，则必须等到下一个时间片开始时刻再发送</p>
<h3 id="3-5-3-CSMA协议"><a href="#3-5-3-CSMA协议" class="headerlink" title="3.5.3 CSMA协议"></a>3.5.3 CSMA协议</h3><p>CS：每一个站在发送数据之前要检测一下总线上是否有其他计算机在发送数据。</p>
<p>CSMA协议：发送帧之前，监听信道。监听信道空闲：发送完整帧，信道忙：推迟发送帧</p>
<p>分为：1-坚持CSMA，非坚持CSMA，p-坚持CSMA</p>
<p><strong>1-坚持CSMA</strong></p>
<p>空闲则直接传输<br>忙则一直监听，直到空闲马上传输<br>如果有冲突(一段时间内未收到答复)，则等待一个随机长的时间再监听，重复上述过程。</p>
<p>优点：避免媒体利用率的损失<br>缺点：假如有两个或两个以上的站点有数据要发送，冲突就不可避免。</p>
<p><strong>非坚持CSMA</strong></p>
<p>非坚持：监听信道忙之后就不继续监听</p>
<p>空闲则直接传输<br>忙则等待一个随机时间之后再进行监听</p>
<p>优点：随机的重发延迟时间可以减少冲突发送的可能性<br>缺点：媒体利用率低</p>
<p><strong>p-坚持CSMA</strong></p>
<p>p-坚持：对于监听信道空闲的处理</p>
<p>空闲以p概率传输，1-p概率等待到下一个时间槽再传输<br>忙则等待一个随机时间再进行监听</p>
<p>优点：减少冲突，媒体空闲时间少</p>
<p>但是：发生冲突后还是会坚持将数据帧发送完，造成了浪费。</p>
<h3 id="3-5-4-CSMA-CD协议"><a href="#3-5-4-CSMA-CD协议" class="headerlink" title="3.5.4 CSMA-CD协议"></a>3.5.4 CSMA-CD协议</h3><p>ALOHA协议：不听就说<br>CSMA协议：先听再说<br>CSMA-CD协议：先听再说，边听边说，碰撞检测，用于半双工信道</p>
<p><strong>传播时延对载波监听的影响</strong></p>
<p>假设单程端到端的传播时延时 $\tau$,则发送方最多经过$2\tau$时间检测到碰撞，或者说如果经过$2\tau$时间还没有检测到碰撞，则这次发送不会发生碰撞。<br>$2\tau$: 争用期、冲突窗口、碰撞窗口</p>
<p><strong>如何确定碰撞后的重传时机</strong></p>
<p>截断二进制指数规避算法：</p>
<ol>
<li>确定基本推迟时间为争用期 $2\tau$</li>
<li>定义参数k，k=min{重传次数，10}</li>
<li>从离散集合{0,1,…,2^k-1}中随机取出一个数r，重传所需要的退避时间 $2r\tau$</li>
<li>当重传次数达到16次仍不能成功，则认为网络拥挤，抛弃此帧并向高层汇报出错</li>
</ol>
<p><strong>最小帧长问题</strong></p>
<p>为了保证监听到碰撞时停止传输帧，所以帧不能太小，<br>最小帧长=$2\tau \times 数据传输速率$</p>
<p>以太网规定最短帧长为64B，凡是长度小于64B的都是由于冲突而异常终止的无效帧</p>
<h3 id="3-5-5-CSMA-CA协议"><a href="#3-5-5-CSMA-CA协议" class="headerlink" title="3.5.5 CSMA-CA协议"></a>3.5.5 CSMA-CA协议</h3><p>ALOHA协议：不听就说<br>CSMA协议：先听再说<br>CSMA-CD协议：先听再说，边听边说，有线网络<br>CSMA-CA协议：碰撞避免，无线局域网</p>
<p>CSMA-CA协议：先听再说，先等再说</p>
<p><strong>CSMA-CA协议工作原理</strong></p>
<p>发送数据前，先检测信道是否空闲<br>空闲则发出RTS，RTS包括发射端的地址、接收端的地址，下一份数据将持续发送的时间等；信道忙则等待<br>接收端收到RTS后，则响应CTS<br>发送端收到CTS后，开始发送数据帧(同时预约信道：发送方告知其他站点自己还需要传多久数据)<br>接收端收到数据帧后，用CRC检验数据是否正确，正确则响应ACK帧<br>发送方收到ACK则可以进行下一个数据帧的发送，如果没有则一直重传至规定重发次数为止(采用二进制指数退避算法来确定随机的推迟时间)</p>
<p>预约信道<br>ACK帧<br>RTS/CTS帧</p>
<p><strong>CSMA-CD与CSMA-CA</strong></p>
<p>相同点：都是先听再说，两者冲突之后都会有限次的重传</p>
<p>不同点：</p>
<p>1.传输介质不同：CSMA-CD用于总线式以太网(有线)，CSMA-CA用于无线局域网<br>2.载波检测方式不同<br>3.CSMA-CD检测冲突中断传输，CSMA-CA避免冲突</p>
<h3 id="3-5-6-轮询访问介质访问控制"><a href="#3-5-6-轮询访问介质访问控制" class="headerlink" title="3.5.6 轮询访问介质访问控制"></a>3.5.6 轮询访问介质访问控制</h3><p>信道划分介质访问控制 MAC：</p>
<p>基于多路复用技术<br>网络负载重：共享信道效率高，且公平<br>网络负载轻：共享信道效率低</p>
<p>随机访问MAC协议：</p>
<p>用户根据意愿随机发送信息，发送信息时可独占信道带宽<br>网络负载重：产生冲突开销<br>网络负载轻：共享信道效率高，单个结点可利用信道全部带宽</p>
<p>轮询访问MAC协议/轮流协议/轮转访问MAC协议：</p>
<p>既要不产生冲突，又要发送时占全部带宽</p>
<p>轮询访问MAC协议 主要包括：轮询协议和令牌传递协议</p>
<p><strong>轮流协议</strong></p>
<p>主结点轮流邀请从属结点发送数据</p>
<p>缺点：轮询开销；等待延迟；单点故障</p>
<p><strong>令牌传递协议</strong></p>
<p>令牌环网：逻辑上是环状，物理上是星形<br>令牌：一个特殊格式的MAC控制帧，不含任何信息。控制信道的使用，确保同一时刻只有一个结点独占信道。<br>每个结点可以在一定的时间内(令牌持有时间)获得发送数据的权利，并不能无限制地持有令牌。</p>
<p>缺点：令牌开销；等待延迟；单点故障；常用于负载较重、通信量较大的网络</p>
<h2 id="3-6-局域网和以太网"><a href="#3-6-局域网和以太网" class="headerlink" title="3.6 局域网和以太网"></a>3.6 局域网和以太网</h2><h3 id="3-6-1-局域网基本概念和体系结构"><a href="#3-6-1-局域网基本概念和体系结构" class="headerlink" title="3.6.1 局域网基本概念和体系结构"></a>3.6.1 局域网基本概念和体系结构</h3><p><strong>局域网</strong></p>
<p>局域网：LAN，指在某一区域内由多台计算机互联成的计算机组，使用广播信道。</p>
<p>特点：范围小；专门的传输介质，数据传输率高；延迟时间短，误码率低；多采用分布式控制和广播式通信，能进行广播和组播</p>
<p>决定局域网的主要要素是：网络拓扑，传输介质和介质访问控制方法</p>
<p><strong>局域网拓扑结构</strong></p>
<p>星型拓扑，总线型拓扑，环型拓扑，树形拓扑</p>
<p><strong>局域网传输介质</strong></p>
<p>有线局域网：双绞线、同轴电缆、光钎<br>无线局域网：电磁波</p>
<p><strong>局域网介质访问控制方法</strong></p>
<ol>
<li>CSMA-CD：常用于总线型局域网，也用于树型网络</li>
<li>令牌总线：总线型局域网，也用于树型网络</li>
<li>令牌环：用于环形局域网</li>
</ol>
<p><strong>局域网的分类</strong></p>
<p>以太网：逻辑拓扑总线型，物理拓扑星型或者拓展星型。使用CSMA-CD IEEE 802.3<br>令牌环网：物理上采用星形拓扑，逻辑是环形拓扑结构<br>FDDI网：光纤，物理是双环拓扑结构，逻辑是环形拓扑结构 IEEE 802.8<br>ATM网：较新型的单元交换技术<br>无线局域网：IEEE 802.11</p>
<p>IEEE 802.3:以太网<br>IEEE 802.8：光纤<br>IEEE 802.11：无线局域网</p>
<p><strong>MAC子层和LLC子层</strong></p>
<p>数据链路层划分为逻辑链路层LLC子层和介质访问控制MAC子层。</p>
<p>LLC子层：LLC负责识别网络层协议，然后对它们进行封装。LLC报头告诉数据链路层一旦帧被接收到时，应当对数据包做何处理。为网络层提供服务：无确认无连接、面向连接、待确认无连接、高速传送</p>
<p>MAC子层：包括数据帧的封装、卸装，帧的寻址和识别，帧的接收和发送，链路的管理，帧的差错控制。MAC子层的存在屏蔽了不同物理链路种类的差异性。</p>
<h3 id="3-6-2-以太网"><a href="#3-6-2-以太网" class="headerlink" title="3.6.2 以太网"></a>3.6.2 以太网</h3><p>以太网 Ethernet：基带总线局域网规范，CSMA/CD协议，IEEE802.3局域网</p>
<p>特点：便宜，能满足网络速率要求：10Mb/s-10Gb/s</p>
<p><strong>以太网提供无连接、不可靠的服务</strong></p>
<p>无连接：无 握手过程<br>不可靠：不对帧编号，不发确认帧，差错帧之间丢弃，差错纠正由高层负责。</p>
<p>以太网：只实现无差错接收，不实现可靠传输</p>
<p><strong>传输介质与拓扑结构</strong></p>
<p>逻辑上总线型，物理上星型</p>
<p><strong>10BASE-T以太网</strong></p>
<p>10BASE-T：基带信号，双绞线，10Mb/s<br>物理星型，逻辑总线型，每段双绞线长度最长为100m<br>采用曼彻斯特编码<br>采用CSMA/CD介质访问控制</p>
<p><strong>适配器与MAC地址</strong></p>
<p>计算机与外界有线局域网的连接是通过通信适配器的<br>网络接口板<br>网络接口卡NIC<br>适配器上装有处理器和存储器(RAM和ROM)<br>ROM上有计算机硬件地址MAC地址<br>MAC地址：全球唯一，48位二进制地址，前24位表示厂家，后24位厂家自己指定</p>
<p><strong>以太网MAC帧</strong></p>
<p>最常用的MAC帧：以太网V2</p>
<p>IP层：数据：数据IP数据层<br>MAC层：目的地址(6)，源地址(6)，类型(2)，数据(46~1500)，FCS(4)<br>物理层：前导码(8B)，以太网MAC帧</p>
<p>前导码：8B=前同步码(7B,10组成)+帧开始定界符(1B,10101011)</p>
<p>物理层只加了头，没有加尾：因为使用的曼彻斯特编码，电压不发生变化，则认为结束。</p>
<p><strong>高速以太网</strong></p>
<p>高速以太网：速率&gt;=100Mb/s的以太网</p>
<p>100BASE-T 以太网：全双工和半双工<br>吉比特以太网：全双工和半双工<br>10吉比特：光纤，全双工</p>
<h3 id="3-6-3-无线局域网"><a href="#3-6-3-无线局域网" class="headerlink" title="3.6.3 无线局域网"></a>3.6.3 无线局域网</h3><p>IEEE 802.11：无线局域网</p>
<p><strong>802.11的MAC帧头格式</strong></p>
<p>MAC帧头：帧控制(2)，生存周期ID(2)，地址1(6，接收端)，地址2(6，发送端)，地址3(6，目的地址)，序列控制(2)，地址4(6，源地址)</p>
<p><strong>无线局域网的分类</strong></p>
<p>有固定基础设施无线局域网<br>无固定基础设施无线局域网的自组织网络</p>
<h2 id="3-7-PPP协议与HDLC协议"><a href="#3-7-PPP协议与HDLC协议" class="headerlink" title="3.7 PPP协议与HDLC协议"></a>3.7 PPP协议与HDLC协议</h2><p><strong>广域网</strong></p>
<p>广域网：因特网(Internet网)。通信子网使用分组交换技术。广域网的通信子网可以利用公用分组交换网、卫星通信网和无线分组交换网，将分布在不同地区的局域网或者计算机系统互联起来，达到资源共享的目的。</p>
<p><strong>PPP协议</strong></p>
<p>点对点协议PPP：目前使用最广泛的数据链路层协议，用户使用拨号电话接入因特网时一般都使用PPP协议。<br>只支持全双工链路。</p>
<p>需要满足：</p>
<p>简单：对于链路层的帧，无需纠错，无需序号，无需流量控制<br>封装成帧：帧定界符<br>透明传输：异步线路用字节填充，同步线路用比特填充<br>多种网络层协议：封装的IP数据报可以采用多种协议<br>差错检测：丢弃</p>
<p>无需满足：</p>
<p>纠错<br>流量控制<br>序号<br>不支持多点线路</p>
<p><strong>PPP协议的三个组成部分</strong></p>
<ol>
<li>一个将IP数据报封装到串行链路(同步串行/异步串行)的方法</li>
<li>链路控制协议LCP：建立并维护数据链路连接。身份验证。</li>
<li>网络控制协议NCP：PPP可支持多种网络层协议</li>
</ol>
<p><strong>PPP协议的状态图</strong></p>
<p>设备之间无链路—&gt;物理链路—&gt;LCP链路—&gt;已鉴别的LCP链路—&gt;已鉴别的LCP链路和NCP链路</p>
<p><strong>PPP协议的帧格式</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">F</th>
<th style="text-align:center">A</th>
<th style="text-align:center">C</th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center">F</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">7E</td>
<td style="text-align:center">FF</td>
<td style="text-align:center">03</td>
<td style="text-align:center">协议</td>
<td style="text-align:center">信息部分(IP数据报)</td>
<td style="text-align:center">FCS</td>
<td style="text-align:center">7E</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">不超过1500B</td>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
</div>
<p>字符填充法</p>
<p>面向字节</p>
<p><strong>HDLC协议</strong></p>
<p>HDLC协议：高级数据链路控制，是一个在同步网上传输数据、面向比特的数据链路</p>
<p>数据报文可透明传输，用于实现透明传输的“0比特插入法”易于硬件实现。</p>
<p>采用全双工通信</p>
<p>所有帧采用CRC检验，对信息帧进行顺序编号，可防止漏收或者重份，传输可靠性强。</p>
<p><strong>HDLC的站</strong></p>
<p>主站：发送命令帧、接收响应帧，并负责流量控制、差错检测和恢复<br>从站：接收主站的命令帧<br>复合站：既能发送，也能接收命令帧和响应帧</p>
<p>三种数据操作方式：</p>
<ol>
<li>正常响应方式</li>
<li>异步平衡方式</li>
<li>异步响应方式</li>
</ol>
<p><strong>HDLC的帧格式</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">标志F</th>
<th style="text-align:center">地址A</th>
<th style="text-align:center">控制C</th>
<th style="text-align:center">信息info</th>
<th style="text-align:center">帧检验序列FCS</th>
<th style="text-align:center">标志F</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">8</td>
<td style="text-align:center">8</td>
<td style="text-align:center">可变</td>
<td style="text-align:center">16</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">7E</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">零比特传输</td>
<td style="text-align:center"></td>
<td style="text-align:center">7E</td>
</tr>
</tbody>
</table>
</div>
<p>控制C：</p>
<ol>
<li>信息帧 I：第1位为0，用来传输数据信息</li>
<li>监督帧 S：10，用于流量控制和差错控制</li>
<li>无编号帧 U：11，用于提供对链路的建立、拆除等</li>
</ol>
<p><strong>PPP协议与HDLC协议</strong></p>
<p>相同点：</p>
<ol>
<li>HDLC、PPP只支持全双工链路</li>
<li>都可以实现透明传输</li>
<li>都可以差错检测，但无法纠正差错</li>
</ol>
<p>不同点：</p>
<ol>
<li>PPP协议，面向字节，2B协议字段，无序号和确认机制，不可靠</li>
<li>HDLC协议，面向比特，没有协议字段，有编号和确认机制，可靠</li>
</ol>
<h2 id="3-8-链路层设备"><a href="#3-8-链路层设备" class="headerlink" title="3.8 链路层设备"></a>3.8 链路层设备</h2><p><strong>物理层扩展以太网</strong></p>
<ol>
<li>光纤</li>
<li>集线器—集线器：冲突域</li>
</ol>
<p><strong>链路层拓展以太网</strong></p>
<p>网桥和交换机</p>
<p>网桥：根据MAC帧的目的地址对帧进行转发和过滤。可以互联不同物理层、不同MAC层和不同速率的以太网。</p>
<p>网段：一般指一个计算机网络中使用同一物理层设备，能够直接通讯的那部分</p>
<p>网桥分为：透明网桥和源路由网桥</p>
<p>透明网桥：以太网上的站点并不知道所发送的帧将经过哪几个网桥，时一种即插即用的设备—自学习</p>
<p>源路由网桥：在发送帧时，把详细的最佳路由信息(路由)放在帧的首部中。</p>
<p>交换机—多接口网桥：独占传输媒体带宽</p>
<p>两种交换方式：直通式交换机，存储转发式交换机</p>
<p>直通式交换机：查完目的地址(6B)就立刻转发。延迟小，可靠性低，无法支持具有不同速率的端口的交换。<br>存储转发式交换机：将帧放入高速缓存，并检查是否正确，正确则转发，错误则丢弃。延迟大，可靠性高，可以支持具有不同速率的端口的交换。</p>
<p><strong>冲突域和广播域</strong></p>
<p>冲突域：在同一个冲突域中的每一个节点都能收到所有被发送的帧。简单的说就是同一时间内只能有一台设备发送信息。(物理层设备：集线器或者中继器)</p>
<p>广播域：网络中能接收任一设备发出的广播帧的所有设备的集合。或者说，如果站点发出一个广播信号，所有能接收到这个信号的设备范围称为一个广播域。(链路层设备：网桥、交换机)(网络层设备：路由器可以隔离不同的广播域)</p>
<p>集线器：物理层设备，冲突域<br>交换机：链路层，广播域，局域网<br>路由器：网络层，</p>
<h1 id="4-网络层"><a href="#4-网络层" class="headerlink" title="4. 网络层"></a>4. 网络层</h1><p>网络层：不可靠传输</p>
<h2 id="4-1-网络层"><a href="#4-1-网络层" class="headerlink" title="4.1 网络层"></a>4.1 网络层</h2><h3 id="4-1-1-网络层功能概述"><a href="#4-1-1-网络层功能概述" class="headerlink" title="4.1.1 网络层功能概述"></a>4.1.1 网络层功能概述</h3><p>网络层：把分组从源端传到目的端，为分组交换网上的不同主机提供通信服务。网络层传输单位是数据报。</p>
<p>路由器</p>
<p>功能：</p>
<ol>
<li>路由选择与分组转发</li>
<li>异构网络互联</li>
<li>拥塞控制</li>
</ol>
<p>流量控制：发送方发送太快，接收方接收太慢<br>拥塞控制：网络处于拥塞状态，所有结点都来不及接收分组，而丢弃大量分组。方法：开环控制(静态)，闭环控制(动态)</p>
<p>分组是数据报的切分。</p>
<h3 id="4-1-2-数据交换方式"><a href="#4-1-2-数据交换方式" class="headerlink" title="4.1.2 数据交换方式"></a>4.1.2 数据交换方式</h3><p>数据交换方式：</p>
<ol>
<li>电路交换</li>
<li>报文交换</li>
<li>分组交换<br>3.1 数据报方式<br>3.2 虚电路方式</li>
</ol>
<p><strong>电路交换</strong></p>
<p>独占资源、多路复用</p>
<p><strong>报文交换</strong></p>
<p>报文：源应用发送的信息整体<br>存储转发，动态分配线路<br>多目标服务</p>
<p><strong>分组转发</strong></p>
<p>分组：把大的数据块分割成小的数据块<br>存储转发</p>
<h3 id="4-1-3-数据报与虚电路"><a href="#4-1-3-数据报与虚电路" class="headerlink" title="4.1.3 数据报与虚电路"></a>4.1.3 数据报与虚电路</h3><p>分组交换：</p>
<ol>
<li>数据报方式</li>
<li>虚电路方式</li>
</ol>
<p>数据报方式：为网络层提供无连接服务<br>虚电路方式：为网络层提供连接服务</p>
<p>无连接服务：不事先为分组的传输确定传输路径，每个分组独立确定传输路径，不同分组传输路径可能不同<br>连接服务：首先为分组的传输确定传输路径，系列分组传输路径相同，传输结束后拆除连接。</p>
<p><strong>传输单元辨析</strong></p>
<p>应用层：报文<br>传输层：报文段<br>网络层：IP数据报—&gt;分组<br>数据链路层：帧<br>物理层：比特流</p>
<p><strong>数据报方式</strong></p>
<p>无连接<br>每个分组携带源和目的地址<br>路由器根据分组的目的地址转发分组：基于路由协议/算法构成转发表；检索转发表；每个分组独立选路</p>
<p><strong>虚电路方式</strong></p>
<p>虚电路：一条源主机到目的主机类似于电路的路径(逻辑连接)，路径上所有结点都要维持这条虚电路的建立，都维持一张虚电路表，每一项记录了一个打开的虚电路的信息。</p>
<p>面向连接<br>每个分组携带虚电路号，而非目的地址。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">数据报</th>
<th style="text-align:center">虚电路</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">连接</td>
<td style="text-align:center">不要</td>
<td style="text-align:center">要</td>
</tr>
<tr>
<td style="text-align:center">目的地址</td>
<td style="text-align:center">每个分组都有完整的目的地址</td>
<td style="text-align:center">仅在建立时使用，之后使用虚电路号</td>
</tr>
<tr>
<td style="text-align:center">路由选择</td>
<td style="text-align:center">每个分组独立进行路由选择和转发</td>
<td style="text-align:center">同一虚电路的分组按照同一路由转发</td>
</tr>
<tr>
<td style="text-align:center">分组顺序</td>
<td style="text-align:center">不保证分组的有序到达</td>
<td style="text-align:center">保证分组的有序到达</td>
</tr>
<tr>
<td style="text-align:center">可靠性</td>
<td style="text-align:center">不保证可靠通信，可靠性由用户主机保证</td>
<td style="text-align:center">可靠性由网络保证</td>
</tr>
</tbody>
</table>
</div>
<h2 id="4-2-IP数据报"><a href="#4-2-IP数据报" class="headerlink" title="4.2 IP数据报"></a>4.2 IP数据报</h2><h3 id="4-2-1-IP数据报格式"><a href="#4-2-1-IP数据报格式" class="headerlink" title="4.2.1 IP数据报格式"></a>4.2.1 IP数据报格式</h3><p><strong>TCP/IP协议栈</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">HTTP</th>
<th style="text-align:center">FTP</th>
<th style="text-align:center">DNS</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">TCP</td>
<td style="text-align:center">UDP</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">IP</td>
<td style="text-align:center">ICMP</td>
<td style="text-align:center">IGMP</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">IP</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">ARP</td>
<td style="text-align:center">IP</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">数据链路层</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">物理层</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<p><strong>IP数据报格式</strong></p>
<p>IP数据报：首部，数据部分(TCP、UDP段)</p>

<h3 id="4-2-2-IP数据报分片"><a href="#4-2-2-IP数据报分片" class="headerlink" title="4.2.2 IP数据报分片"></a>4.2.2 IP数据报分片</h3><p><strong>最大传送单元MTU</strong></p>
<p>最大传送单元MTU：链路层数据帧可封装数据的上限<br>以太网的MTU是1500字节</p>
<p><strong>IP数据报格式</strong></p>
<p>标识：同一数据报的分片使用同一标识<br>标志：只有两位有意义：x <em> </em><br>中间位 DF (Don’t Fragment):1：禁止分片，0：允许分片<br>最低位 MF (More Fragment):1：后面还有分片，0：最后一个分片<br>片偏移：较长分组分片后，某片在原分组的相对位置，以8B为单位。所以分片尽可能满足8B的整数倍。</p>
<p><strong>IP数据报分片例题</strong></p>
<p>原始数据报：首部(20B)，数据部分(3800B)<br>数据报片：分片不超过1420B<br>数据报片1：首部(20B)，数据部分(1400B), MF 1，DF 0, 片偏移 0<br>数据报片2：首部(20B)，数据部分(1400B)，MF 1，DF 0，片偏移 175=1400/8<br>数据报片3：首部(20B)，数据部分(1020B)，MF 1，DF 0，片偏移 350=2800/8</p>
<p>总长度单位是 1B<br>片偏移单位是 8B<br>首部长度单位 4B</p>
<h3 id="4-2-3-IPv4地址"><a href="#4-2-3-IPv4地址" class="headerlink" title="4.2.3 IPv4地址"></a>4.2.3 IPv4地址</h3><p><strong>IP地址</strong></p>
<p>IP地址：32位/4字节标识符，标识路由器主机的接口<br>IP地址==&lt;网络号&gt;&lt;主机号&gt;</p>
<p>网络层：路由器，属于不同的网络地址<br>链路层：网桥，属于同一段网络</p>
<p><strong>IP地址分类</strong></p>
<p>A类(1-126)：0, 1B网络号, 主机号<br>B类(128-191):10, 2B网络号, 主机号<br>C类(192-223):110, 3B网络号, 主机号<br>D类(224-239):1110, 多播地址<br>E类(240-255):1111, 保留为今后使用</p>
<p><strong>特殊IP地址</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">NetID网络号</th>
<th style="text-align:center">HostID主机号</th>
<th style="text-align:center">作为IP分组源地址</th>
<th style="text-align:center">作为IP分组目的地址</th>
<th style="text-align:center">用途</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">全0</td>
<td style="text-align:center">全0</td>
<td style="text-align:center">可以</td>
<td style="text-align:center">不可以</td>
<td style="text-align:center">本网范围内表示主机，路由表中表示默认路由(表示整个Internet网络)</td>
</tr>
<tr>
<td style="text-align:center">全0</td>
<td style="text-align:center">特定值</td>
<td style="text-align:center">不可以</td>
<td style="text-align:center">可以</td>
<td style="text-align:center">表示本网中某个特定主机</td>
</tr>
<tr>
<td style="text-align:center">全1</td>
<td style="text-align:center">全1</td>
<td style="text-align:center">不可以</td>
<td style="text-align:center">可以</td>
<td style="text-align:center">本网广播地址(路由器不转发)</td>
</tr>
<tr>
<td style="text-align:center">特定值</td>
<td style="text-align:center">全0</td>
<td style="text-align:center">不可以</td>
<td style="text-align:center">不可以</td>
<td style="text-align:center">网络地址，表示一个网络</td>
</tr>
<tr>
<td style="text-align:center">特定值</td>
<td style="text-align:center">全1</td>
<td style="text-align:center">不可以</td>
<td style="text-align:center">不可以</td>
<td style="text-align:center">直接广播地址，对特定网络上的所有主机进行广播</td>
</tr>
<tr>
<td style="text-align:center">127</td>
<td style="text-align:center">任何数(非全0/1)</td>
<td style="text-align:center">可以</td>
<td style="text-align:center">可以</td>
<td style="text-align:center">用于本地软件环回测试，称为环回地址</td>
</tr>
</tbody>
</table>
</div>
<p><strong>私有IP地址</strong></p>
<p>内部IP地址</p>
<p>A类：10.0.0.0-10.255.255.255 网段个数 1<br>B类：172.16.0.0—172.31.255.55 网段个数 16<br>C类：192.168.0.0-192.168.255.255 网段个数 255</p>
<p>路由器对目的地址是私有IP地址的数据报一律不进行转发</p>
<p><strong>IP地址网络数</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">网络类别</th>
<th style="text-align:center">最大可用网络数</th>
<th style="text-align:center">第一个可用的网络号</th>
<th style="text-align:center">最后一个可用的网络号</th>
<th style="text-align:center">每个网络中的最大主机数</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">A</td>
<td style="text-align:center">2^7-2(全0，全1=127)</td>
<td style="text-align:center">1</td>
<td style="text-align:center">126</td>
<td style="text-align:center">2^24-2(全0，全1)</td>
</tr>
<tr>
<td style="text-align:center">B</td>
<td style="text-align:center">2^14-1(全0)</td>
<td style="text-align:center">128.1</td>
<td style="text-align:center">191.255</td>
<td style="text-align:center">2^16-2</td>
</tr>
<tr>
<td style="text-align:center">C</td>
<td style="text-align:center">2^21-1(全0)</td>
<td style="text-align:center">192.0.1</td>
<td style="text-align:center">223.255.255</td>
<td style="text-align:center">2^8-2</td>
</tr>
</tbody>
</table>
</div>
<h3 id="4-2-4-网络地址转换NAT"><a href="#4-2-4-网络地址转换NAT" class="headerlink" title="4.2.4 网络地址转换NAT"></a>4.2.4 网络地址转换NAT</h3><p>路由器对目的地址是私有IP地址的数据报一律不进行转发</p>
<p>网络地址转换NAT：在专用网连接到因特网的路由器上安装NAT软件，安装了NAT软件的路由器叫NAT路由器，它至少有一个有效的外部全球IP地址，将(源地址)私有地址转换为全球IP地址。</p>
<p>NAT转换表</p>
<p>WAN端：ip：40001—&gt;LAN端：192.168.0.3:3000</p>
<h3 id="4-3-5-子网划分和子网掩码"><a href="#4-3-5-子网划分和子网掩码" class="headerlink" title="4.3.5 子网划分和子网掩码"></a>4.3.5 子网划分和子网掩码</h3><p>分类的IP地址的缺点：</p>
<p>IP地址空间利用率低<br>两级IP地址不够灵活</p>
<p><strong>子网划分</strong></p>
<p>两级IP地址：网络号，主机号<br>三级IP地址：网络号，子网号，主机号</p>
<p>子网号不能全0全1，除非CIDR；主机号不能全0全1</p>
<p>划分子网后，一个路由器对外仍表现为一个网络，即本单位外的网络看不见本单位内子网的划分。</p>
<p><strong>子网掩码</strong></p>
<p>三级IP地址：145.13(网络号).3(子网号).10(主机号)<br>子网掩码 ： 255.255.255.0</p>
<p>IP地址 141.14.72.24，子网掩码 255.255.192.0，网络地址：141.14.64.0<br>子网掩码 255.255.224.0，网络地址：141.14.64.0<br>虽然是相同的网络地址，但是前者有14个主机号，后者有13个主机号。</p>
<p><strong>使用子网时分组的转发</strong></p>
<p>路由表中：</p>
<ol>
<li>目的网络地址</li>
<li>目的网络子网掩码</li>
<li>下一跳地址</li>
</ol>
<p>路由器转发分组的算法：</p>
<ol>
<li>提取目的IP地址</li>
<li>是否直接交付，目的IP地址与不同子网的子网掩码按位与，与子网段进行匹配</li>
<li>特定主机路由</li>
<li>检测路由表中有无路径</li>
<li>默认路由 0.0.0.0</li>
<li>丢弃，报告转发分组出错</li>
</ol>
<h3 id="4-2-6-无分类编址-CIDR-构成超网"><a href="#4-2-6-无分类编址-CIDR-构成超网" class="headerlink" title="4.2.6 无分类编址 CIDR (构成超网)"></a>4.2.6 无分类编址 CIDR (构成超网)</h3><p>划分子网后，一个路由器对外仍表现为一个网络，即本单位外的网络看不见本单位内子网的划分。</p>
<p><strong>无分类编址 CIDR</strong></p>
<p>一个路由器下定长掩码—&gt;变长掩码</p>
<p>无分类编址 CIDR 又称 无分类域间路由选择 CIDR</p>
<ol>
<li>消除了传统的 A类 B类 C类地址以及划分子网的概念：网络前缀，主机号：IP地址/网络前缀的位数</li>
<li>融合子网地址与子网掩码，方便子网划分：CIDR把网络前缀都相同的连续IP地址组成一个 CIDR 地址块。其中最小地址全0表示本机，最大地址全1表示广播地址。地址块：128.14.47.255/20。</li>
</ol>
<p><strong>构成超网</strong></p>
<p>构成超网：将多个子网聚合成一个较大的子网，又称路由聚合<br>方法：将网络前缀缩短</p>
<p>路由器转发表：网络前缀、下一跳地址</p>
<p><strong>最长前缀匹配</strong></p>
<p>使用CIDR时，查找路由表可能得到几个匹配结果，应该选择具有最长网络前缀的路由。前缀越长，地址块越小，路由越具体。</p>
<p>？？？为什么最长前缀匹配到的一定可以找到目的地址，如果目的地址被隐藏呢</p>
<p>路由器1：128.14.00000000.0/16<br>128.14.10000000.0/18<br>128.14.01000000.0/18</p>
<p>路由器2：128.14.00000000.0/16<br>128.14.00000000.0/18<br>128.14.11000000.0/18</p>
<p>路由器2—路由器3—路由器1</p>
<h3 id="4-2-7-ARP协议"><a href="#4-2-7-ARP协议" class="headerlink" title="4.2.7 ARP协议"></a>4.2.7 ARP协议</h3><p>网络层：IP地址<br>数据链路层：MAC地址</p>
<p>路由器：网络层，有MAC地址，路由器两端的主机属于不同局域网，<br>交换机：链路层，广播域，一个交换机下的主机属于一个局域网，端口转发<br>集线器：物理层设备，冲突域，无脑转发</p>
<p><strong>发送数据的过程</strong></p>
<p>第一种：接收主机3与发送主机1在同一个局域网</p>
<p>主机1有ARP高速缓存，局域网内IP地址与MAC地址的映射</p>
<p>广播ARP请求分组：IP1,IP3,MAC1,FFFFFF-FFFFFF<br>单播ARP响应分组：IP3,MAC3</p>
<p>网络层：分组,IP1,IP3<br>数据链路层：FCS,分组,IP1,IP3,MAC1,MAC3</p>
<p>第二种：接收主机5与发送主机1不在同一个局域网</p>
<p>主机1—交换机—MAC6 路由器1 MAC7—MAC8 路由器2 MAC9—交换机—主机5</p>
<p>主机1：发给路由器的网关IP6，广播ARP请求分组：IP1,IP6,MAC1,FF-FF-FF-FF-FF-FF-FF<br>路由器的网关IP6，：单播ARP响应分组：IP6，MAC6</p>
<p>主机1：<br>网络层：分组，IP1，IP5<br>数据链路层：FCS，分组，IP1，IP5，MAC1，MAC6</p>
<p>路由器1：<br>IP1，IP5，MAC1，MAC6—&gt;IP1，IP5，MAC7，MAC8<br>如果是点对点PPP协议，MAC8则改为 全1<br>如果是NAT路由器，IP1也会发生改变</p>
<p>路由器2：广播ARP协议：IP9，IP5，MAC9，FF-FF-FF-FF-FF-FF-FF<br>主机5：单播ARP响应分组：IP5，MAC5</p>
<p>路由器2：<br>IP1，IP5，MAC7，MAC8—&gt;IP1，IP5，MAC9，MAC5</p>
<p>交换机：将IP1，IP5，MAC9，MAC5只传输给MAC5</p>
<p>补充：PPP协议<br>ppp属于广域网范畴，MAC是局域网范畴，按实际情况和环境就选用不同的协议，ppp支持的网络结构只能是点对点，mac支持多点对多点。以太网中用mac，远程的话就用ppp（如ADSL拨号，就是基于ppp的）。ppp是点到点协议 ,逻辑上相连的就一台设备，因此不需要寻址, 目标地址为广播地址(全1), PPP中前6个字节就是目标地址。</p>
<p><strong>ARP协议</strong></p>
<p>ARP协议：完成主机或者路由器IP地址到MAC地址的映射，解决下一跳走哪的问题。</p>
<p>ARP协议使用过程：</p>
<p>检查ARP高速缓存，有对应表项则写入MAC帧，没有则用目的MAC地址为FFFFFFFFFFFF的帧封装并广播ARP请求分组，同一局域网中的所有主机都能收到该请求。目的主机收到请求后就会向源主机单播一个ARP响应分组，源主机收到后将此映射写入ARP缓存(10-20min更新一次)</p>
<h3 id="4-2-8-DHCP协议"><a href="#4-2-8-DHCP协议" class="headerlink" title="4.2.8 DHCP协议"></a>4.2.8 DHCP协议</h3><p>路由器：网络层，有MAC地址，路由器两端的主机属于不同局域网，<br>交换机：链路层，广播域，一个交换机下的主机属于一个局域网，端口转发<br>集线器：物理层设备，冲突域，无脑转发</p>
<p>获取IP地址方式：DHCP协议—DHCP服务器</p>
<p>DHCP服务器连接在交换机上</p>
<p>多台主机—交换机—多台DHCP服务器</p>
<p><strong>DHCP协议</strong></p>
<p>动态主机配置协议DHCP是应用层协议，使用客户/服务器方式，客户端和服务端通过广播方式进行交互，基于UDP。</p>
<p>DHCP提供即插即用联网的机制，主机可以从服务器动态获取IP地址、子网掩码、默认网关、DNS服务器和IP地址，允许地址重用，支持移动用户加入网络，支持在用地址续租。</p>
<p>DHCP服务器与主机交互过程—客户/服务方式：</p>
<ol>
<li>主机广播DHCP发现报文：客户机试图找到网络中的服务器，</li>
<li>DHCP服务器广播DHCP提供报文：每台服务器拟分配给客户机一个IP地址及相关配置</li>
<li>主机广播DHCP请求报文：客户机从多台服务器发出的IP地址中选择一个IP地址，并以广播的方式通知其他服务器，已经选择好了IP地址，其他服务器可以收回拟分配的IP地址</li>
<li>DHCP服务器广播DHCP确认报文：服务器进行确认，并将其TCP/IP协议与网卡绑定。其他的DHCP服务器收回曾提供的IP地址。</li>
</ol>
<h3 id="4-2-9-ICMP协议"><a href="#4-2-9-ICMP协议" class="headerlink" title="4.2.9 ICMP协议"></a>4.2.9 ICMP协议</h3><p>网际控制报文协议 ICMP协议：为了更有效地转发IP数据报和提高交付成功的机会</p>
<p><strong>ICMP协议</strong></p>
<p>ICMP协议支持主机或者路由器：差错(或异常)报告、网络探询<br>方式：发送特定的ICMP报文<br>IP数据报：首部，ICMP报文</p>
<p><strong>ICMP差错报文(4种)</strong></p>
<ol>
<li>终点不可达：路由器或者主机不能交付数据报时</li>
<li>时间超过：路由器收到生存时间TTL=0的数据报，或者终点在预定时间内没有收到完整的数据报的全部数据报片时，就将素有数据报丢弃，并发送时间超过报文</li>
<li>参数问题：当路由器或者目的主机收到的数据报的首部中有的字段值不正确时，丢弃并发送参数问题报文</li>
<li>改变路由(重定向)：路由器把改变路由报文发送给主机时，让主机知道更好的路由选择</li>
</ol>
<p><strong>ICMP差错报告报文数据字段</strong></p>
<p>ICMP将错误的IP数据报的 首部+前8字节 组成ICMP的数据部分<br>IP数据报：首部，ICMP差错报告报文<br>IP数据报：首部，ICMP的前8字节，错误的IP数据报首部，错误的IP数据报的前8字节</p>
<p><strong>不应发送ICMP差错报文的情况</strong></p>
<ol>
<li>对ICMP差错报文不再发送ICMP差错报文</li>
<li>对第一个分片的数据报片的所有后续数据报片都不发送ICMP差错报告报文</li>
<li>对具有组播地址的数据报都不发送ICMP差错报告报文</li>
<li>对具有特殊地址(127.0.0.0或0.0.0.0)的数据报都不发送ICMP差错报告报文</li>
</ol>
<p>广播地址：一对所有<br>组播地址：一对部分</p>
<p><strong>ICMP询问报文</strong></p>
<ol>
<li>回送请求和回答报文：主机或路由器向特定主机发出的询问，收到次报文的主机必须给源主机或者路由器发送ICMP回送回答报文。用于测试是否可达。</li>
<li>时间戳请求和回答报文：轻某个主机或者路由器回答当前的日期与时间。用于时钟同步和测量时间。</li>
</ol>
<p><strong>ICMP的应用</strong></p>
<p>ping：测试两个主机之间的联通性，使用了ICMP回送请求和回答报文<br>traceroute：跟踪一个分组从源点到终点的路径，使用了ICMP时间超过差错报告报文。</p>
<h2 id="4-3-IPv6"><a href="#4-3-IPv6" class="headerlink" title="4.3 IPv6"></a>4.3 IPv6</h2><p>IPv4地址已经分配完：</p>
<ol>
<li>CIDR、NAT</li>
<li>改进首部格式：快速处理/转发数据报，支持QoS</li>
</ol>
<p>IPv6</p>
<p><strong>IPv6数据报格式</strong></p>
<p>基本首部(40字节)，有效载荷(不超过65535字节)<br>基本首部(40字节)，扩展首部1，扩展首部2，…，扩展首部N，数据部分</p>
<p><strong>IPv4和IPv6</strong></p>
<ol>
<li>地址位：IPv4，4B；IPv6，16B</li>
<li>IPv6将IPv4的校验和字段彻底删除，减少每跳的处理时间</li>
<li>IPv6将IPv4的可选字段移除首部，变成了扩展首部，路由器通常不对扩展首部进行检查</li>
<li>IPv6支持即插即用(即自动配置)，不需要DHCP协议</li>
<li>IPv6首部长度必须是8B的整数倍，IPv4首部是4B的整数倍</li>
<li>IPv6只能在主机处分片，IPv4可以在路由器和主机处分片</li>
<li>ICMPv6：附加报文类型“分组过大”</li>
<li>IPv6支持资源的预分配，支持实时视像等要求</li>
</ol>
<p><strong>IPv6地址表示形式</strong></p>
<p>一般形式：冒号十六进制记法(4*8)：4BF5:AA12:0216:FEBC:BA5F:D39A:BE9A:2170<br>压缩形式：4BF5:0000:0000:0000:BA5F:039A:000A:2176<br>4BF5:0:0:0:BA5F:39A:A:2176<br>零压缩：一连串连续的0可以被双冒号取代，双冒号仅可出现一次<br>FF05:0:0:0:0:0:0:B3<br>FF05::B3</p>
<p><strong>IPv6基本地址类型</strong></p>
<p>单播：一对一通信，可做源地址+目的地址<br>多播：一对多通信，可做目的地址，可以实现广播<br>任播：一对多中的一个通信，可做目的地址，一般是离最近的主机响应</p>
<p><strong>IPv4向IPv6过度的策略</strong></p>
<p>双栈协议：在一台设备上同时启用IPv4和IPv6协议<br>隧道技术：隧道协议将其他协议的数据帧或报重新封装然后通过隧道发送。使用隧道传递的数据可以是不同协议的数据帧或包。</p>
<h2 id="4-4-路由算法与路由协议概述"><a href="#4-4-路由算法与路由协议概述" class="headerlink" title="4.4 路由算法与路由协议概述"></a>4.4 路由算法与路由协议概述</h2><p><strong>路由算法</strong></p>
<p>R1的路由表/转发表</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">目的网络IP地址</th>
<th style="text-align:center">子网掩码</th>
<th style="text-align:center">下一跳IP地址</th>
<th style="text-align:center">接口</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<p><strong>路由算法的分类</strong></p>
<ol>
<li>静态路由算法(非自适应路由算法)：管理源手工配置路由信息：适用于高度安全性的军事网络和较小的商业网络</li>
<li>动态路由算法(自适应路由算法)：路由算法</li>
</ol>
<p>动态路由算法：</p>
<ol>
<li>全局性：链路状态路由算法 OSPF：所有路由器掌握全局网络拓扑</li>
<li>分散性：距离向量路由算法 RIP：路由器只掌握相邻的邻居</li>
</ol>
<p><strong>分层次的路由选择协议</strong></p>
<p>原因：因特网规模大；部分单位不想将自己的路由选择协议外漏，但还想连入因特网</p>
<p>自治系统AS：在单一的技术管理下的一组路由器，而这些路由器使用一种AS内部的路由选择协议和共同的度量以确定分组在该AS内的路由，同时还使用一种AS之间的路由协议以确定AS之间的路由。<br>一个AS内部的所有网络都属于一个行政单位来管辖，一个自治系统的所有路由器在本自治系统内都必须互通。<br>或者说，AS内部是一家，外部是一家，内部不知道外部的协议，外部不知道内部的协议，互相透明。</p>
<p>路由选择协议：</p>
<ol>
<li>内部网关协议IGP：一个AS内部使用的 RIP、OSPF</li>
<li>外部网关协议EGP：AS之间使用的 BGP-4</li>
</ol>

<h2 id="4-5-路由选择算法的具体协议"><a href="#4-5-路由选择算法的具体协议" class="headerlink" title="4.5 路由选择算法的具体协议"></a>4.5 路由选择算法的具体协议</h2><h3 id="4-5-1-RIP协议与距离向量算法"><a href="#4-5-1-RIP协议与距离向量算法" class="headerlink" title="4.5.1 RIP协议与距离向量算法"></a>4.5.1 RIP协议与距离向量算法</h3><p>路由选择协议：</p>
<ol>
<li>内部网关协议IGP：一个AS内部使用的 RIP(小网络)、OSPF(大网络)</li>
<li>外部网关协议EGP：AS之间使用的 BGP-4</li>
</ol>
<p><strong>RIP协议</strong></p>
<p>RIP协议：分布式的基于距离度量的路由选择协议，是因特网的协议标准，最大优点是简单。<br>RIP协议要求每一个路由器都维护从它自己到其他每一个目的网络的唯一最佳距离记录(即一组数据)<br>距离，又称跳数，即经过的路由器个数。RIP规定一条路由最多能包含15个路由器，因此距离为16表示网络不可达。只适合小网络</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">目的网络</th>
<th style="text-align:center">距离</th>
<th style="text-align:center">下一跳路由器</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Net2</td>
<td style="text-align:center">1</td>
<td style="text-align:center">直接交付</td>
</tr>
<tr>
<td style="text-align:center">Net1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">路由器R1</td>
</tr>
</tbody>
</table>
</div>
<p><strong>RIP协议和谁交换，多久交换一次，交换什么</strong></p>
<ol>
<li>仅和相邻路由器交换信息</li>
<li>路由器交换的信息是自己的路由表</li>
<li>每30s交换一次路由信息，然后更新；如果超过180s没有收到邻居路由器的通告，则判断邻居没了，并更新自己的路由表</li>
</ol>
<p><strong>距离向量算法</strong></p>
<ol>
<li>修改相邻路由器发来的RIP报文中的所有表项：对地址为x的相邻路由器的RIP报文，把下一跳地址字段中的地址改为x，距离+1</li>
<li>对修改后的RIP报文中的每一个项目，则进行以下步骤：<br>2.1 R1路由表中若没有Net3，则把该项目填入R1路由表<br>2.2 R1路由表中有Net3，则查看下一跳路由器地址：如果下一跳是x，则替换；如果下一跳不是x，选取距离最短的</li>
<li>若180s没有收到相邻路由器x的更新路由表，则把x记为不可达的路由器，距离设置为16</li>
</ol>
<p><strong>RIP协议的报文格式</strong></p>
<p>IP数据报：首部+UDP首部+RIP首部+路由部分</p>
<p>RIP是应用层协议，使用UDP传送数据。<br>一个RIP报文最多可包括25个路由。</p>
<p><strong>RIP协议好消息传得快，坏消息传得慢</strong></p>
<h3 id="4-5-2-OSPF协议与链路状态算法"><a href="#4-5-2-OSPF协议与链路状态算法" class="headerlink" title="4.5.2 OSPF协议与链路状态算法"></a>4.5.2 OSPF协议与链路状态算法</h3><p>路由选择协议：</p>
<ol>
<li>内部网关协议IGP：一个AS内部使用的 RIP(小网络)、OSPF(大网络)</li>
<li>外部网关协议EGP：AS之间使用的 BGP-4</li>
</ol>
<p>开发最短路径优先 OSPF 协议：“开放”：OSPF协议不受某一厂家控制，是公开发表的。最短路径优先。是使用分布式的链路状态协议。</p>
<p>和谁交换：</p>
<p>使用洪泛法向自治系统内所有路由器发送信息，即路由器向相邻路由器发送信息，而相邻路由器会将信息发送其相邻路由器。即广播的形式。</p>
<p>交换什么：</p>
<p>发送的信息是与本路由器相邻的所有路由器的链路状态(本路由器和哪些路由器相邻，以及该链路的度量—费用、时延、带宽等，而RIP协议只是跳数)</p>
<p>多久交换：</p>
<p>只有当链路状态发送变化时，路由器才向所有路由器泛发送此消息。</p>
<p>最后，所有路由器都能建立一个链路状态数据库，即全网拓扑图。</p>
<p><strong>链路状态路由算法</strong></p>
<ol>
<li>每个路由器发现它的邻居结点 “HELLO问候分组”，并了解邻居结点的网络地址</li>
<li>设置它到它每个邻居的成本度量 metric</li>
<li>构造 DD数据库描述分组，向邻站给出自己的链路状态数据库中的所有链路状态项目的摘要信息</li>
<li>如果DD分组中的摘要自己有，则邻站不做处理；如果出现没有的或者更新的，则发送 LSR链路状态请求分组 ，请求么有的或者更新的</li>
<li>收到邻站的LSR分组后，发送 LSU链路状态更新分组 进行更新</li>
<li>更新完毕后，邻站返回一个 LSAck链路状态确认分组进行确认<br>如果一个路由器的链路状态发送变化</li>
<li>泛洪发送 LSU链路状态更新分组 进行更新</li>
<li>更新完毕后，其他站返回一个 LSAck链路状态确认分组 进行确认</li>
<li>使用Dijkstra算法根据自己的链路状态数据库构造到其他节点间的最短路径</li>
</ol>
<p><strong>OSPF的区域</strong></p>
<p>OSPF将一个自治系统进一步划分为若干个更小的范围，即区域。<br>每一个区域都有一个32位的区域标识符(点份十进制表示)</p>
<p><strong>OSPF分组</strong></p>
<p>IP数据报：IP首部+OSPF首部+类型1到类型5的OSPF分组</p>
<p>OSPF 直接使用 IP 数据报进行传送</p>
<p><strong>OSPF其他特点</strong></p>
<ol>
<li>每隔30min更新一次</li>
<li>收敛速度快</li>
</ol>
<h3 id="4-5-3-BGP协议"><a href="#4-5-3-BGP协议" class="headerlink" title="4.5.3 BGP协议"></a>4.5.3 BGP协议</h3><p>路由选择协议：</p>
<ol>
<li>内部网关协议IGP：一个AS内部使用的 RIP(小网络)、OSPF(大网络)</li>
<li>外部网关协议EGP：AS之间使用的 BGP-4</li>
</ol>
<p><strong>BGP协议</strong></p>
<p>和谁交换：与其他AS的邻站BGP发言人交换信息<br>交换什么：交换的网络可达性的信息，即要到达某个网络所要经过的一系列AS<br>多久交换：发生更新时交换</p>
<p>较好的路由路径</p>
<p><strong>BGP协议交换信息的过程</strong></p>
<p>BGP交换的网络可达性的信息：到达某个网络所要经过的一系列AS</p>
<p><strong>BGP协议报文格式</strong></p>
<p>BGP报文：BGP报文通用首部，BGP报文主体<br>TCP报文：TCP首部，BGP报文<br>IP报文：IP首部，TCP报文</p>
<p>BGP发言人之间交换路由信息，需要先建立TCP连接，然后在此连接上交换BGP报文以建立BGP会话，利用BGP会话交换路由信息。</p>
<p><strong>BGP协议特点</strong></p>
<p>BGP支持CIDR<br>BGP刚开始交换整个BGP路由表，之后只更新有变化的部分。</p>
<p><strong>BGP-4的四种报文</strong></p>
<ol>
<li>OPEN(打开)报文：用来与相邻的另一个BGP发言人建立关系，并认证发送方</li>
<li>UPDATE(更新)报文：通告新路径或者撤销旧路径</li>
<li>KEEPALIVE(保活)报文：在无UPDATE时，周期性证实邻站的连通性，也作为OPEN的确认</li>
<li>NOTIFICATION(通知)报文：报告先前报文的差错，也被用于关闭连接。</li>
</ol>
<p><strong>RIP、OSPF、BGP协议的比较</strong></p>
<ol>
<li>RIP协议：内部网关协议，基于距离度量，广播UDP报文</li>
<li>OSPF协议：内部网关协议，直接使用IP报文，不经过TCP或UDP</li>
<li>BGP协议：外部网关协议，采用TCP</li>
</ol>
<h2 id="4-6-IP组播"><a href="#4-6-IP组播" class="headerlink" title="4.6 IP组播"></a>4.6 IP组播</h2><p><strong>IP数据报的三种传输方式</strong></p>
<p>单播：点对点<br>广播：同一广播域或同一子网，点对多点<br>组播(多播)：点对多点，数据到达距离用户端尽可能近的结点后才开始复制和分发。组播路由器。</p>
<p><strong>IP组播地址</strong></p>
<p>IP组播地址：源设备将分组发送给一组设备，属于多播组的设备都将分配一个组播组IP地址(一群共同需求主机的相同标识)</p>
<p>组播地址范围：224.0.0.0-239.255.255.255(D类地址)，一个D类地址表示一个组播组，只能用作分组的目的地址。源地址总是单播地址。</p>
<ol>
<li>组播数据报是尽最大努力交付，不提供可靠交付，应用于UDP</li>
<li>对组播数据报不产生ICMP差错报文</li>
<li>并非所有D类地址都可以作为组播地址</li>
</ol>
<p>分为：</p>
<ol>
<li>硬件组播(局域网内)</li>
<li>因特网范围内组播(局域网外)</li>
</ol>
<p><strong>硬件组播</strong></p>
<p>组播IP地址需要对应的组播MAC地址。组播MAC地址(6B，48位)以十六进制 01-00-5E 开头，余下的6个十六进制是根据IP组播组地址的最后23位转换而来的。</p>
<p>收到多播数据报的主机，还要在IP层利用软件进行过滤，把不是本主机要接收的数据报进行过滤。</p>
<p><strong>因特网范围内组播：IGMP协议与组播路由选择协议</strong></p>
<p>网际组管理协议IGMP：让路由器知道本局域网上是否有主机(的进程)参加或者退出了某个组播组。</p>
<p>IGMP工作的两个阶段：</p>
<ol>
<li>某主机要加入组播组：主机向组播组的组播地址发送IGMP报文，本地组播路由器收到IGMP报文后，利用组播路由选择协议，把这组成员关系发给因特网上的其他组播路由器。</li>
<li>本地组播路由器查询是否还有主机是该组播组的成员。本地组播路由器周期性探询本地局域网上的主机，只要有一个主机响应(其他主机发现有响应后，就不再响应)，就认为该组还是活跃的；如果几次探询后没有响应，则认为该组不再活跃，不再把这组的成员关系发给其他的组播路由器。</li>
</ol>
<p>组播路由选择协议：找出以源主机为根节点的组播转发树。</p>
<p>组播路由选择协议常使用的三种算法：</p>
<ol>
<li>基于链路状态的路由选择</li>
<li>基于距离-向量的路由选择</li>
<li>协议无关的组播(稀疏/密集)</li>
</ol>
<h2 id="4-7-移动IP"><a href="#4-7-移动IP" class="headerlink" title="4.7 移动IP"></a>4.7 移动IP</h2><p><strong>移动IP相关术语</strong></p>
<p>移动IP技术：是移动结点(计算机/服务器等)以固定的网络IP地址，实现跨越不同网段的漫游功能，并保证了基于网络IP的网络权限在漫游过程中不发生任何改变。</p>
<p>移动结点：具有永久IP地址的移动设备(计算机/服务器等)</p>
<p>归属代理(本地代理)：一个移动结点拥有的旧居所称为归属网络，在归属网络中代表移动节点执行移动管理功能的实体叫做归属代理。</p>
<p>外部代理(外地代理)：在外部网络中帮助移动节点完成移动管理功能的实体称为外部代理。</p>
<p>永久地址(归属地址/主地址)：移动站点在归属网络中的原始地址</p>
<p>转交地址(辅地址)：移动站点在外部网络使用的临时地址</p>
<h2 id="4-8-网络层设备"><a href="#4-8-网络层设备" class="headerlink" title="4.8 网络层设备"></a>4.8 网络层设备</h2><p><strong>路由器</strong></p>
<p>路由器：多个输入端口和多个输出端口的专用计算机，其任务是转发分组。</p>
<p>网络层<br>数据链路层<br>网络层</p>
<p>路由器分为两个功能：</p>
<ol>
<li>路由选择：根据所选定的路由选择协议构造出路由表，</li>
<li>分组转发：交换结构：根据转发表(路由表)对分组进行转发</li>
</ol>
<p>输入端口：查找和转发功能<br>路由器中的输入或者输出队列产生溢出是造成分组丢失的重要原因</p>
<p><strong>三层设备的区别</strong></p>
<p>路由器：可以互联两个不同网络层协议的网段：端口转发，可以隔离冲突域和广播域<br>网桥/交换机：可以互联两个物理层和数据链路层不同的网段，可以隔离冲突域，但不能隔离广播域<br>集线器：不能互联两个物理层不同的网段，不能隔离冲突域和广播域</p>
<p><strong>路由表和路由转发</strong></p>
<p>路由表：根据路由选择算法得出，主要用途是路由选择，软件实现<br>路由表：目的网络IP地址，子网掩码，下一跳IP地址，接口</p>
<p>转发表：由路由表得来，软件或者特殊的硬件实现。转发表必须包含完成转发功能所必需的信息。在转发表的每一行必需包含从要到达的目的网络到输出端口和某些MAC地址。</p>
<h2 id="4-9-第四章-网络层-总结"><a href="#4-9-第四章-网络层-总结" class="headerlink" title="4.9 第四章 网络层 总结"></a>4.9 第四章 网络层 总结</h2><p>网络层功能：</p>
<ol>
<li>异构网络互联</li>
<li>路由与转发</li>
<li>拥塞控制</li>
</ol>
<p>数据交换方式：</p>
<ol>
<li>电路交换</li>
<li>报文交换</li>
<li>分组交换</li>
</ol>
<p>IP数据报：</p>
<ol>
<li>格式</li>
<li>IP数据报分片</li>
</ol>
<p>IPv4地址：</p>
<ol>
<li>分类的IP地址—网络地址转换NAT</li>
<li>子网的划分</li>
<li>无分类编址CIDR—构成超网</li>
</ol>
<p>重要协议：</p>
<ol>
<li>ARP协议：MAC和IP的映射</li>
<li>DHCP协议：动态获取IP地址</li>
<li>ICMP协议</li>
<li>IGMP协议+组播路由选择协议(IP组播)</li>
</ol>
<p>IPv6：</p>
<ol>
<li>地址表示</li>
<li>IPv6到IPv4的过渡：双协议栈、隧道技术</li>
</ol>
<p>路由算法：</p>
<ol>
<li>动态路由算法：OSPF、RIP</li>
</ol>
<p>路由选择协议：</p>
<ol>
<li>内部网关协议：RIP、OSPF</li>
<li>外部网关协议：BGP</li>
</ol>
<p>移动IP：</p>
<p>路由器：</p>
<ol>
<li>路由选择</li>
<li>分组转发</li>
</ol>
<h1 id="5-传输层"><a href="#5-传输层" class="headerlink" title="5. 传输层"></a>5. 传输层</h1><h2 id="5-1-传输层概述"><a href="#5-1-传输层概述" class="headerlink" title="5.1 传输层概述"></a>5.1 传输层概述</h2><p><strong>传输层</strong></p>
<p>传输层的功能：</p>
<ol>
<li>传输层提供进程与进程之间的逻辑通信(网络层提供主机之间)</li>
<li>复用和分用</li>
<li>传输层对收到的报文进行差错检测</li>
<li>传输层的两种协议</li>
</ol>
<p>复用：应用层所有的应用进程都可以通过传输层再传输到网络层<br>分用：传输层从网络层收到数据后交付指明的应用进程</p>
<p><strong>传输层的两个协议</strong></p>
<p>TCP：面向连接的传输控制协议TCP，报文段，可靠，面向连接，时延大，适用于大文件<br>UDP：无连接的用户数据报协议UDP，数据报，不可靠，时延小，适用于小文件</p>
<p><strong>传输层的寻址与端口</strong></p>
<p>逻辑端口/软件端口：端口：是传输层的SAP，标识主机中的应用进程。<br>端口号长度为16bit，能表示65536个不同的端口号。</p>
<p>端口号：</p>
<ol>
<li>服务端使用：<br>1.1 熟知端口号：0-1023<br>1.2 登记端口号：1024-49151</li>
<li>客户端使用：动态分配</li>
</ol>
<p>HTTP：80<br>DNS：53</p>
<p>套接字：在网络中采用发送方和接收方的套接字组合来标识端点，套接字唯一标识了网络中的一个主机和它上面的一个进程</p>
<p>套接字：主机IP地址，进程端口</p>
<h2 id="5-2-UDP协议"><a href="#5-2-UDP协议" class="headerlink" title="5.2 UDP协议"></a>5.2 UDP协议</h2><p><strong>UDP</strong></p>
<p>用户数据报协议UDP：</p>
<ol>
<li>无连接</li>
<li>不保证可靠交付</li>
<li>面向报文(应用层报文)，适合一次性传输少量数据的网络应用</li>
<li>无拥塞控制，适合实时应用</li>
<li>UDP首部 8B</li>
</ol>


<h2 id="5-3-TCP协议"><a href="#5-3-TCP协议" class="headerlink" title="5.3 TCP协议"></a>5.3 TCP协议</h2><h3 id="5-3-1-TCP协议特点和TCP报文段"><a href="#5-3-1-TCP协议特点和TCP报文段" class="headerlink" title="5.3.1 TCP协议特点和TCP报文段"></a>5.3.1 TCP协议特点和TCP报文段</h3><p><strong>TCP协议特点</strong></p>
<ol>
<li>TCP面向连接(虚连接)的传输层协议</li>
<li>TCP连接只能有两个端点，是点对点的</li>
<li>TCP提供可靠交付，无差错、不丢失、不重复、按序到达</li>
<li>TCP提供全双工通信</li>
<li>TCP面向字节流：TCP把应用程序交下来的数据看成仅仅是一连串的无结构的字节流</li>
</ol>
<p><strong>TCP报文段首部格式</strong></p>
<p>确认号 ack：希望下一次传输的序号，或者该序号之前的(不包括本序号)的字节都已经确认收到<br>同步位 SYN：SYN=1时，表明是一个连接请求/连接接收报文<br>确认位 ACK：ACK=1时，确认号有效。连接建立后所有报文都需要ACK=1<br>终止位 FIN：FIN=1时，表明此报文段发送方数据已发完，要求释放连接。</p>
<h3 id="5-3-2-TCP连接管理"><a href="#5-3-2-TCP连接管理" class="headerlink" title="5.3.2 TCP连接管理"></a>5.3.2 TCP连接管理</h3><p>TCP连接：客户服务器方式，连接确立—数据传递—连接释放</p>
<p><strong>三次握手</strong></p>
<p>“三次握手” 过程：</p>
<ol>
<li>客户端发送 连接请求报文段，无应用层数据：同步位 SYN=1，序号 seq=x(随机)，确认位ACK=0(确认号无意义)</li>
<li>服务器为该TCP连接分配缓存和变量，并向客户端返回确认报文段，允许连接，无应用层数据。SYN=1，ACK=1，seq=y(随机)，确认号ack=x+1</li>
<li>客户端为该TCP连接分配缓存和变量，并向服务器端返回确认的确认，可以携带数据。SYN=0，ACK=1，seq=x+1，ack=y+1</li>
</ol>
<p><strong>四次挥手</strong></p>
<p>参与TCP的两个进程都可以终止连接，连接结束后，主机中的资源(缓存和变量)都被释放</p>
<ol>
<li>客户端发送连接释放报文段，停止发送数据。FIN=1，seq=u</li>
<li>服务器回送一个确认报文段，进入“半关闭状态”。ACK=1，seq=v，ack=u+1</li>
<li>服务器端发完数据，就发出连接释放报文段，主动关闭TCP连接。FIN=1，ACK=1，seq=w，ack=u+1。</li>
<li>客户端回送一个确认报文段，在等到时间等待计时器设置的2MSL(最长报文段寿命)后，连接彻底关闭。ACK=1，seq=u+1，ack=w+1</li>
</ol>
<h3 id="5-3-3-TCP可靠传输"><a href="#5-3-3-TCP可靠传输" class="headerlink" title="5.3.3 TCP可靠传输"></a>5.3.3 TCP可靠传输</h3><p>可靠传输：保证接收方进程从缓存区读出的字节流与发送方发出的字节流是完全一样的</p>
<p>TCP实现可靠传输的机制：</p>
<ol>
<li>校验：增加伪首部，校验码</li>
<li>序号：一个字节占一个序号，序号字段指一个报文的第一个字节的序号</li>
<li>确认：累计确认</li>
<li>重传：TCP的发送方在规定的时间内没有收到确认就要重传已发送的报文段，动态改变重传时间RTTs(加权平均往返时间)，冗余ACK</li>
</ol>
<p>冗余ACK：每当比期望序号大的失序报文段到达时，发送一个冗余ACK，指明下一个期待字节的序号，实现快速重传。</p>
<h3 id="5-3-4-TCP流量控制"><a href="#5-3-4-TCP流量控制" class="headerlink" title="5.3.4 TCP流量控制"></a>5.3.4 TCP流量控制</h3><p>流量控制：让发送方慢点</p>
<p>TCP流量控制：滑动窗口：在通信过程中，接收方根据字节接收缓存的大小，动态地调整发送方的发送窗口大小，即接收窗口rwnd，发送方的发送窗口取min(接收窗口rwnd和拥塞窗口cwnd)</p>
<p>接收窗口：接收方根据接收缓存设置的值，并告知给发送方，反映接收方容量<br>拥塞窗口：发送方根据自己估算的网络拥塞程度而设置的窗口值，反映网络当前容量</p>
<h3 id="5-3-5-TCP拥塞控制"><a href="#5-3-5-TCP拥塞控制" class="headerlink" title="5.3.5 TCP拥塞控制"></a>5.3.5 TCP拥塞控制</h3><p>TCP拥塞控制算法：慢开始、拥塞避免；快重传、快恢复</p>
<p>假定：</p>
<ol>
<li>数据单方向传送，另一个方向只传送确认</li>
<li>接收方总是有足够大的缓存空间，因而发送窗口大小取决于拥塞程度</li>
</ol>
<p><strong>慢开始与拥塞避免</strong></p>
<p>满开始：从一个报文段开始，指数增大，达到ssthresh值后线性增大，拥塞后重新初始化为0<br>拥塞避免：ssthresh的值在拥塞后变为拥塞窗口的一半</p>
<p><strong>快重传和快恢复</strong></p>
<p>快重传：收到3个重复的确认后(冗余ack)，执行快重传<br>快恢复：快重传发生时，ssthresh设置为拥塞窗口的一半，拥塞窗口设置为新的ssthresh</p>
<h2 id="5-4-传输层总结"><a href="#5-4-传输层总结" class="headerlink" title="5.4 传输层总结"></a>5.4 传输层总结</h2><p>协议：</p>
<ol>
<li>TCP</li>
<li>UDP</li>
<li>寻址与端口</li>
</ol>
<p>UDP：</p>
<ol>
<li>校验：伪首部校验</li>
</ol>
<p>TCP</p>
<h1 id="6-应用层"><a href="#6-应用层" class="headerlink" title="6. 应用层"></a>6. 应用层</h1><p>应用层<br>传输层<br>网络层<br>数据链路层<br>物理层</p>
<p>应用层协议定义：</p>
<ol>
<li>应用进程交换的报文类型，请求还是响应？</li>
<li>各种报文类型的语法</li>
</ol>
<p>应用层功能：</p>
<ol>
<li>文件传输、访问和管理</li>
<li>电子邮件</li>
<li>虚拟终端</li>
<li>查询服务和远程作业登录</li>
</ol>
<p>应用层的重要协议：</p>
<ol>
<li>FTP</li>
<li>SMTP、POP3</li>
<li>HTTP</li>
<li>DNS</li>
</ol>
<h2 id="6-1-网络应用模型"><a href="#6-1-网络应用模型" class="headerlink" title="6.1 网络应用模型"></a>6.1 网络应用模型</h2><p><strong>网络应用模型</strong></p>
<ol>
<li>客户/服务器模型(Client/Server)</li>
<li>P2P模型(Peer-to-Peer)</li>
</ol>
<p><strong>客户/服务器模型(C/S)模型</strong></p>
<p>客户：请求计算服务的主机，客户机之间不会互相通信<br>服务器：提供计算服务的设备，永久性访问地址/域名</p>
<p>应用：Web、文件传输FTP、远程登录、电子邮件</p>
<p><strong>P2P模型</strong></p>
<p>每个主机都可以提供和请求服务<br>节点可能改变IP地址<br>节点之间可以直接通讯</p>
<h2 id="6-2-域名解析系统DNS"><a href="#6-2-域名解析系统DNS" class="headerlink" title="6.2 域名解析系统DNS"></a>6.2 域名解析系统DNS</h2><p>DNS：域名—&gt;IP</p>
<p>跟：.<br>顶级域名：国家顶级域名:cn,us,uk；通用顶级域名:com,net,org；基础结构域名/反向域名: arpa<br>二级域名：类别域名: ac(科研),com,edu,gov,mil,net,org；行政区域名：各省；字节注册的<br>三级域名：…</p>
<p><strong>域名服务器</strong></p>
<p>根域名服务器：顶级域名器对应的IP地址<br>顶级域名服务器：二级域名服务器对应的IP地址<br>权限域名服务器：负责一个区的域名服务器<br>本地域名服务器：当一个主机发出DNS查询请求时，这个查询请求报文就发给本地域名服务器</p>
<p><strong>域名解析过程</strong></p>
<p>递归查询(少)：</p>
<p>本地域名服务器—根域名服务器—顶级域名服务器—权限域名服务器</p>
<p>迭代查询：</p>
<p>本地域名服务器—根域名服务器—本地域名服务器—顶级域名服务器—本地域名服务器—权限域名服务器</p>
<p>高速缓存</p>
<h2 id="6-3-文件传输协议-FTP"><a href="#6-3-文件传输协议-FTP" class="headerlink" title="6.3 文件传输协议 FTP"></a>6.3 文件传输协议 FTP</h2><p>文件传送协议FTP：提供不同种类主机系统之间的文件传输能力<br>简单文件传送协议TFTP</p>
<p>FTP基于客户/服务器的协议</p>
<p><strong>FTP工作原理</strong></p>
<p>登录：用户名密码；匿名登录(anonymous)</p>
<p>FTP基于TCP实现可靠传输</p>
<p>服务器进程：1个主进程，n个从属进程</p>
<p>客户端：</p>
<p>用户界面<br>控制进程(TCP控制连接端口 21)<br>数据传送进程(TCP数据连接端口 20)</p>
<p>服务器端：</p>
<p>控制进程(TCP控制连接端口 21)<br>数据传送进程(TCP数据连接端口 20)</p>
<p>控制连接始终保持<br>数据连接只保持一会</p>
<p>传输模式决定TCP 20 端口：主动方式：TCP20；被动方式：服务器与客户端自行协商(端口&gt;1024)</p>
<p>FTP传输模式：</p>
<ol>
<li>文本模式：ASCII模式，以文本序列传输数据</li>
<li>二进制模型：Binary模式，以二进制序列传输数据</li>
</ol>
<h2 id="6-4-电子邮件"><a href="#6-4-电子邮件" class="headerlink" title="6.4 电子邮件"></a>6.4 电子邮件</h2><p>SMTP协议：发<br>TCP连接<br>POP3协议：收<br>客户/服务器方式</p>
<p><strong>简单邮件传送协议SMTP</strong></p>
<p>TCP连接，端口 25，C/S</p>
<p>SMTP规定了在两个相互通信的SMTP进程之间如何交换信息<br>SMTP规定了14条命令(几个字母)和21种应答信息(三位数字代码+简单文字说明)</p>
<p>SMTP的缺点：</p>
<ol>
<li>SMTP不能传送可执行文件或者其他二进制对象</li>
<li>SMTP仅限于7位ASCII码，不能传送其他非英语国家的文字</li>
<li>SMTP服务器会拒绝超过一定长度的邮件</li>
</ol>
<p><strong>MIME</strong></p>
<p>通用因特网邮件扩充 MIME:SMTP—&gt;MIME</p>
<p><strong>邮局协议POP3</strong></p>
<p>TCP连接，端口 110，C/S</p>
<p>POP3：接收端服务器-&gt;接收方代理</p>
<p><strong>网际报文存取协议IMAP</strong></p>
<p>IMAP协议比POP协议复杂。用户可以只看邮件的首部，当需要打开时，该邮件才上传到用户的计算机上。</p>
<p><strong>基于万维网的电子邮件</strong></p>
<p>用户代理—HTTP—邮件服务器—SMTP—邮件服务器—HTTP—用户代理</p>
<h2 id="6-5-万维网和HTTP协议"><a href="#6-5-万维网和HTTP协议" class="headerlink" title="6.5 万维网和HTTP协议"></a>6.5 万维网和HTTP协议</h2><p>万维网 WWW ：是一个大规模的、联机式的信息资料空间，是无数个网络站点和网页的集合。</p>
<p>统一资源定位符 URL：&lt;协议&gt;://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt;<br>协议：http，ftp<br>主机：域名，IP地址</p>
<p>用户通过点击超链接获取资源，这些资源通过超文本传输协议(HTTP)传给使用者。<br>万维网以客户/服务器方式工作。<br>万维网使用超文本标记语音 HTML，使万维网页面设计者可以很方便地从一个界面的链接转到另一个界面，并能在自己的屏幕上显示出来。</p>
<p><strong>超文本传输协议HTTP</strong></p>
<p>HTTP协议：定义了浏览器(万维网客户进程)怎么样向万维网服务器请求万维网文档，以及服务器怎么样把文档传送给浏览器。</p>
<p>服务器进程监听 TCP连接 端口 80</p>
<p>用户浏览页面方法：</p>
<ol>
<li>输入URL</li>
<li>点击超链接</li>
</ol>
<p>HTTP的特点：</p>
<ol>
<li>HTTP协议是无状态的</li>
<li>Cookie：万维网识别用户</li>
<li>HTTP采用TCP作为运输层协议，但HTTP协议本身是无连接的(通信双方在交换HTTP报文之前不需要先建立HTTP连接)</li>
</ol>
<p>Cookie：存储在用户主机中的文本文件，记录一段时间内某用户(使用识别码识别)的访问记录。</p>
<p>HTTP的连接方式：</p>
<ol>
<li>持久连接(Keep-alive)<br>1.1 非流水线<br>1.2 流水线</li>
<li>非持久连接(Close)</li>
</ol>
<p><strong>超文本传输协议HTTP—报文结构</strong></p>
<p>HTTP报文：请求报文、响应报文</p>
<p>HTTP报文是面向文本的，因此在报文的每一个字段都是一些ASCII码串。</p>
<p>202 Accepted<br>301 重定向</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/408/" rel="tag"># 408</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/09/20/TCP_illustrated_1/" rel="next" title="TCP_illustrated">
                <i class="fa fa-chevron-left"></i> TCP_illustrated
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/09/22/java/" rel="prev" title="java参考">
                java参考 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">76</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">44</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">73</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C"><span class="nav-number">1.</span> <span class="nav-text">1. 计算机网络</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 计算机网络</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-1-%E6%A6%82%E5%BF%B5%E3%80%81%E7%BB%84%E6%88%90%E3%80%81%E5%8A%9F%E8%83%BD%E5%92%8C%E5%88%86%E7%B1%BB"><span class="nav-number">1.1.1.</span> <span class="nav-text">1.1.1 概念、组成、功能和分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-2-%E6%A0%87%E5%87%86%E5%8C%96%E5%B7%A5%E4%BD%9C%E5%8F%8A%E7%9B%B8%E5%85%B3%E7%BB%84%E7%BB%87"><span class="nav-number">1.1.2.</span> <span class="nav-text">1.1.2 标准化工作及相关组织</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-3-%E9%80%9F%E7%8E%87%E7%9B%B8%E5%85%B3%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="nav-number">1.1.3.</span> <span class="nav-text">1.1.3 速率相关的性能指标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-4-%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%872"><span class="nav-number">1.1.4.</span> <span class="nav-text">1.1.4 性能指标2</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-%E5%88%86%E5%B1%82%E7%BB%93%E6%9E%84"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 分层结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-2-%E5%88%86%E5%B1%82%E7%BB%93%E6%9E%84%EF%BC%9A%E5%8D%8F%E8%AE%AE%E3%80%81%E6%8E%A5%E5%8F%A3%E3%80%81%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.2.2 分层结构：协议、接口、服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-2-OSI%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B-1"><span class="nav-number">1.2.2.</span> <span class="nav-text">1.2.2 OSI参考模型 1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-3-OSI%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B-2"><span class="nav-number">1.2.3.</span> <span class="nav-text">1.2.3 OSI参考模型 2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-4-TCP%E3%80%81IP%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B%E5%92%8C5%E5%B1%82%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="nav-number">1.2.4.</span> <span class="nav-text">1.2.4 TCP、IP参考模型和5层参考模型</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E7%89%A9%E7%90%86%E5%B1%82"><span class="nav-number">2.</span> <span class="nav-text">2. 物理层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E7%89%A9%E7%90%86%E5%B1%82"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 物理层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-1-%E7%89%A9%E7%90%86%E5%B1%82%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">2.1.1.</span> <span class="nav-text">2.1.1 物理层基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-2-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="nav-number">2.1.2.</span> <span class="nav-text">2.1.2 数据通信基础知识</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-3-%E7%A0%81%E5%85%83%E3%80%81%E6%B3%A2%E7%89%B9%E3%80%81%E9%80%9F%E7%8E%87%E3%80%81%E5%B8%A6%E5%AE%BD"><span class="nav-number">2.1.3.</span> <span class="nav-text">2.1.3 码元、波特、速率、带宽</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-4-%E5%A5%88%E6%B0%8F%E5%87%86%E5%88%99%E5%92%8C%E9%A6%99%E5%86%9C%E5%AE%9A%E7%90%86"><span class="nav-number">2.1.4.</span> <span class="nav-text">2.1.4 奈氏准则和香农定理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-5-%E7%BC%96%E7%A0%81%E4%B8%8E%E8%B0%83%E5%88%B6-1"><span class="nav-number">2.1.5.</span> <span class="nav-text">2.1.5 编码与调制 1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-6-%E7%BC%96%E7%A0%81%E4%B8%8E%E8%B0%83%E5%88%B6-2"><span class="nav-number">2.1.6.</span> <span class="nav-text">2.1.6 编码与调制 2</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-%E7%89%A9%E7%90%86%E5%B1%82%E4%BC%A0%E8%BE%93%E4%BB%8B%E8%B4%A8"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 物理层传输介质</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-%E7%89%A9%E7%90%86%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 物理层设备</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="nav-number">3.</span> <span class="nav-text">3. 数据链路层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E5%8A%9F%E8%83%BD%E6%8F%8F%E8%BF%B0"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 数据链路层功能描述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7%E5%92%8C%E9%80%8F%E6%98%8E%E4%BC%A0%E8%BE%93"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 封装成帧和透明传输</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 差错控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-1-%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6%E2%80%94%E6%A3%80%E9%94%99%E7%BC%96%E7%A0%81"><span class="nav-number">3.3.1.</span> <span class="nav-text">3.3.1 差错控制—检错编码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-2-%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6%E2%80%94%E7%BA%A0%E9%94%99%E7%BC%96%E7%A0%81"><span class="nav-number">3.3.2.</span> <span class="nav-text">3.3.2 差错控制—纠错编码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E6%9C%BA%E5%88%B6"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 流量控制与可靠传输机制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-1-%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E6%9C%BA%E5%88%B6-%E7%AC%AC%E4%B8%80%E8%AF%9D"><span class="nav-number">3.4.1.</span> <span class="nav-text">3.4.1 流量控制与可靠传输机制(第一话)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-2-%E5%81%9C%E6%AD%A2-%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.4.2.</span> <span class="nav-text">3.4.2 停止-等待协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-3-%E5%90%8E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE-GBN"><span class="nav-number">3.4.3.</span> <span class="nav-text">3.4.3 后退N帧协议 GBN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-4-%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AE-SR"><span class="nav-number">3.4.4.</span> <span class="nav-text">3.4.4 选择重传协议 SR</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-%E4%BF%A1%E9%81%93%E5%88%92%E5%88%86%E4%BB%8B%E8%B4%A8"><span class="nav-number">3.5.</span> <span class="nav-text">3.5 信道划分介质</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-1-%E4%BF%A1%E9%81%93%E5%88%92%E5%88%86%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="nav-number">3.5.1.</span> <span class="nav-text">3.5.1 信道划分介质访问控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-2-ALOHA%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.5.2.</span> <span class="nav-text">3.5.2 ALOHA协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-3-CSMA%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.5.3.</span> <span class="nav-text">3.5.3 CSMA协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-4-CSMA-CD%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.5.4.</span> <span class="nav-text">3.5.4 CSMA-CD协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-5-CSMA-CA%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.5.5.</span> <span class="nav-text">3.5.5 CSMA-CA协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-6-%E8%BD%AE%E8%AF%A2%E8%AE%BF%E9%97%AE%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="nav-number">3.5.6.</span> <span class="nav-text">3.5.6 轮询访问介质访问控制</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-6-%E5%B1%80%E5%9F%9F%E7%BD%91%E5%92%8C%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="nav-number">3.6.</span> <span class="nav-text">3.6 局域网和以太网</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-1-%E5%B1%80%E5%9F%9F%E7%BD%91%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="nav-number">3.6.1.</span> <span class="nav-text">3.6.1 局域网基本概念和体系结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-2-%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="nav-number">3.6.2.</span> <span class="nav-text">3.6.2 以太网</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-3-%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="nav-number">3.6.3.</span> <span class="nav-text">3.6.3 无线局域网</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-7-PPP%E5%8D%8F%E8%AE%AE%E4%B8%8EHDLC%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.7.</span> <span class="nav-text">3.7 PPP协议与HDLC协议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-8-%E9%93%BE%E8%B7%AF%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="nav-number">3.8.</span> <span class="nav-text">3.8 链路层设备</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="nav-number">4.</span> <span class="nav-text">4. 网络层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="nav-number">4.1.</span> <span class="nav-text">4.1 网络层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-1-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8A%9F%E8%83%BD%E6%A6%82%E8%BF%B0"><span class="nav-number">4.1.1.</span> <span class="nav-text">4.1.1 网络层功能概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-2-%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E6%96%B9%E5%BC%8F"><span class="nav-number">4.1.2.</span> <span class="nav-text">4.1.2 数据交换方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-3-%E6%95%B0%E6%8D%AE%E6%8A%A5%E4%B8%8E%E8%99%9A%E7%94%B5%E8%B7%AF"><span class="nav-number">4.1.3.</span> <span class="nav-text">4.1.3 数据报与虚电路</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-IP%E6%95%B0%E6%8D%AE%E6%8A%A5"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 IP数据报</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-1-IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%A0%BC%E5%BC%8F"><span class="nav-number">4.2.1.</span> <span class="nav-text">4.2.1 IP数据报格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-2-IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%88%86%E7%89%87"><span class="nav-number">4.2.2.</span> <span class="nav-text">4.2.2 IP数据报分片</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-3-IPv4%E5%9C%B0%E5%9D%80"><span class="nav-number">4.2.3.</span> <span class="nav-text">4.2.3 IPv4地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-4-%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2NAT"><span class="nav-number">4.2.4.</span> <span class="nav-text">4.2.4 网络地址转换NAT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-5-%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86%E5%92%8C%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="nav-number">4.2.5.</span> <span class="nav-text">4.3.5 子网划分和子网掩码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-6-%E6%97%A0%E5%88%86%E7%B1%BB%E7%BC%96%E5%9D%80-CIDR-%E6%9E%84%E6%88%90%E8%B6%85%E7%BD%91"><span class="nav-number">4.2.6.</span> <span class="nav-text">4.2.6 无分类编址 CIDR (构成超网)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-7-ARP%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.2.7.</span> <span class="nav-text">4.2.7 ARP协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-8-DHCP%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.2.8.</span> <span class="nav-text">4.2.8 DHCP协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-9-ICMP%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.2.9.</span> <span class="nav-text">4.2.9 ICMP协议</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-IPv6"><span class="nav-number">4.3.</span> <span class="nav-text">4.3 IPv6</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-4-%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95%E4%B8%8E%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E6%A6%82%E8%BF%B0"><span class="nav-number">4.4.</span> <span class="nav-text">4.4 路由算法与路由协议概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-5-%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E7%AE%97%E6%B3%95%E7%9A%84%E5%85%B7%E4%BD%93%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.5.</span> <span class="nav-text">4.5 路由选择算法的具体协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-1-RIP%E5%8D%8F%E8%AE%AE%E4%B8%8E%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%E7%AE%97%E6%B3%95"><span class="nav-number">4.5.1.</span> <span class="nav-text">4.5.1 RIP协议与距离向量算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-2-OSPF%E5%8D%8F%E8%AE%AE%E4%B8%8E%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E7%AE%97%E6%B3%95"><span class="nav-number">4.5.2.</span> <span class="nav-text">4.5.2 OSPF协议与链路状态算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-3-BGP%E5%8D%8F%E8%AE%AE"><span class="nav-number">4.5.3.</span> <span class="nav-text">4.5.3 BGP协议</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-6-IP%E7%BB%84%E6%92%AD"><span class="nav-number">4.6.</span> <span class="nav-text">4.6 IP组播</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-7-%E7%A7%BB%E5%8A%A8IP"><span class="nav-number">4.7.</span> <span class="nav-text">4.7 移动IP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-8-%E7%BD%91%E7%BB%9C%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="nav-number">4.8.</span> <span class="nav-text">4.8 网络层设备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-9-%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E7%BD%91%E7%BB%9C%E5%B1%82-%E6%80%BB%E7%BB%93"><span class="nav-number">4.9.</span> <span class="nav-text">4.9 第四章 网络层 总结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="nav-number">5.</span> <span class="nav-text">5. 传输层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-%E4%BC%A0%E8%BE%93%E5%B1%82%E6%A6%82%E8%BF%B0"><span class="nav-number">5.1.</span> <span class="nav-text">5.1 传输层概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-UDP%E5%8D%8F%E8%AE%AE"><span class="nav-number">5.2.</span> <span class="nav-text">5.2 UDP协议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-TCP%E5%8D%8F%E8%AE%AE"><span class="nav-number">5.3.</span> <span class="nav-text">5.3 TCP协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-1-TCP%E5%8D%8F%E8%AE%AE%E7%89%B9%E7%82%B9%E5%92%8CTCP%E6%8A%A5%E6%96%87%E6%AE%B5"><span class="nav-number">5.3.1.</span> <span class="nav-text">5.3.1 TCP协议特点和TCP报文段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-2-TCP%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86"><span class="nav-number">5.3.2.</span> <span class="nav-text">5.3.2 TCP连接管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-3-TCP%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93"><span class="nav-number">5.3.3.</span> <span class="nav-text">5.3.3 TCP可靠传输</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-4-TCP%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="nav-number">5.3.4.</span> <span class="nav-text">5.3.4 TCP流量控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-5-TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="nav-number">5.3.5.</span> <span class="nav-text">5.3.5 TCP拥塞控制</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-4-%E4%BC%A0%E8%BE%93%E5%B1%82%E6%80%BB%E7%BB%93"><span class="nav-number">5.4.</span> <span class="nav-text">5.4 传输层总结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-%E5%BA%94%E7%94%A8%E5%B1%82"><span class="nav-number">6.</span> <span class="nav-text">6. 应用层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1-%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9E%8B"><span class="nav-number">6.1.</span> <span class="nav-text">6.1 网络应用模型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E7%B3%BB%E7%BB%9FDNS"><span class="nav-number">6.2.</span> <span class="nav-text">6.2 域名解析系统DNS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-3-%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE-FTP"><span class="nav-number">6.3.</span> <span class="nav-text">6.3 文件传输协议 FTP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-4-%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="nav-number">6.4.</span> <span class="nav-text">6.4 电子邮件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-5-%E4%B8%87%E7%BB%B4%E7%BD%91%E5%92%8CHTTP%E5%8D%8F%E8%AE%AE"><span class="nav-number">6.5.</span> <span class="nav-text">6.5 万维网和HTTP协议</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">TianJiajie</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
