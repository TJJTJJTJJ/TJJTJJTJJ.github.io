<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Linux | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Linux">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux">
<meta property="og:url" content="http://example.com/2019/12/06/Linux/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Linux">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-12-06T08:26:19.000Z">
<meta property="article:modified_time" content="2020-01-17T13:09:13.671Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-Linux" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/12/06/Linux/" class="article-date">
  <time class="dt-published" datetime="2019-12-06T08:26:19.000Z" itemprop="datePublished">2019-12-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Linux
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><span id="more"></span>

<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/av21303002?p=1">尚硅谷</a></li>
<li><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/714.html">http://c.biancheng.net/view/714.html</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_39038465/article/details/81478847">https://blog.csdn.net/qq_39038465/article/details/81478847</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42570879/article/details/82853708">https://blog.csdn.net/qq_42570879/article/details/82853708</a></li>
</ul>
<p>主机BIOS开启虚拟化+VM workstation+centos(GNOME Desktop+NAT)</p>
<h2 id="网络连接"><a href="#网络连接" class="headerlink" title="网络连接"></a>网络连接</h2><p>假设教室的主机都在同一个网段 192.168.0.0，</p>
<ul>
<li>桥接模式：张三的虚拟机的ip也是192.168.0.xxx，占用网络ip，相当于新来了个主机，可以与张三互相通信，也可以和教室的其他主机互相通信，可以访问外网，缺点是可能会造成ip冲突</li>
<li>NAT(常用)：李四的主机此时会出现两个ip，原有ip 192.168.0.50 和新ip 192.168.100.4，两个不在同一个网段，而虚拟机的ip是 192.168.100.5，虚拟机可以和李四的主机通过局域网 192.168.100.0 互相通信，虚拟机也可以和李四的其他虚拟机互相通信，也可以借助李四的主机访问到其他主机，可以上外网，但是其他主机无法访问到李四的虚拟机。不过可以使用端口转发功能实现其他主机访问李四的虚拟机。</li>
<li>仅主机：虚拟机是一个独立的主机，只能与主机相互通信，无法与其他主机通信，也无法上网。可以通过网卡共享实现上网。</li>
</ul>
<p>网络连接测试:</p>
<p>因为主机是直接连接在255的网络上，所以无法测试虚拟机与局域网内的其他主机的通信情况(ping)。</p>
<p>VM安装之后宿主机自动配置网络 V1:192.168.176.1, V8:192.168.44.1</p>
<p>算了，还是没折腾明白，以后有机会再说吧。</p>
<h2 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h2><ul>
<li>&#x2F;boot: 200M，linux启动文件，ext4</li>
<li>&#x2F;</li>
<li>swap：2048M，内存的1.5倍，ext4</li>
</ul>
<p><strong>win和虚拟机的复制粘贴命令，共享文件夹</strong>: vmtools, &#x2F;mnt&#x2F;</p>
<p>linux一切皆为文件</p>
<p>Xshell: 远程登录软件 XFTP5：远程上传下载文件</p>
<h1 id="实操篇"><a href="#实操篇" class="headerlink" title="实操篇"></a>实操篇</h1><h2 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h2><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="left">操作</th>
</tr>
</thead>
<tbody><tr>
<td align="center">yy</td>
<td align="left">复制当前行</td>
</tr>
<tr>
<td align="center">5yy</td>
<td align="left">复制当前行的向下5行</td>
</tr>
<tr>
<td align="center">p</td>
<td align="left">粘贴</td>
</tr>
<tr>
<td align="center">dd</td>
<td align="left">删除当前行</td>
</tr>
<tr>
<td align="center">5dd</td>
<td align="left">删除当前行的向下5行</td>
</tr>
<tr>
<td align="center">&#x2F;hhh</td>
<td align="left">查找hhh</td>
</tr>
<tr>
<td align="center">n</td>
<td align="left">查找下一个</td>
</tr>
<tr>
<td align="center">:set nu</td>
<td align="left">设置行号</td>
</tr>
<tr>
<td align="center">:set nonu</td>
<td align="left">取消行号</td>
</tr>
<tr>
<td align="center">gg</td>
<td align="left">首行</td>
</tr>
<tr>
<td align="center">5gg</td>
<td align="left">第5行</td>
</tr>
<tr>
<td align="center">G</td>
<td align="left">末行</td>
</tr>
<tr>
<td align="center">20+shift+g</td>
<td align="left">第20行</td>
</tr>
</tbody></table>
<h2 id="关机"><a href="#关机" class="headerlink" title="关机"></a>关机</h2><p>shutdown:</p>
<ul>
<li>shutdown -h now: 立即关机</li>
<li>shutdown -h 1: 1分钟后关机</li>
<li>shutdown -r now: 立即重启</li>
</ul>
<p>halt: 关机<br>reboot: 重启<br>sync: 内存数据同步到磁盘</p>
<p>应该先执行 sync，再关机</p>
<p>logout：注销用户，在运行级别3下有效，在用户界面无效</p>
<p>logout: 只能在非用户界面的登录的shell使用，<br>exit：可以用于脚本并返回信息，可以在套层shell中退出当前shell，可以在切换过用户的情况下使用</p>
<h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 用户管理</span></span><br><span class="line">useradd [] 用户名</span><br><span class="line">useradd tjj</span><br><span class="line">useradd -d /home/tiger zf</span><br><span class="line">passwd zf <span class="comment"># 指定或者修改密码</span></span><br><span class="line">userdel zf <span class="comment"># 保留/HOME_NAME目录</span></span><br><span class="line">userdel -r zf <span class="comment"># 删除/HOME_NAME目录</span></span><br><span class="line">usermod -d /usr/newfolder -u uid username <span class="comment"># 修改用户目录</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">id</span> root</span><br><span class="line">su zf <span class="comment"># 只是切换用户，shell环境还是之前用户的shell，只能用exit退出</span></span><br><span class="line">su - zf <span class="comment"># 用户和shell都一起切换，可以用logout, exit退出</span></span><br><span class="line"><span class="comment"># su, su - : echo $PATH, pwd 都不一样</span></span><br><span class="line"><span class="built_in">whoami</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 组的管理</span></span><br><span class="line">groupadd wudang</span><br><span class="line">groupdel wudang</span><br><span class="line">useradd -g wudang zwj</span><br><span class="line">usermod -g shaolin zwj</span><br><span class="line"></span><br><span class="line"><span class="comment"># 相关文件</span></span><br><span class="line">/etc/passwd <span class="comment"># 用户信息</span></span><br><span class="line">/etc/group <span class="comment"># 组信息</span></span><br><span class="line">/etc/shadow <span class="comment"># 密码等信息</span></span><br></pre></td></tr></table></figure>

<h2 id="实用指令"><a href="#实用指令" class="headerlink" title="实用指令"></a>实用指令</h2><h3 id="运行级别"><a href="#运行级别" class="headerlink" title="运行级别"></a>运行级别</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 指定运行级别</span></span><br><span class="line"><span class="comment"># 常用3和5</span></span><br><span class="line">0: 关机</span><br><span class="line">1: 单用户，找回丢失密码</span><br><span class="line">2: 多用户无网络服务</span><br><span class="line">3: 多用户有网络服务</span><br><span class="line">4: 系统未实用保留给用户</span><br><span class="line">5: 图形界面</span><br><span class="line">6: 系统重启</span><br><span class="line">/etc/inittab <span class="comment"># 运行级别配置文件</span></span><br><span class="line">init 2 <span class="comment"># 切换到运行级别</span></span><br><span class="line"><span class="comment"># centos7 使用systemctl代替init</span></span><br><span class="line">systemctl get-default</span><br><span class="line">systemctl set-default multi-user.target</span><br><span class="line">systemctl isolate multi-user.target</span><br><span class="line">systemctl isolate graphical.target</span><br><span class="line">runlevel</span><br><span class="line"><span class="comment"># 找回/修改root密码</span></span><br><span class="line"><span class="comment"># 进入单用户模式, centos6 和 7 有点区别</span></span><br><span class="line"><span class="comment"># https://www.cnblogs.com/jsjrj01/p/10301603.html</span></span><br></pre></td></tr></table></figure>

<h3 id="帮助指令"><a href="#帮助指令" class="headerlink" title="帮助指令"></a>帮助指令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">man <span class="built_in">ls</span></span><br><span class="line"><span class="built_in">help</span> <span class="built_in">cd</span></span><br><span class="line"><span class="built_in">ls</span> --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>

<h3 id="文件目录"><a href="#文件目录" class="headerlink" title="文件目录"></a>文件目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">pwd</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /home/tjj/animal/dog</span><br><span class="line"><span class="built_in">rmdir</span> <span class="comment"># 删除空目录</span></span><br><span class="line"><span class="built_in">rm</span> -rf <span class="comment"># 非空目录</span></span><br><span class="line"><span class="built_in">touch</span> test1.txt test2.txt <span class="comment"># 创建空文件</span></span><br><span class="line"><span class="built_in">cp</span> aaa.txt ./bbb/ <span class="comment"># bbb/aaa.txt</span></span><br><span class="line"><span class="built_in">cp</span> aaa.txt ./bbb/bbb.txt <span class="comment"># bbb/bbb.txt</span></span><br><span class="line"><span class="built_in">cp</span> -r bbb/ ccc/ <span class="comment"># ccc/bbb/bbb.txt</span></span><br><span class="line"><span class="built_in">cp</span> -r bbb/ ccc/ddd <span class="comment"># ccc/ddd/bbb.txt</span></span><br><span class="line"><span class="built_in">cp</span> -r bbb/. ccc/ <span class="comment"># 文件夹下的所有文件复制到另一个文件夹 ccc/aaa.txt ccc/bbb.txt</span></span><br><span class="line"><span class="built_in">cp</span> -r bbb/* ccc/ <span class="comment"># 同上，文件夹下的所有文件复制到另一个文件夹</span></span><br><span class="line"><span class="built_in">mv</span> oldName newName <span class="comment"># 重命名，需要oldName和newName在同一个文件夹</span></span><br><span class="line"><span class="built_in">mv</span> aaa.txt ./bbb/bbb.txt <span class="comment"># 移动的同时重命名，./bbb 存在</span></span><br><span class="line"><span class="built_in">mv</span> aaa.txt ./bbb/ <span class="comment"># bbb存在，移动</span></span><br><span class="line"><span class="built_in">cat</span> -n /etc/profile | more <span class="comment"># 空格，enter</span></span><br><span class="line">more /etc/profile <span class="comment"># 空格，enter</span></span><br><span class="line">less /etc/profile <span class="comment"># 只加载需要显示的内容，对于大型文件有效率，空格，enter</span></span><br><span class="line">less /etc/profile , /hhh <span class="comment"># 查找</span></span><br></pre></td></tr></table></figure>

<h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  <span class="comment"># 输出重定向，覆盖写，文件可不存在</span></span><br><span class="line">&gt;&gt; <span class="comment"># 输出重定向，追加</span></span><br></pre></td></tr></table></figure>

<h3 id="echo-head-tail"><a href="#echo-head-tail" class="headerlink" title="echo head tail"></a>echo head tail</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="built_in">head</span> /etc/profile <span class="comment"># 查看文件的开头部分内容</span></span><br><span class="line"><span class="built_in">head</span> -n 5 /etc/profile</span><br><span class="line"><span class="built_in">tail</span> /etc/profile <span class="comment"># 查看文件的尾部内容</span></span><br><span class="line"><span class="built_in">tail</span> -n 5 /etc/profile</span><br><span class="line"><span class="built_in">tail</span> -f log.txt <span class="comment"># 实时追踪文件的更新</span></span><br></pre></td></tr></table></figure>

<h3 id="ln-history"><a href="#ln-history" class="headerlink" title="ln history"></a>ln history</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -s /root/ /home/tjj/linkToRoot <span class="comment"># 软连接</span></span><br><span class="line"><span class="built_in">rm</span> -rf /home/tjj/linkToRoot <span class="comment"># 不能写成 /home/tjj/linkToRoot/</span></span><br><span class="line"><span class="built_in">history</span></span><br><span class="line"><span class="built_in">history</span> 10 <span class="comment"># 最近的10条指令</span></span><br><span class="line">!178 <span class="comment"># 执行编号是178的指令</span></span><br></pre></td></tr></table></figure>

<h3 id="时间日期"><a href="#时间日期" class="headerlink" title="时间日期"></a>时间日期</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> <span class="comment"># 显示日期</span></span><br><span class="line"><span class="built_in">date</span> <span class="string">&quot;+%Y %m %d %H:%M:%S&quot;</span> <span class="comment"># 显示日期,+不能省略</span></span><br><span class="line"><span class="built_in">date</span> -s <span class="string">&quot;2019-11-11 12:23:34&quot;</span> <span class="comment"># 设置系统时间</span></span><br><span class="line"></span><br><span class="line">cal <span class="comment"># 日历</span></span><br><span class="line">cal 2020 <span class="comment"># 显示2020年的日历</span></span><br></pre></td></tr></table></figure>

<h3 id="搜索查找类"><a href="#搜索查找类" class="headerlink" title="搜索查找类"></a>搜索查找类</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">find [搜索范围] [选项]</span><br><span class="line">find /home -name hello.txt <span class="comment"># 按名字搜索</span></span><br><span class="line">find /home -user tjj <span class="comment"># 按照拥有者查找</span></span><br><span class="line">find / -size +20M <span class="comment"># 查找大于20M的文件，20k, -20M(小于20M), 20M(等于20M)</span></span><br><span class="line">find /home -name <span class="string">&quot;*.txt&quot;</span> <span class="comment"># \*.txt, m*.txt, &quot;m*.txt&quot;</span></span><br><span class="line">find / -mtime n <span class="comment"># n:(n+1)*24~n*24, -n:n*24~0, +n: ~(n+1)*24</span></span><br><span class="line"></span><br><span class="line">updatedb <span class="comment"># 第一次运行时需要建立 locate 数据库</span></span><br><span class="line">locate hello.txt</span><br><span class="line"></span><br><span class="line">grep [选项] 查找内容 源文件</span><br><span class="line">grep -n <span class="built_in">yes</span> hello.txt <span class="comment"># 显示行号</span></span><br><span class="line">grep -i <span class="built_in">yes</span> hello.txt <span class="comment"># 忽略大小写</span></span><br><span class="line"><span class="built_in">cat</span> hello.txt | grep -n <span class="built_in">yes</span></span><br></pre></td></tr></table></figure>

<p>{ % assert_img find -mtime find.png % }</p>
<h3 id="压缩和解压缩"><a href="#压缩和解压缩" class="headerlink" title="压缩和解压缩"></a>压缩和解压缩</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">gzip/gunzip</span><br><span class="line"><span class="comment"># gzip文件不能直接压缩目录，如果要压缩目录，需要先将目录打包成一个文件</span></span><br><span class="line">gzip hello.txt <span class="comment"># 压缩成.gz文件，并且压缩后不会保留原文件</span></span><br><span class="line">gunzip hello.txt.gz <span class="comment"># 解压</span></span><br><span class="line">gzip hello1.txt hello2.txt <span class="comment"># 压缩成 hello1.txt.gz hello2.txt.gz</span></span><br><span class="line">gzip -c hello.txt &gt; hhh.gz <span class="comment"># 保留源文件，并对压缩后的文件重命名</span></span><br><span class="line"><span class="built_in">ls</span> -l | gzip &gt; testgzip.gz <span class="comment"># 对终端输出的内容压缩并重定向到文件中，不确定tar是否可以做到</span></span><br><span class="line"></span><br><span class="line">zip/unzip</span><br><span class="line">zip -r mypackage.zip /home/tjj/ <span class="comment"># 递归压缩</span></span><br><span class="line">unzip -d /opt/tmp/ mypackage.zip <span class="comment"># 指定解压后的文件目录</span></span><br><span class="line"></span><br><span class="line">tar <span class="comment"># .tar.gz</span></span><br><span class="line">tar -zcvf a.tar.gz a1.txt a2.txt <span class="comment"># 将a1.txt和a2.txt压缩到一个压缩包，a.tar.gz</span></span><br><span class="line">tar -zcvf a.tar.gz /home/tjj/ <span class="comment"># 压缩文件夹</span></span><br><span class="line">tar -zxvf a.tar.gz <span class="comment">#</span></span><br><span class="line">tar -zxvf a.tar.gz -C /opt/ <span class="comment"># 解压到/opt下</span></span><br></pre></td></tr></table></figure>

<h2 id="组管理和权限管理"><a href="#组管理和权限管理" class="headerlink" title="组管理和权限管理"></a>组管理和权限管理</h2><h3 id="组"><a href="#组" class="headerlink" title="组"></a>组</h3><p>文件: 所有人，所有组，其他组<br>所有人的组和所有组可以不一致。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -ahl ok.txt</span><br><span class="line">groupadd police</span><br><span class="line">useradd -g police tom</span><br><span class="line">passwd tom</span><br><span class="line">su tom</span><br><span class="line"><span class="built_in">touch</span> ok.txt</span><br><span class="line">[tom@localhost ~]$ <span class="built_in">ls</span> -hl</span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 tom police 0 Dec 12 21:37 ok.txt</span><br><span class="line"></span><br><span class="line"><span class="built_in">chown</span> tjj ok.txt <span class="comment"># 修改文件所有人</span></span><br><span class="line">[root@localhost tom]<span class="comment"># chown tjj ok.txt</span></span><br><span class="line">[root@localhost tom]<span class="comment"># ls -l</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 tjj police 0 Dec 12 21:37 ok.txt <span class="comment"># 组没有发生变化</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">chown</span> tom:police ok.txt <span class="comment"># 同时修改文件的所有人和所有者</span></span><br><span class="line"><span class="built_in">chown</span> -R tom:police test1/ <span class="comment"># 递归修改目录及其所有子目录的所有人和所有者</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">chgrp</span> shaolin ok.txt <span class="comment"># 只修改所在组</span></span><br><span class="line"><span class="built_in">chgrp</span> -R shaolin test2/ <span class="comment"># 递归所有目录修改所在组</span></span><br><span class="line">[root@localhost tom]<span class="comment"># chgrp shaolin ok.txt</span></span><br><span class="line">[root@localhost tom]<span class="comment"># ls -l</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 tjj shaolin 0 Dec 12 21:37 ok.txt</span><br><span class="line"></span><br><span class="line">usermod -g 组名 用户名 <span class="comment"># 修改用户所在组</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 情况一：建立test1.txt，默认所有人和所有组，当所有人所在组发生改变时，文件的所有组也发生改变</span></span><br><span class="line">[root@localhost tom]<span class="comment"># ls -l</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 tom police 0 Dec 12 21:47 test1.txt</span><br><span class="line">[root@localhost tom]<span class="comment"># usermod -g shaolin tom</span></span><br><span class="line">[root@localhost tom]<span class="comment"># id tom</span></span><br><span class="line">uid=1006(tom) gid=1006(shaolin) <span class="built_in">groups</span>=1006(shaolin)</span><br><span class="line">[root@localhost tom]<span class="comment"># ls -l</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 tom shaolin 0 Dec 12 21:47 test1.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 情况二：建立test1.txt，对文件所在组发生改变后，当所有人所在组发生改变时，文件的所在组不发生改变</span></span><br><span class="line">[root@localhost tom]<span class="comment"># chgrp shaolin test1.txt</span></span><br><span class="line">[root@localhost tom]<span class="comment"># ls -l</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 tom shaolin 0 Dec 12 21:55 test1.txt</span><br><span class="line">[root@localhost tom]<span class="comment"># usermod -g test1 tom</span></span><br><span class="line">[root@localhost tom]<span class="comment"># ls -l</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 tom shaolin 0 Dec 12 21:55 test1.txt</span><br><span class="line">[root@localhost tom]<span class="comment"># id tom</span></span><br><span class="line">uid=1006(tom) gid=1001(test1) <span class="built_in">groups</span>=1001(test1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 情况三：修改所有人的所在组和文件的所有组一致后，再修改所有人的所在组就会改变文件的所在组</span></span><br><span class="line">[root@localhost tom]<span class="comment"># usermod -g shaolin tom</span></span><br><span class="line">[root@localhost tom]<span class="comment"># id tom</span></span><br><span class="line">uid=1006(tom) gid=1006(shaolin) <span class="built_in">groups</span>=1006(shaolin)</span><br><span class="line">[root@localhost tom]<span class="comment"># ls -l</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 tom shaolin 0 Dec 12 21:55 test1.txt</span><br><span class="line">[root@localhost tom]<span class="comment"># usermod -g test1 tom</span></span><br><span class="line">[root@localhost tom]<span class="comment"># id tom</span></span><br><span class="line">uid=1006(tom) gid=1001(test1) <span class="built_in">groups</span>=1001(test1)</span><br><span class="line">[root@localhost tom]<span class="comment"># ls -l</span></span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 tom test1 0 Dec 12 21:55 test1.txt</span><br></pre></td></tr></table></figure>

<h3 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h3><p>文件和目录的权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost tjj]<span class="comment"># ls -l</span></span><br><span class="line">total 64344</span><br><span class="line">-rw-rw-r--. 1 tjj tjj        0 Dec 12 20:56 a1.txt</span><br><span class="line">drwxrwxr-x. 4 tjj tjj       28 Dec 12 21:01 animal</span><br><span class="line">drwxr-xr-x. 2 tjj tjj   6 Dec  9 16:04 Music</span><br><span class="line">drwxr-xr-x. 2 tjj tjj   6 Dec  9 16:04 Pictures</span><br><span class="line">drwxr-xr-x. 2 tjj tjj   6 Dec  9 16:04 Public</span><br><span class="line">drwxr-xr-x. 2 tjj tjj   6 Dec  9 16:04 Templates</span><br><span class="line">drwxr-xr-x. 2 tjj tjj   6 Dec  9 16:04 Videos</span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件类型</span></span><br><span class="line">- <span class="comment"># 普通文件</span></span><br><span class="line">d <span class="comment"># 目录</span></span><br><span class="line">l <span class="comment"># 软连接</span></span><br><span class="line">c <span class="comment"># 字符设备，键盘，鼠标等</span></span><br><span class="line">b <span class="comment"># 块文件，硬盘等</span></span><br><span class="line"></span><br><span class="line">1 <span class="comment"># 文件：硬链接 或者 目录: 子目录的个数</span></span><br><span class="line"></span><br><span class="line">7 <span class="comment"># 文件内的字符个数+1 &#x27;\0&#x27;</span></span><br><span class="line">4096 <span class="comment"># 目录的大小：4096，这里与老师讲的不一致。一种解释是块的大小是4KB</span></span><br><span class="line"></span><br><span class="line">Dec 12 21:55 <span class="comment"># 最后修改时间</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## rwx 详解</span></span><br><span class="line"><span class="comment"># 文件</span></span><br><span class="line"><span class="comment"># r=4, w=2, x=1</span></span><br><span class="line">r <span class="comment"># 读</span></span><br><span class="line">w <span class="comment"># 写，可以修改文件内的内容，对文件重命名</span></span><br><span class="line">x <span class="comment"># 可执行</span></span><br><span class="line"><span class="comment"># 目录</span></span><br><span class="line">r <span class="comment"># 读，ls</span></span><br><span class="line">w <span class="comment"># 写，可以在目录内创建、删除，对目录重命名</span></span><br><span class="line">x <span class="comment"># 可以进入，cd</span></span><br></pre></td></tr></table></figure>

<h3 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> <span class="comment"># 修改文件或者目录权限</span></span><br><span class="line">+ - = <span class="comment"># 变更权限</span></span><br><span class="line">u: 所有者 g: 所在组 o: 其他人 a: 所有人</span><br><span class="line"><span class="built_in">chmod</span> u=rwx,g=rx,o=x 文件目录名</span><br><span class="line"><span class="built_in">chmod</span> o+w 文件目录名</span><br><span class="line"><span class="built_in">chmod</span> a-x 文件目录名</span><br><span class="line"><span class="built_in">chmod</span> 751 文件目录名</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 权限实践-警察土匪游戏</span></span><br><span class="line"><span class="comment"># police: jack, jerry; bandit: xh, xq</span></span><br><span class="line">groupadd police</span><br><span class="line">groupadd bandit</span><br><span class="line">useradd -g police jack</span><br><span class="line">passwd jack</span><br><span class="line">useradd -g police jerry</span><br><span class="line">passwd jerry</span><br><span class="line">useradd -g bandit xh</span><br><span class="line">passwd xh</span><br><span class="line">useradd -g bandit xq</span><br><span class="line">passwd xq</span><br><span class="line"><span class="comment"># jack 创建一个文件，自己可以读写，本组人可以读，其他人没有任何权限</span></span><br><span class="line"><span class="built_in">touch</span> test1.txt</span><br><span class="line"><span class="built_in">chmod</span> 641 test1.txt</span><br><span class="line"><span class="comment"># jack 修改文件权限，本组人可以读写，其他人可以读</span></span><br><span class="line"><span class="built_in">chmod</span> g=rw,o=r test1.txt</span><br><span class="line"><span class="comment"># xh 投靠警察，看看是否可以读写</span></span><br><span class="line">usermod -g police xh</span><br><span class="line"><span class="built_in">id</span> xh</span><br><span class="line"><span class="built_in">chmod</span> g=x test1.txt <span class="comment"># x 可以保证xh cd jack, 读写test1.txt，但是不能使用ls</span></span><br><span class="line"><span class="built_in">logout</span> <span class="comment"># xh, 重新登录刷新权限</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="crond-任务调度"><a href="#crond-任务调度" class="headerlink" title="crond 任务调度"></a>crond 任务调度</h2><p>定时运行特定的命令或者脚本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line">yum -y install vixie-cron</span><br><span class="line">yum -y install crontabs</span><br><span class="line"><span class="comment"># 启动</span></span><br><span class="line">systemctl start crond.service</span><br><span class="line">systemctl status crond.service</span><br><span class="line"><span class="comment"># 使用</span></span><br><span class="line">crontab -e</span><br><span class="line">*/1 * * * * <span class="built_in">ls</span> -l /etc/ &gt; /tmp/to.txt</span><br><span class="line"><span class="comment"># 五个*分别表示：</span></span><br><span class="line"><span class="comment"># 一小时中的第几分钟: 0-59</span></span><br><span class="line"><span class="comment"># 一天的第几个小时 :  0-23</span></span><br><span class="line"><span class="comment"># 一个月的第几天   :  1-31</span></span><br><span class="line"><span class="comment"># 一年的第几个月   :  1-12</span></span><br><span class="line"><span class="comment"># 一周的第几周     :  0-7 (0表示星期日)</span></span><br><span class="line">* 23-7/1 1,3 * *  <span class="comment"># 每个月的第1,3天的晚上11点到早上7点之间，每隔一小时</span></span><br><span class="line"></span><br><span class="line">crontab -l <span class="comment"># 查看定时任务</span></span><br><span class="line">crontab -r <span class="comment"># 删除所有定时任务</span></span><br><span class="line">systemctl crond restart <span class="comment"># 重启任务调度</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 案例1：每隔1分钟，将当前日期信息追加到 /tmp/mydate 中</span></span><br><span class="line"><span class="comment"># 编写脚本</span></span><br><span class="line">vim /home/mytask1.sh</span><br><span class="line">data &gt;&gt; /tmp/mydate</span><br><span class="line"><span class="built_in">chmod</span> u+x mytask1.sh</span><br><span class="line"><span class="comment"># 定时运行</span></span><br><span class="line">crontab -e</span><br><span class="line">*/1 * * * * /home/mytask1.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 多个调度任务</span></span><br><span class="line">crontab -e</span><br><span class="line">*/1 * * * * /home/mytask1.sh</span><br><span class="line">0   2 * * * /home/mytask2.sh</span><br></pre></td></tr></table></figure>

<h2 id="磁盘分区、挂载、查询"><a href="#磁盘分区、挂载、查询" class="headerlink" title="磁盘分区、挂载、查询"></a>磁盘分区、挂载、查询</h2><h3 id="磁盘分区、挂载"><a href="#磁盘分区、挂载" class="headerlink" title="磁盘分区、挂载"></a>磁盘分区、挂载</h3><p>分区方式：mbr分区， gpt分区</p>
<p>linux 分区：一个分区与一个目录对应。</p>
<p>IDE硬盘：hdx~<br>SCSI硬盘：sdx~</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看分区与挂载情况</span></span><br><span class="line">lsblk</span><br><span class="line">lsblk -f</span><br><span class="line">fdisk -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 挂载硬盘</span></span><br><span class="line"><span class="comment"># 1.增加硬盘</span></span><br><span class="line"><span class="comment"># 2.分区</span></span><br><span class="line">fdisk /dev/sdb</span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): m</span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): n</span><br><span class="line">p</span><br><span class="line">1</span><br><span class="line">enter</span><br><span class="line">enter</span><br><span class="line">w</span><br><span class="line"></span><br><span class="line">lsblk</span><br><span class="line"><span class="comment"># 3.格式化</span></span><br><span class="line">mkfs -t ext4 /dev/sdb1</span><br><span class="line"><span class="comment"># 4.临时挂载,挂载点下原有文件在挂载完成后会被临时隐藏</span></span><br><span class="line"><span class="built_in">mkdir</span> /home/newdisk</span><br><span class="line">mount /dev/sdb1/newdisk</span><br><span class="line">umount /dev/sdb1 <span class="comment"># 卸载</span></span><br><span class="line">umount /home/newdisk</span><br><span class="line"><span class="comment"># 5.设置永久挂载, 临时挂载在重启后会失效</span></span><br><span class="line">vi /etc/fstab</span><br><span class="line"></span><br><span class="line">/dev/sdb1  /home/newdisk   ext4    defaults   0 0</span><br><span class="line"></span><br><span class="line">mount -a <span class="comment"># 刷新</span></span><br></pre></td></tr></table></figure>

<h3 id="磁盘查询指令"><a href="#磁盘查询指令" class="headerlink" title="磁盘查询指令"></a>磁盘查询指令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span> -lh <span class="comment"># 系统整体磁盘使用情况</span></span><br><span class="line"><span class="built_in">du</span> -ach --max-depth=1 /opt <span class="comment"># 目录磁盘使用情况</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计/home下的文件个数</span></span><br><span class="line"><span class="built_in">ls</span> -l /home | grep <span class="string">&quot;^-&quot;</span> | <span class="built_in">wc</span> -l</span><br><span class="line"><span class="comment"># 统计/home下的目录个数</span></span><br><span class="line"><span class="built_in">ls</span> -l /home | grep <span class="string">&quot;^d&quot;</span> | <span class="built_in">wc</span> -l</span><br><span class="line"><span class="comment"># 统计/home下的文件个数，包括子文件夹中的</span></span><br><span class="line"><span class="built_in">ls</span> -lR /home | grep <span class="string">&quot;^-&quot;</span> | <span class="built_in">wc</span> -l</span><br><span class="line"><span class="comment"># tree</span></span><br><span class="line">tree /home</span><br></pre></td></tr></table></figure>

<h2 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h2><p>宿主机:<br>真实网卡: 192.168.2.125<br>vmnet8 : 192.128.184.1<br>虚拟机 : 192.168.184.125<br>小王   : 192.168.2.111</p>
<p>虚拟机：<br>子网IP: 192.128.184.0<br>网关:   192.128.184.2</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 指定固定ip</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-ens33 <span class="comment"># 网卡配置文件</span></span><br><span class="line"></span><br><span class="line">BOOTPROTO=<span class="string">&quot;static&quot;</span></span><br><span class="line">IPADDR=<span class="string">&quot;192.168.44.128&quot;</span></span><br><span class="line">NETMASK=<span class="string">&quot;255.255.255.0&quot;</span></span><br><span class="line">GATEWAY=<span class="string">&quot;192.168.44.2&quot;</span></span><br><span class="line">DNS1=<span class="string">&quot;8.8.8.8&quot;</span></span><br><span class="line">ONBOOT=<span class="string">&quot;yes&quot;</span></span><br><span class="line"></span><br><span class="line">systemctl restart network</span><br></pre></td></tr></table></figure>

<h2 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h2><p>linux中，每个执行的程序都称为一个进程，每个进程分配一个ID号<br>每个进程，都会对应一个父进程，每个父进程可以复制多个子进程<br>每个进程以两种方式存在：前台和后台<br>一般系统的服务都是以后台进程的形式存在，监听某个端口。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看进程</span></span><br><span class="line">ps -aux</span><br><span class="line">ps -aux | more</span><br><span class="line">ps -aux | grep sshd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看父进程</span></span><br><span class="line">ps -ef</span><br><span class="line">ps -ef | grep sshd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 终止进程</span></span><br><span class="line"><span class="built_in">kill</span> 进程号</span><br><span class="line"><span class="built_in">kill</span> -9 进程号</span><br><span class="line"></span><br><span class="line">killall 进程名(支持通配符)</span><br><span class="line">killall gedit</span><br><span class="line">killall 父进程名</span><br><span class="line">ps -aux | grep bash <span class="comment"># 终端进程 /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看进程</span></span><br><span class="line">pstree</span><br><span class="line">pstree -p <span class="comment"># 显示 PID</span></span><br><span class="line">pstree -u <span class="comment"># 显示用户</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 服务管理</span></span><br><span class="line">systemctl start stop restart reload status</span><br><span class="line">systemctl <span class="built_in">enable</span> <span class="built_in">disable</span> <span class="comment"># 开机启动、禁用</span></span><br><span class="line">systemctl start firewalld</span><br><span class="line"></span><br><span class="line"><span class="comment"># firewalld 防火墙</span></span><br><span class="line">firewall-cmd--zone=public --list-ports <span class="comment"># 查看打开的端口</span></span><br><span class="line">firewall-cmd --zone=public --add-port=80/tcp --permanent <span class="comment"># 开端口</span></span><br><span class="line">firewall-cmd --reload <span class="comment"># 更新</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 宿主机执行 telnet 查看端口是否可以访问</span></span><br><span class="line">telnet 192.168.44.130 22</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出所有服务</span></span><br><span class="line">setup</span><br><span class="line">systemctl list-units --<span class="built_in">type</span>=service</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看或者修改服务在不同运行级别的自启动情况</span></span><br><span class="line">0: 系统停机状态，系统默认运行级别不能设为0，否则不能正常启动</span><br><span class="line">1: 单用户工作状态，root权限，用于系统维护，禁止远程登录</span><br><span class="line">2: 多用户无网络状态</span><br><span class="line">3: 多用户有网络状态</span><br><span class="line">4: 保留</span><br><span class="line">5: 图形GUI</span><br><span class="line">6: 系统正常关闭并重启，系统默认运行级别不能设为6，否则不能正常启动</span><br><span class="line"></span><br><span class="line">sshd:</span><br><span class="line">在运行级别为0时，是否自启动</span><br><span class="line">在运行级别为1时，是否自启动</span><br><span class="line">在运行级别为2时，是否自启动</span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">systemctl list-units --<span class="built_in">type</span>=service</span><br><span class="line">systemctl list-unit-files --<span class="built_in">type</span>=service sshd.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># 动态监控进程</span></span><br><span class="line">top <span class="comment"># 每隔3s自动刷新</span></span><br><span class="line"><span class="comment"># 交互式操作</span></span><br><span class="line">u <span class="comment"># 回车 再输入要查询的 user tjj 回车</span></span><br><span class="line">k <span class="comment"># 回车 再输入要杀死的进程 111</span></span><br><span class="line">P <span class="comment"># 按照cpu排序</span></span><br><span class="line">N <span class="comment"># 按照PID排序</span></span><br><span class="line"><span class="comment"># 选项</span></span><br><span class="line">top -d 1 <span class="comment"># 1s刷新</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 监控网络端口状态</span></span><br><span class="line">netstat</span><br><span class="line">netstat -anp <span class="comment"># an 按照一定顺序排列，p显示哪个进程在调用</span></span><br><span class="line">netstat -anp | grep sshd</span><br><span class="line">telnet ip port <span class="comment"># 测试端口是否开启</span></span><br></pre></td></tr></table></figure>

<h2 id="rpm-与-yum"><a href="#rpm-与-yum" class="headerlink" title="rpm 与 yum"></a>rpm 与 yum</h2><p>rpm 是软件包管理器。用于互联网下载包的打包及安装工具，包含在某些Linux分发版中。生成具有 .RPM 扩展名的文件。与dpkg类似。</p>
<p>yum 是软件包管理器的前端工具。基于RPM包管理，能够从指定的服务器自动下载RPM包并安装，并且可以自动处理依赖性关系，一次安装所有依赖的软件包。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep firefox</span><br><span class="line">rpm -q firefox</span><br><span class="line">firefox-52.7.0-1.el7.centos.x86_64</span><br><span class="line">rpm -qi firefox <span class="comment"># 信息更详细</span></span><br><span class="line">rpm -ql firefox <span class="comment"># 安装文件以及安装位置</span></span><br><span class="line">rpm -qf /etc/passwd <span class="comment"># 文件属于哪个包</span></span><br><span class="line">setup-2.8.71-9.el7.noarch</span><br><span class="line"></span><br><span class="line">rpm -e firefox <span class="comment"># 卸载软件</span></span><br><span class="line">rpm -e --nodeps firefox <span class="comment"># 强制删除，不推荐</span></span><br><span class="line">rpm -ivh firefoxxxx.rpm <span class="comment"># 安装软件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># yum</span></span><br><span class="line">yum list | grep xxx <span class="comment"># 查询服务器上的包</span></span><br><span class="line">yum install xxx</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="JavaEE定制篇"><a href="#JavaEE定制篇" class="headerlink" title="JavaEE定制篇"></a>JavaEE定制篇</h1><p>jdk+tomcat+eclipse+mysql</p>
<h2 id="JDK安装与配置"><a href="#JDK安装与配置" class="headerlink" title="JDK安装与配置"></a>JDK安装与配置</h2><p>jdk-8u191-linux-x64.tar.gz</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf jdk-8u191-linux-x64.tar.gz</span><br><span class="line"><span class="comment"># jdk1.8.0_191</span></span><br><span class="line"><span class="comment"># 配置环境变量</span></span><br><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line">JAVA_HOME=/opt/jdk1.8.0_191</span><br><span class="line">PATH=/opt/jdk1.8.0_191/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME PATH</span><br><span class="line"></span><br><span class="line"><span class="comment"># 环境变量生效</span></span><br><span class="line"><span class="built_in">source</span>  /etc/profile <span class="comment"># or</span></span><br><span class="line"><span class="built_in">logout</span></span><br><span class="line"></span><br><span class="line">java</span><br><span class="line">javac</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试</span></span><br><span class="line">vim Hello.javaf</span><br><span class="line"></span><br><span class="line">public class Hello&#123;</span><br><span class="line">  public static void main(String[] args)&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">javac Hello.java <span class="comment"># 编译</span></span><br><span class="line"><span class="comment"># Hello.class</span></span><br><span class="line">java Hello</span><br><span class="line"><span class="comment"># hello</span></span><br></pre></td></tr></table></figure>

<h2 id="tomcat"><a href="#tomcat" class="headerlink" title="tomcat"></a>tomcat</h2><p>apache-tomcat-7.0.99.tar.gz</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf apache-tomcat-7.0.99.tar.gz</span><br><span class="line"><span class="built_in">cd</span> apache-tomcat-7.0.99/bin/</span><br><span class="line">./startup.sh  <span class="comment"># 使用linux本地的浏览器可以访问到</span></span><br><span class="line"><span class="comment"># 开放 8080 端口，使宿主机可以通过浏览器访问</span></span><br><span class="line">telnet 192.168.44.130 8080</span><br><span class="line">firewall-cmd --zone=public --add-port=8080/tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br><span class="line">192.168.44.130:8080 <span class="comment"># 宿主机也可以正常访问</span></span><br></pre></td></tr></table></figure>

<h2 id="Eclipse"><a href="#Eclipse" class="headerlink" title="Eclipse"></a>Eclipse</h2><p>eclipse-jee-2019-12-M3-linux-gtk-x86_64.tar.gz</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf eclipse-jee-2019-12-M3-linux-gtk-x86_64.tar.gz</span><br><span class="line"><span class="built_in">cd</span> eclipse</span><br><span class="line">./eclipse <span class="comment"># or 创建快捷方式</span></span><br><span class="line"></span><br><span class="line">new Dynamic Web Project</span><br><span class="line">runtime: tomcat7.0  jdk1.8.0_191</span><br><span class="line">Dynamic web module version: 2.5</span><br><span class="line"></span><br><span class="line">在工程的 WebContent 中 new jsp 文件 hello.jsp</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt; hello from Linux&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">run as on server</span><br><span class="line"></span><br><span class="line">http://localhost:8080/demo/hello.jsp</span><br><span class="line">192.168.44.130:8080/demo/hello.jsp</span><br></pre></td></tr></table></figure>

<h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><p>mysql-5.6.40.tar.gz</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/shijiaqi1066/p/4311061.html">https://www.cnblogs.com/shijiaqi1066/p/4311061.html</a><br>从源码编译安装 mysql</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 卸载旧软件</span></span><br><span class="line">rpm -qa | grep mysql</span><br><span class="line">rpm -e xxx</span><br><span class="line">rpm -e --nodeps xxx <span class="comment"># 强制删除</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装编译源码需要的包</span></span><br><span class="line">yum -y install make gcc-c++ cmake bison-devel ncurses-devel</span><br><span class="line">tar -zxvf /opt/mysql-5.6.40.tar.gz</span><br><span class="line"><span class="built_in">cd</span> /opt/mysql-5.6.40/</span><br><span class="line"><span class="comment"># 编译</span></span><br><span class="line">cmake \</span><br><span class="line">-DCMAKE_INSTALL_PREFIX=/usr/local/mysql \</span><br><span class="line">-DMYSQL_DATADIR=/usr/local/mysql/data \</span><br><span class="line">-DSYSCONFDIR=/etc \</span><br><span class="line">-DWITH_MYISAM_STORAGE_ENGINE=1 \</span><br><span class="line">-DWITH_INNOBASE_STORAGE_ENGINE=1 \</span><br><span class="line">-DWITH_MEMORY_STORAGE_ENGINE=1 \</span><br><span class="line">-DWITH_READLINE=1 \</span><br><span class="line">-DMYSQL_UNIX_ADDR=/var/lib/mysql/mysql.sock \</span><br><span class="line">-DMYSQL_TCP_PORT=3306 \</span><br><span class="line">-DENABLED_LOCAL_INFILE=1 \</span><br><span class="line">-DWITH_PARTITION_STORAGE_ENHINE=1 \</span><br><span class="line">-DEXTRA_CHARSETS=all \</span><br><span class="line">-DDEFAULT_CHARSET=utf8 \</span><br><span class="line">-DDEFAULT_COLLATION=utf8_general_ci \</span><br><span class="line"></span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 增加用户mysql和组mysql</span></span><br><span class="line"><span class="built_in">cat</span> /etc/passwd | grep mysql</span><br><span class="line"><span class="built_in">cat</span> /etc/group | grep mysql</span><br><span class="line">groupadd mysql</span><br><span class="line">useradd -g mysql mysql</span><br><span class="line"><span class="built_in">chown</span> -R mysql:mysql /usr/local/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># mysql 初始化配置，生成my.cnf</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/mysql</span><br><span class="line"><span class="comment"># tips: 启动mysql服务时，会按照一定顺序搜索my.cnf，先在/etc目录查找，找不到时会搜索 &quot;$basedir/my.cnf&quot;，</span></span><br><span class="line"><span class="comment"># 即 &quot;/usr/local/mysql/my.cnf&quot;，这是新版 MySQL 的配置文件默认路径。因此，需要将 /etc 下的my.cnf重命名为my.cnf.bak，</span></span><br><span class="line"><span class="comment"># 避免该文件对MySQL的干扰。</span></span><br><span class="line">scripts/mysql_install_db  --basedir=/usr/local/mysql --user=mysql  --datadir=/usr/local/mysql/data</span><br><span class="line"><span class="comment"># 但是打开 my.cnf, 这几项都是空的，启动服务之后，这几项又是有的，不太懂</span></span><br><span class="line"><span class="built_in">mv</span> /etc/my.cnf /etc/my.cnf.bak</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动 MySQL</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/mysql</span><br><span class="line"><span class="comment"># 将MySQL设置为系统服务并启动服务</span></span><br><span class="line"><span class="built_in">cp</span> support-files/mysql.server /etc/init.d/mysql</span><br><span class="line"><span class="built_in">mkdir</span> /var/lib/</span><br><span class="line">systemctl <span class="built_in">enable</span> mysql <span class="comment"># 自启没有成功</span></span><br><span class="line">systemctl start mysql</span><br><span class="line">netstat -anp | grep mysql <span class="comment"># 3306</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/mysql/bin</span><br><span class="line"><span class="comment"># 使用</span></span><br><span class="line">./mysql -u root</span><br><span class="line">mysql&gt;<span class="built_in">set</span> password = password(<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line">mysql&gt;quit</span><br><span class="line">./mysql -u root -p</span><br><span class="line">mysql&gt;show databases;</span><br><span class="line">mysql&gt; create database atguigu;</span><br><span class="line">mysql&gt; use atguigu;</span><br><span class="line">mysql&gt; create table user(<span class="built_in">id</span> int, name varchar(32));</span><br><span class="line">mysql&gt; insert into user value(100, <span class="string">&#x27;tom&#x27;</span>);</span><br><span class="line">mysql&gt; select * from user;</span><br></pre></td></tr></table></figure>

<p>tips: service &#x3D;&#x3D; &#x2F;etc&#x2F;init.d&#x2F;xxx &#x3D;&#x3D; systemctl</p>
<h1 id="大数据定制篇"><a href="#大数据定制篇" class="headerlink" title="大数据定制篇"></a>大数据定制篇</h1><h2 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h2><h3 id="shell入门"><a href="#shell入门" class="headerlink" title="shell入门"></a>shell入门</h3><p>应用程序–&gt;shell–&gt;Linux 内核–&gt;硬件</p>
<p>脚本格式：</p>
<ol>
<li>“#!&#x2F;bin&#x2F;bash” 开头</li>
<li>脚本有可执行权限</li>
<li>shell 没有严格的缩进，缩进只是为了更好的可读性</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">vim myShell.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello, world!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行方式1:赋予可执行权限，用相对路径或者绝对路径执行，. 执行</span></span><br><span class="line"><span class="built_in">chmod</span> a+x myShell.sh</span><br><span class="line">./myShell.sh</span><br><span class="line">/root/shell/myShell.sh</span><br><span class="line"><span class="comment"># 执行方式2:不需要可执行权限，用bash执行</span></span><br><span class="line">sh ./myShell.sh</span><br><span class="line">bash ./myShell.sh</span><br></pre></td></tr></table></figure>

<p>tips: .&#x2F;xx.sh &#x3D;&#x3D; sh xx.sh</p>
<h3 id="shell变量"><a href="#shell变量" class="headerlink" title="shell变量"></a>shell变量</h3><p>shell变量分为系统变量($HOME, $PWD， $USER等等)和用户变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">vim myShell.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;PATH=<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;USER=<span class="variable">$USER</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">chmod</span> a+x myShell.sh</span><br><span class="line">./myShell.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示环境变量</span></span><br><span class="line"><span class="built_in">set</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 变量定义</span></span><br><span class="line">a=100 <span class="comment"># 定义</span></span><br><span class="line"><span class="variable">$a</span> <span class="comment"># 引用</span></span><br><span class="line"><span class="variable">$&#123;PATH&#125;</span> <span class="comment"># 花括号引用，适用于变量名比较长的变量</span></span><br><span class="line"><span class="built_in">unset</span> a <span class="comment"># 删除变量</span></span><br><span class="line"><span class="built_in">readonly</span> a=99 <span class="comment"># 只读变量，不能被删除，不能被修改</span></span><br><span class="line"><span class="built_in">export</span> a <span class="comment"># 变量提升为全局变量，可供其他shell使用</span></span><br><span class="line"></span><br><span class="line">vim myShell.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">a=100  <span class="comment"># a=b</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$a</span>&quot;</span></span><br><span class="line"><span class="built_in">unset</span> a</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$a</span>&quot;</span></span><br><span class="line"><span class="built_in">readonly</span> b=99</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$b</span>&quot;</span></span><br><span class="line">b=98</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$b</span>&quot;</span></span><br><span class="line"><span class="built_in">unset</span> b</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$b</span>&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>变量定义的规则：</p>
<ol>
<li>等号两侧不能有空格</li>
<li>变量名称习惯大写</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 命令返回值赋值给变量</span></span><br><span class="line">A=`<span class="built_in">ls</span> -l` <span class="comment"># 反引号</span></span><br><span class="line">A=$(<span class="built_in">ls</span> -l)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 单引号，变量不解析</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$PATH&#x27;</span></span><br><span class="line"><span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$PATH</span>&quot;</span></span><br><span class="line">/usr/local...</span><br></pre></td></tr></table></figure>

<h3 id="shell-环境变量"><a href="#shell-环境变量" class="headerlink" title="shell 环境变量"></a>shell 环境变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> 变量名=变量值</span><br><span class="line"><span class="built_in">source</span></span><br><span class="line"><span class="built_in">echo</span> $变量名</span><br><span class="line"></span><br><span class="line">TOMCAT_HOME=/usr/local/tomcat</span><br><span class="line"><span class="built_in">export</span> TOMCAT_HOME</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line"><span class="built_in">export</span> TOMCAT_HOME=/usr/local/tomcat</span><br><span class="line"></span><br><span class="line"><span class="comment"># 多行注释</span></span><br><span class="line">:&lt;&lt;!</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello&quot;</span></span><br><span class="line">!</span><br></pre></td></tr></table></figure>

<h3 id="shell-位置参数变量"><a href="#shell-位置参数变量" class="headerlink" title="shell 位置参数变量"></a>shell 位置参数变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$n</span> <span class="comment"># n 为数字，$0表示命令本身，1-9表示第一到第九的九个参数，大于十的参数需要大括号引用，$&#123;10&#125;</span></span><br><span class="line">$* <span class="comment"># 获取当前shell脚本所有传参的参数，不加引号和$@相同，视为独立字符串；如果给$*加上双引号，例如：“$*”,则表示将所有的参数视为单个字符串，相当于“$1 $2 $3”</span></span><br><span class="line"><span class="variable">$@</span> <span class="comment"># 获取当前shell脚本所有传参的参数，不加引号和$*相同，视为独立字符串；如果给$@加上双引号,例如：“$@”,则表示将所有的参数视为独立字符串，相当于“$1“,”$2“,&quot;$3&quot;</span></span><br><span class="line"><span class="variable">$#</span> <span class="comment"># 统计参数个数</span></span><br><span class="line"></span><br><span class="line">vi positionPara.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$0</span> <span class="variable">$1</span> <span class="variable">$2</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;$*&quot;</span>s</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$#</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">chmod</span> a+x positionPara.sh</span><br><span class="line">[root@localhost shell]<span class="comment"># ./positionPara.sh 30 60</span></span><br><span class="line">./positionPara.sh 30 60</span><br><span class="line">30 60</span><br><span class="line">30 60</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$0</span> <span class="variable">$1</span> <span class="variable">$2</span>&quot;</span></span><br><span class="line"><span class="keyword">for</span> N <span class="keyword">in</span> $*</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$N</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="keyword">for</span> N <span class="keyword">in</span> <span class="variable">$@</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$N</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="keyword">for</span> N <span class="keyword">in</span> <span class="string">&quot;$*&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$N</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="keyword">for</span> N <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$N</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;$*&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$#</span>&quot;</span></span><br><span class="line"></span><br><span class="line">./positionPara.sh 30 60</span><br><span class="line"><span class="comment"># 不加双引号，视为单个字符</span></span><br><span class="line">30</span><br><span class="line">60</span><br><span class="line">30</span><br><span class="line">60</span><br><span class="line"><span class="comment"># 加双引号，$* 视为整体， $@视为单个字符</span></span><br><span class="line">30 60</span><br><span class="line">30</span><br><span class="line">60</span><br><span class="line">30 60</span><br><span class="line">30 60</span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<h3 id="Shell-预定义变量"><a href="#Shell-预定义变量" class="headerlink" title="Shell 预定义变量"></a>Shell 预定义变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$$ <span class="comment"># 当前进程号 PID</span></span><br><span class="line">$! <span class="comment"># 后台运行的最后一个进程的进程号 PID</span></span><br><span class="line">$? <span class="comment"># 最后一次执行的命令的返回状态，0 表示正确执行，非 0 表示不正确执行</span></span><br><span class="line"></span><br><span class="line">vim preVar.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> $$</span><br><span class="line">./myShell.sh &amp; <span class="comment"># 后台执行</span></span><br><span class="line"><span class="built_in">echo</span> $!</span><br><span class="line"><span class="built_in">echo</span> $?</span><br><span class="line"></span><br><span class="line">[root@localhost shell]<span class="comment"># ./preVar.sh</span></span><br><span class="line">122809</span><br><span class="line">122810</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h3 id="Shell-运算符"><a href="#Shell-运算符" class="headerlink" title="Shell 运算符"></a>Shell 运算符</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$((表达式)) <span class="comment"># 两个小括号</span></span><br><span class="line">$[表达式] <span class="comment"># 一个中括号，推荐使用</span></span><br><span class="line"><span class="built_in">expr</span> <span class="comment"># 运算符两边有空格，反引号引用，\*</span></span><br><span class="line"></span><br><span class="line">vim demo.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> $(((<span class="number">2</span>+<span class="number">3</span>)*<span class="number">4</span>))</span><br><span class="line"><span class="built_in">echo</span> $[(2+3)*4]</span><br><span class="line">TMP=`<span class="built_in">expr</span> 2 + 3`</span><br><span class="line">RES=`<span class="built_in">expr</span> <span class="variable">$TMP</span> \* 4`</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$RES</span></span><br><span class="line">RES=`<span class="built_in">expr</span> \( 2 + 3 \) \* 4`</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$RES</span></span><br><span class="line"></span><br><span class="line">20</span><br><span class="line">20</span><br><span class="line">20</span><br><span class="line">20</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Shell-判断语句"><a href="#Shell-判断语句" class="headerlink" title="Shell 判断语句"></a>Shell 判断语句</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[ condition ] <span class="comment"># condition 前后都有空格，非空或者0返回true，空或者&gt;1 返回false</span></span><br><span class="line"></span><br><span class="line">[ guigu ] <span class="comment"># 返回 true</span></span><br><span class="line">[] <span class="comment"># 返回false</span></span><br><span class="line">[ condition ] &amp;&amp; <span class="built_in">echo</span> OK || <span class="built_in">echo</span> notOK</span><br><span class="line"></span><br><span class="line"><span class="comment"># 主要判断条件</span></span><br><span class="line"><span class="comment"># 1. 整数比较</span></span><br><span class="line">== <span class="comment"># 字符串相等</span></span><br><span class="line">-lt <span class="comment"># 小于 less than</span></span><br><span class="line">-le <span class="comment"># less equal</span></span><br><span class="line">-eq</span><br><span class="line">-gt</span><br><span class="line">-ge</span><br><span class="line">-ne</span><br><span class="line"><span class="comment"># 2. 文件权限</span></span><br><span class="line">-r <span class="comment"># 可读 [ -r file ]</span></span><br><span class="line">-w <span class="comment"># 可写</span></span><br><span class="line">-x <span class="comment"># 可执行</span></span><br><span class="line"><span class="comment"># 3. 文件类型</span></span><br><span class="line">-f <span class="comment"># 文件存在并且是一个常规文件 [ -f file ]</span></span><br><span class="line">-e <span class="comment"># 文件存在</span></span><br><span class="line">-d <span class="comment"># 文件存在且是一个目录</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[ <span class="string">&#x27;ab&#x27;</span>==<span class="string">&#x27;ab&#x27;</span> ] &amp;&amp; <span class="built_in">echo</span> OK || <span class="built_in">echo</span> notOK</span><br><span class="line">[ 12 -lt 12 ] &amp;&amp; <span class="built_in">echo</span> OK || <span class="built_in">echo</span> notOK</span><br></pre></td></tr></table></figure>

<h3 id="Shell-流程控制-if"><a href="#Shell-流程控制-if" class="headerlink" title="Shell 流程控制 if"></a>Shell 流程控制 if</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># if</span></span><br><span class="line"><span class="comment"># 中括号和command之间需要有空格</span></span><br><span class="line"><span class="comment"># 第一种，注意分号</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="built_in">command</span> ];<span class="keyword">then</span></span><br><span class="line">  程序</span><br><span class="line"><span class="keyword">elif</span> [ <span class="built_in">command</span> ];<span class="keyword">then</span></span><br><span class="line">  程序</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  程序</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># 第二种</span></span><br><span class="line"><span class="keyword">if</span> [ 条件判断句 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">  程序</span><br><span class="line"><span class="keyword">elif</span> [ 条件判断句 ]</span><br><span class="line">  程序</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  程序</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># testif.sh</span></span><br><span class="line">vim testif.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$1</span> -ge 60 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;you are OK&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;you are not OK&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">chmod</span> a+x testif.sh</span><br><span class="line">./testif.sh 66</span><br></pre></td></tr></table></figure>

<h3 id="Shell-流程控制-case"><a href="#Shell-流程控制-case" class="headerlink" title="Shell 流程控制 case"></a>Shell 流程控制 case</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> $变量名 <span class="keyword">in</span></span><br><span class="line"><span class="string">&quot;值1&quot;</span>)</span><br><span class="line">  程序1</span><br><span class="line">  ;;</span><br><span class="line"><span class="string">&quot;值2&quot;</span>)</span><br><span class="line">  程序2</span><br><span class="line">  ;;</span><br><span class="line">*)</span><br><span class="line">  程序3</span><br><span class="line">  ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># testcase.sh</span></span><br><span class="line">vim testcase.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line"><span class="string">&quot;1&quot;</span>)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">    ;;</span><br><span class="line"><span class="string">&quot;2&quot;</span>)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;2&quot;</span></span><br><span class="line">    ;;</span><br><span class="line">*)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;*&quot;</span></span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"></span><br><span class="line">bash testcase.sh 1</span><br></pre></td></tr></table></figure>

<h3 id="Shell-流程控制-for"><a href="#Shell-流程控制-for" class="headerlink" title="Shell 流程控制 for"></a>Shell 流程控制 for</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方式一</span></span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> 值1 值2 ...</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  程序</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment"># 方式二:初始值;循环控制条件；变量变化 与C类似</span></span><br><span class="line"><span class="keyword">for</span> ((初始值;循环控制条件；变量变化))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  程序</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方式一：testfor1.sh</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> <span class="variable">$@</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$var</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">[root@localhost shell]<span class="comment"># bash testfor1.sh 1 2 3</span></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> 1 2 3</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$var</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方式二：testfor2.sh</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">SUM=0</span><br><span class="line"><span class="keyword">for</span>((i=1;i&lt;=100;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    SUM=$[<span class="variable">$SUM</span>+<span class="variable">$i</span>]</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$SUM</span></span><br><span class="line"></span><br><span class="line">5050</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Shell-循环控制-while"><a href="#Shell-循环控制-while" class="headerlink" title="Shell 循环控制 while"></a>Shell 循环控制 while</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> [ 条件判断句 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  程序</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># testwhile.sh</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">SUM=0</span><br><span class="line">i=0</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -le <span class="variable">$1</span> ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    SUM=$[<span class="variable">$SUM</span>+<span class="variable">$i</span>]</span><br><span class="line">    i=$[<span class="variable">$i</span>+1]</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$SUM</span></span><br><span class="line"></span><br><span class="line">bash testwhile.sh 10</span><br></pre></td></tr></table></figure>

<h3 id="Shell-读取控制台输入"><a href="#Shell-读取控制台输入" class="headerlink" title="Shell 读取控制台输入"></a>Shell 读取控制台输入</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">read</span> [选项](参数)</span><br><span class="line">-p: 指定读取数值时的提示符</span><br><span class="line">-t: 指定读取数值时等待的时间</span><br><span class="line">参数: 指定读取数值的变量名</span><br><span class="line"></span><br><span class="line"><span class="comment"># testread.sh</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;num1:&quot;</span> NUM1</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$NUM1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;num2:&quot;</span> -t 10 NUM2</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$NUM2</span></span><br></pre></td></tr></table></figure>

<h3 id="Shell-系统函数"><a href="#Shell-系统函数" class="headerlink" title="Shell 系统函数"></a>Shell 系统函数</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. basename:用于返回完整路径，常用于获取文件名</span></span><br><span class="line"><span class="built_in">basename</span> [pathname] [suffix]</span><br><span class="line"></span><br><span class="line">[root@localhost shell]<span class="comment"># basename /home/tjj/bbb.txt</span></span><br><span class="line">bbb.txt</span><br><span class="line">[root@localhost shell]<span class="comment"># basename /home/tjj/bbb.txt .txt</span></span><br><span class="line">bbb</span><br><span class="line">[root@localhost shell]<span class="comment"># basename /home/tjj/bbb.txt .sh</span></span><br><span class="line">bbb.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. dirname: 返回路径部分</span></span><br><span class="line"></span><br><span class="line">[root@localhost shell]<span class="comment"># dirname /home/tjj/bbb.txt</span></span><br><span class="line">/home/tjj</span><br></pre></td></tr></table></figure>

<h3 id="Shell-自定义函数"><a href="#Shell-自定义函数" class="headerlink" title="Shell 自定义函数"></a>Shell 自定义函数</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [] 表示可选，function和()保留一个或者两个都行</span></span><br><span class="line">[<span class="keyword">function</span>] funname [()]</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment"># 函数内部的参数获取和shell的位置参数一致</span></span><br><span class="line">  <span class="comment"># return 0-255</span></span><br><span class="line">  Action</span><br><span class="line">  [<span class="built_in">return</span> int]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">funname 参数值</span><br><span class="line"></span><br><span class="line"><span class="comment"># testfun1.sh</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">getSum</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    SUM=$[<span class="variable">$n1</span>+<span class="variable">$n2</span>]</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$SUM</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;n1&quot;</span> n1</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;n2&quot;</span> n2</span><br><span class="line">getSum <span class="variable">$n1</span> <span class="variable">$n2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># testfun2.sh</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">getSum</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    SUM=$[<span class="variable">$n1</span>+<span class="variable">$n2</span>]</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$SUM</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;n1&quot;</span> n1</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;n2&quot;</span> n2</span><br><span class="line">getSum</span><br><span class="line"></span><br><span class="line"><span class="comment"># testfun3.sh</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">getSum</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    SUM=$[<span class="variable">$1</span>+<span class="variable">$2</span>]</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$SUM</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;n1&quot;</span> n1</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;n2&quot;</span> n2</span><br><span class="line">getSum <span class="variable">$n1</span> <span class="variable">$n2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Shell-定时维护数据库"><a href="#Shell-定时维护数据库" class="headerlink" title="Shell 定时维护数据库"></a>Shell 定时维护数据库</h3><p>任务要求：</p>
<ol>
<li>每天凌晨2:10备份数据库atguigu到&#x2F;data&#x2F;backup&#x2F;db</li>
<li>备份开始和结束给出提示信息</li>
<li>备份后的文件以备份时间为文件名，打包成 .tar.gz 格式</li>
<li>备份的同时检查是否有10天前的数据库文件，如果有，将其删除</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/sbin</span><br><span class="line">vim mysql_db_backup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">BACKUP=/data/backup/db</span><br><span class="line">DATETIME=$(<span class="built_in">date</span> <span class="string">&quot;+%Y_%m_%d_%H%M%S&quot;</span>)</span><br><span class="line">[ ! -d <span class="string">&quot;<span class="variable">$BACKUP</span>/<span class="variable">$DATETIME</span>&quot;</span> ] &amp;&amp; <span class="built_in">mkdir</span> -p <span class="variable">$BACKUP</span>/<span class="variable">$DATETIME</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;===========backup begin=========&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;the filepath is <span class="variable">$BACKUP</span>/<span class="variable">$DATETIME</span>.tar.gz&quot;</span></span><br><span class="line"></span><br><span class="line">HOST=localhost</span><br><span class="line">DB_USER=root</span><br><span class="line">DB_PWD=root</span><br><span class="line">DATABASE=atguigu</span><br><span class="line">mysqldump -u<span class="variable">$&#123;DB_USER&#125;</span> -p<span class="variable">$&#123;DB_PWD&#125;</span> --host=<span class="variable">$HOST</span> <span class="variable">$DATABASE</span> | gzip &gt; <span class="variable">$BACKUP</span>/<span class="variable">$DATETIME</span>/<span class="variable">$DATETIME</span>.sql.gz</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$BACKUP</span></span><br><span class="line">tar -zcvf <span class="variable">$DATETIME</span>.tar.gz <span class="variable">$DATETIME</span></span><br><span class="line"><span class="built_in">rm</span> -rf <span class="variable">$BACKUP</span>/<span class="variable">$DATETIME</span></span><br><span class="line"></span><br><span class="line">find -mtime +10 -name <span class="string">&quot;.tar.gz&quot;</span> -<span class="built_in">exec</span> <span class="built_in">rm</span> -rf <span class="string">&#x27;&#123;&#125;&#x27;</span> \;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;=============backup end============&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定时调度</span></span><br><span class="line">crontab -e</span><br><span class="line">10 2 * * * /usr/sbin/mysql_db_backup.sh</span><br></pre></td></tr></table></figure>

<h1 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">https://mirrors.tuna.tsinghua.edu.cn/</span><br><span class="line">/etc/apt/sources.list</span><br><span class="line">apt-get update <span class="comment"># 更新源 /etc/apt/sources.list</span></span><br><span class="line">apt-get upgrade <span class="comment"># 更新软件</span></span><br><span class="line">apt-get install\remove</span><br><span class="line">apt-cache show package <span class="comment"># 获取包的信息</span></span><br><span class="line">apt-get <span class="built_in">source</span> package <span class="comment"># 获取包的源代码</span></span><br><span class="line"><span class="comment"># sudo 重定向</span></span><br><span class="line">sudo sh -c <span class="string">&quot;echo &#x27;&#x27; &gt; sources.list&quot;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/12/06/Linux/" data-id="cla55fgd40014wka778qtfe4x" data-title="Linux" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/12/18/grep/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          grep
        
      </div>
    </a>
  
  
    <a href="/2019/11/20/docker/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">docker</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/408/">408</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/408/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/">计算机组成原理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/408/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/DeepLearning/">DeepLearning</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/GAN/">GAN</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/GPU/">GPU</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Markdown/">Markdown</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/VOS/">VOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/attention/">attention</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/cuda/">cuda</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/deep-learning/">deep learning</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/deep-learning/">deep-learning</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/face-recognition/">face recognition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/github-markdown/">github-markdown</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/html/">html</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ind1/">ind1</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/markdown/">markdown</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/object-detection/">object detection</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/paper/">paper</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/person-re-id/">person re-id</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/person-reid/">person-reid</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/preson-re-id/">preson re-id</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/pytorch/">pytorch</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/re-ID/">re-ID</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/re-id/">re-id</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/segmentation/">segmentation</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/semantice-segmentation/">semantice segmentation</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tensorboard/">tensorboard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tensorflow/">tensorflow</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/unsupervised-video-object-segmentation/">unsupervised video object segmentation</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/unsupervised-video-object-segmentation/VOS/">VOS</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%B9%E5%99%A8/">容器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">搭建博客</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/408/">408</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/408/" rel="tag">408</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CMC/" rel="tag">CMC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CNN/" rel="tag">CNN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GAN/" rel="tag">GAN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Grad-CAM/" rel="tag">Grad-CAM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RotationNet/" rel="tag">RotationNet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SE/" rel="tag">SE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SPGAN/" rel="tag">SPGAN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VOS/" rel="tag">VOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/a/" rel="tag">a</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/attention/" rel="tag">attention</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/b/" rel="tag">b</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cross-domain/" rel="tag">cross domain</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cross-domain-person-re-id/" rel="tag">cross-domain person re-id</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cuda/" rel="tag">cuda</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cudnn/" rel="tag">cudnn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cycleGAN/" rel="tag">cycleGAN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/data/" rel="tag">data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/data-VOS/" rel="tag">data_VOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deep-learning/" rel="tag">deep-learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/domain-adaption/" rel="tag">domain adaption</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/domain-guided-distillation/" rel="tag">domain guided distillation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/driver/" rel="tag">driver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/face-recognition/" rel="tag">face recognition</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/face-synthesis/" rel="tag">face synthesis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/few-shot/" rel="tag">few-shot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/few-shot-learning/" rel="tag">few-shot learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/" rel="tag">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/" rel="tag">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mask-and-colour/" rel="tag">mask and colour</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/" rel="tag">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mathjax/" rel="tag">mathjax</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/memory/" rel="tag">memory</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/meta-learning/" rel="tag">meta-learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/multi-domain/" rel="tag">multi-domain</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/" rel="tag">network</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/neural-style-transfer/" rel="tag">neural style transfer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/" rel="tag">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/numpy/" rel="tag">numpy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/object-detection/" rel="tag">object detection</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/one-example/" rel="tag">one_example</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/paper/" rel="tag">paper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/person-re-id/" rel="tag">person re-id</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/person-re-identification/" rel="tag">person re-identification</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/person-reid/" rel="tag">person-reid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python-picture/" rel="tag">python,picture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pytorch/" rel="tag">pytorch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pytorch-learn-chenyun/" rel="tag">pytorch-learn chenyun</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/re-ID/" rel="tag">re-ID</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/re-id/" rel="tag">re-id</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/segmentation/" rel="tag">segmentation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/semantice-segmentation/" rel="tag">semantice segmentation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sharelatex/" rel="tag">sharelatex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/softmax/" rel="tag">softmax</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/starGAN/" rel="tag">starGAN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tensorboard/" rel="tag">tensorboard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tensorflow/" rel="tag">tensorflow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/transfer-learning/" rel="tag">transfer learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%B7%E7%A7%AF-%E5%8F%8D%E5%8D%B7%E7%A7%AF-%E7%A9%BA%E6%B4%9E%E5%8D%B7%E7%A7%AF/" rel="tag">卷积\反卷积 空洞卷积</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80/" rel="tag">基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8/" rel="tag">容器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag">计算机操作系统</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/408/" style="font-size: 15px;">408</a> <a href="/tags/CMC/" style="font-size: 10px;">CMC</a> <a href="/tags/CNN/" style="font-size: 10px;">CNN</a> <a href="/tags/GAN/" style="font-size: 20px;">GAN</a> <a href="/tags/Grad-CAM/" style="font-size: 10px;">Grad-CAM</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/RotationNet/" style="font-size: 10px;">RotationNet</a> <a href="/tags/SE/" style="font-size: 10px;">SE</a> <a href="/tags/SPGAN/" style="font-size: 10px;">SPGAN</a> <a href="/tags/VOS/" style="font-size: 10px;">VOS</a> <a href="/tags/a/" style="font-size: 10px;">a</a> <a href="/tags/attention/" style="font-size: 13.33px;">attention</a> <a href="/tags/b/" style="font-size: 10px;">b</a> <a href="/tags/cross-domain/" style="font-size: 10px;">cross domain</a> <a href="/tags/cross-domain-person-re-id/" style="font-size: 10px;">cross-domain person re-id</a> <a href="/tags/cuda/" style="font-size: 11.67px;">cuda</a> <a href="/tags/cudnn/" style="font-size: 10px;">cudnn</a> <a href="/tags/cycleGAN/" style="font-size: 10px;">cycleGAN</a> <a href="/tags/data/" style="font-size: 10px;">data</a> <a href="/tags/data-VOS/" style="font-size: 10px;">data_VOS</a> <a href="/tags/deep-learning/" style="font-size: 10px;">deep-learning</a> <a href="/tags/docker/" style="font-size: 11.67px;">docker</a> <a href="/tags/domain-adaption/" style="font-size: 10px;">domain adaption</a> <a href="/tags/domain-guided-distillation/" style="font-size: 10px;">domain guided distillation</a> <a href="/tags/driver/" style="font-size: 10px;">driver</a> <a href="/tags/face-recognition/" style="font-size: 10px;">face recognition</a> <a href="/tags/face-synthesis/" style="font-size: 10px;">face synthesis</a> <a href="/tags/few-shot/" style="font-size: 10px;">few-shot</a> <a href="/tags/few-shot-learning/" style="font-size: 10px;">few-shot learning</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/github/" style="font-size: 11.67px;">github</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/markdown/" style="font-size: 11.67px;">markdown</a> <a href="/tags/mask-and-colour/" style="font-size: 10px;">mask and colour</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mathjax/" style="font-size: 10px;">mathjax</a> <a href="/tags/memory/" style="font-size: 11.67px;">memory</a> <a href="/tags/meta-learning/" style="font-size: 10px;">meta-learning</a> <a href="/tags/multi-domain/" style="font-size: 10px;">multi-domain</a> <a href="/tags/network/" style="font-size: 10px;">network</a> <a href="/tags/neural-style-transfer/" style="font-size: 10px;">neural style transfer</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/numpy/" style="font-size: 11.67px;">numpy</a> <a href="/tags/object-detection/" style="font-size: 10px;">object detection</a> <a href="/tags/one-example/" style="font-size: 10px;">one_example</a> <a href="/tags/paper/" style="font-size: 15px;">paper</a> <a href="/tags/person-re-id/" style="font-size: 18.33px;">person re-id</a> <a href="/tags/person-re-identification/" style="font-size: 10px;">person re-identification</a> <a href="/tags/person-reid/" style="font-size: 11.67px;">person-reid</a> <a href="/tags/python/" style="font-size: 13.33px;">python</a> <a href="/tags/python-picture/" style="font-size: 10px;">python,picture</a> <a href="/tags/pytorch/" style="font-size: 16.67px;">pytorch</a> <a href="/tags/pytorch-learn-chenyun/" style="font-size: 10px;">pytorch-learn chenyun</a> <a href="/tags/re-ID/" style="font-size: 10px;">re-ID</a> <a href="/tags/re-id/" style="font-size: 11.67px;">re-id</a> <a href="/tags/segmentation/" style="font-size: 10px;">segmentation</a> <a href="/tags/semantice-segmentation/" style="font-size: 10px;">semantice segmentation</a> <a href="/tags/sharelatex/" style="font-size: 10px;">sharelatex</a> <a href="/tags/softmax/" style="font-size: 10px;">softmax</a> <a href="/tags/starGAN/" style="font-size: 10px;">starGAN</a> <a href="/tags/tensorboard/" style="font-size: 10px;">tensorboard</a> <a href="/tags/tensorflow/" style="font-size: 13.33px;">tensorflow</a> <a href="/tags/transfer-learning/" style="font-size: 10px;">transfer learning</a> <a href="/tags/%E5%8D%B7%E7%A7%AF-%E5%8F%8D%E5%8D%B7%E7%A7%AF-%E7%A9%BA%E6%B4%9E%E5%8D%B7%E7%A7%AF/" style="font-size: 10px;">卷积\反卷积 空洞卷积</a> <a href="/tags/%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">基础</a> <a href="/tags/%E5%AE%B9%E5%99%A8/" style="font-size: 10px;">容器</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 10px;">计算机操作系统</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/11/06/test-2011-11-06/">test_2011_11_06</a>
          </li>
        
          <li>
            <a href="/2020/09/23/python-100-days/">python_100_days</a>
          </li>
        
          <li>
            <a href="/2020/09/22/data-VOS/">data_VOS</a>
          </li>
        
          <li>
            <a href="/2020/09/22/TVOS/">TVOS</a>
          </li>
        
          <li>
            <a href="/2020/09/22/computer_system/">计算机组成原理</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>